{"version":3,"file":"swk.js","mappings":"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","sources":["webpack://SWK/webpack/universalModuleDefinition","webpack://SWK/./src/js/core/Camera.js","webpack://SWK/./src/js/core/Config.js","webpack://SWK/./src/js/core/EventEmitter.js","webpack://SWK/./src/js/core/Initializer.js","webpack://SWK/./src/js/core/Lighting.js","webpack://SWK/./src/js/core/Renderer.js","webpack://SWK/./src/js/core/Scene.js","webpack://SWK/./src/js/export/ExportManager.js","webpack://SWK/./src/js/grouping/GroupManager.js","webpack://SWK/./src/js/history/HistoryManager.js","webpack://SWK/./src/js/history/StateCapture.js","webpack://SWK/./src/js/selection/Outliner.js","webpack://SWK/./src/js/selection/Picker.js","webpack://SWK/./src/js/selection/SelectionManager.js","webpack://SWK/./src/js/shapes/ShapeFactory.js","webpack://SWK/./src/js/transform/SnapManager.js","webpack://SWK/./src/js/transform/TransformManager.js","webpack://SWK/./src/js/ui/ControlsPanel.js","webpack://SWK/./src/js/ui/OutlinerPanel.js","webpack://SWK/./src/js/ui/PropertyPanel.js","webpack://SWK/./src/js/ui/ShapesPanel.js","webpack://SWK/./src/js/ui/UIManager.js","webpack://SWK/./src/js/utils/Constants.js","webpack://SWK/./src/js/utils/Helpers.js","webpack://SWK/webpack/bootstrap","webpack://SWK/webpack/runtime/define property getters","webpack://SWK/webpack/runtime/hasOwnProperty shorthand","webpack://SWK/webpack/runtime/make namespace object","webpack://SWK/./src/js/swk.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SWK\"] = factory();\n\telse\n\t\troot[\"SWK\"] = factory();\n})(this, () => {\nreturn ","/**\r\n * Camera management (Perspective and Orthographic)\r\n */\r\n\r\nimport { CAMERA_MODES } from '../utils/Constants.js';\r\n\r\nexport default class Camera {\r\n    constructor(container, config) {\r\n        this.container = container;\r\n        this.config = config;\r\n        this.perspectiveCamera = null;\r\n        this.orthographicCamera = null;\r\n        this.currentCamera = null;\r\n        this.currentMode = config.get('camera.mode');\r\n        this.controls = null;\r\n        \r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        const width = this.container.clientWidth;\r\n        const height = this.container.clientHeight;\r\n        const aspect = width / height;\r\n        \r\n        // Create perspective camera\r\n        const fov = this.config.get('camera.fov');\r\n        const near = this.config.get('camera.near');\r\n        const far = this.config.get('camera.far');\r\n        \r\n        this.perspectiveCamera = new THREE.PerspectiveCamera(fov, aspect, near, far);\r\n        \r\n        // Create orthographic camera\r\n        const frustumSize = 10;\r\n        this.orthographicCamera = new THREE.OrthographicCamera(\r\n            frustumSize * aspect / -2,\r\n            frustumSize * aspect / 2,\r\n            frustumSize / 2,\r\n            frustumSize / -2,\r\n            near,\r\n            far\r\n        );\r\n        \r\n        // Set initial positions\r\n        const position = this.config.get('camera.position');\r\n        this.perspectiveCamera.position.set(...position);\r\n        this.orthographicCamera.position.set(...position);\r\n        \r\n        // Set current camera\r\n        this.currentCamera = this.currentMode === CAMERA_MODES.PERSPECTIVE \r\n            ? this.perspectiveCamera \r\n            : this.orthographicCamera;\r\n        \r\n        // Add resize listener\r\n        window.addEventListener('resize', this.onResize.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Handle window resize\r\n     */\r\n    onResize() {\r\n        const width = this.container.clientWidth;\r\n        const height = this.container.clientHeight;\r\n        const aspect = width / height;\r\n        \r\n        // Update perspective camera\r\n        this.perspectiveCamera.aspect = aspect;\r\n        this.perspectiveCamera.updateProjectionMatrix();\r\n        \r\n        // Update orthographic camera\r\n        const frustumSize = 10;\r\n        this.orthographicCamera.left = frustumSize * aspect / -2;\r\n        this.orthographicCamera.right = frustumSize * aspect / 2;\r\n        this.orthographicCamera.top = frustumSize / 2;\r\n        this.orthographicCamera.bottom = frustumSize / -2;\r\n        this.orthographicCamera.updateProjectionMatrix();\r\n    }\r\n\r\n    /**\r\n     * Get current camera\r\n     */\r\n    getCamera() {\r\n        return this.currentCamera;\r\n    }\r\n\r\n    /**\r\n     * Get perspective camera\r\n     */\r\n    getPerspectiveCamera() {\r\n        return this.perspectiveCamera;\r\n    }\r\n\r\n    /**\r\n     * Get orthographic camera\r\n     */\r\n    getOrthographicCamera() {\r\n        return this.orthographicCamera;\r\n    }\r\n\r\n    /**\r\n     * Set camera mode\r\n     */\r\n    setMode(mode) {\r\n        if (!Object.values(CAMERA_MODES).includes(mode)) {\r\n            console.warn(`Invalid camera mode: ${mode}`);\r\n            return;\r\n        }\r\n\r\n        // Save current camera state\r\n        const currentPosition = this.currentCamera.position.clone();\r\n        const currentTarget = this.controls ? this.controls.target.clone() : new THREE.Vector3();\r\n        \r\n        // Switch camera\r\n        this.currentMode = mode;\r\n        this.currentCamera = mode === CAMERA_MODES.PERSPECTIVE \r\n            ? this.perspectiveCamera \r\n            : this.orthographicCamera;\r\n        \r\n        // Restore camera state\r\n        this.currentCamera.position.copy(currentPosition);\r\n        \r\n        // Update controls if they exist\r\n        if (this.controls) {\r\n            this.controls.object = this.currentCamera;\r\n            this.controls.target.copy(currentTarget);\r\n            this.controls.update();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get current mode\r\n     */\r\n    getMode() {\r\n        return this.currentMode;\r\n    }\r\n\r\n    /**\r\n     * Set orbit controls\r\n     */\r\n    setControls(controls) {\r\n        this.controls = controls;\r\n    }\r\n\r\n    /**\r\n     * Reset camera position\r\n     */\r\n    reset() {\r\n        const position = this.config.get('camera.position');\r\n        this.currentCamera.position.set(...position);\r\n        if (this.controls) {\r\n            this.controls.target.set(0, 0, 0);\r\n            this.controls.update();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Dispose camera\r\n     */\r\n    dispose() {\r\n        window.removeEventListener('resize', this.onResize.bind(this));\r\n    }\r\n}\r\n","/**\r\n * Configuration management with defaults and validation\r\n */\r\n\r\nimport { \r\n    DEFAULT_COLORS, \r\n    GRID_SETTINGS, \r\n    CAMERA_SETTINGS, \r\n    LIGHTING,\r\n    HISTORY_MAX_SIZE,\r\n    CAMERA_MODES,\r\n    TRANSFORM_MODES,\r\n    OUTLINE_THICKNESS\r\n} from '../utils/Constants.js';\r\nimport { deepMerge } from '../utils/Helpers.js';\r\n\r\n/**\r\n * Default configuration\r\n */\r\nexport const DEFAULT_CONFIG = {\r\n    // Container & Sizing\r\n    container: null,\r\n    width: '100%',\r\n    height: '100%',\r\n    \r\n    // Viewport Appearance\r\n    viewportBackground: `#${DEFAULT_COLORS.VIEWPORT_BG.toString(16).padStart(6, '0')}`,\r\n    outlineColor: `#${DEFAULT_COLORS.OUTLINE.toString(16).padStart(6, '0')}`,\r\n    outlineThickness: OUTLINE_THICKNESS,\r\n    \r\n    // Grid\r\n    grid: {\r\n        show: true,\r\n        size: GRID_SETTINGS.SIZE,\r\n        divisions: GRID_SETTINGS.DIVISIONS,\r\n        centerColor: `#${DEFAULT_COLORS.GRID_CENTER.toString(16).padStart(6, '0')}`,\r\n        linesColor: `#${DEFAULT_COLORS.GRID_LINES.toString(16).padStart(6, '0')}`\r\n    },\r\n    \r\n    // Camera\r\n    camera: {\r\n        mode: CAMERA_MODES.PERSPECTIVE,\r\n        fov: CAMERA_SETTINGS.FOV,\r\n        near: CAMERA_SETTINGS.NEAR,\r\n        far: CAMERA_SETTINGS.FAR,\r\n        position: [...CAMERA_SETTINGS.POSITION]\r\n    },\r\n    \r\n    // Transform\r\n    transform: {\r\n        mode: TRANSFORM_MODES.TRANSLATE,\r\n        space: 'local',\r\n        snapUnit: 0.1\r\n    },\r\n    \r\n    // Lighting\r\n    lighting: {\r\n        ambient: {\r\n            intensity: LIGHTING.AMBIENT_INTENSITY,\r\n            color: `#${LIGHTING.AMBIENT_COLOR.toString(16).padStart(6, '0')}`\r\n        },\r\n        directional: {\r\n            intensity: LIGHTING.DIRECTIONAL_INTENSITY,\r\n            color: `#${LIGHTING.DIRECTIONAL_COLOR.toString(16).padStart(6, '0')}`,\r\n            position: [...LIGHTING.DIRECTIONAL_POSITION]\r\n        },\r\n        castShadow: true\r\n    },\r\n    \r\n    // UI Elements\r\n    ui: {\r\n        enabled: false, // UI disabled by default (use JS API)\r\n        panels: {\r\n            shapes: true,\r\n            properties: true,\r\n            outliner: true,\r\n            controls: true\r\n        }\r\n    },\r\n    \r\n    // Features\r\n    features: {\r\n        grouping: true,\r\n        undo: true,\r\n        export: true\r\n    },\r\n    \r\n    // History\r\n    history: {\r\n        enabled: true,\r\n        maxSize: HISTORY_MAX_SIZE\r\n    },\r\n    \r\n    // Callbacks\r\n    callbacks: {\r\n        onObjectAdded: null,\r\n        onObjectRemoved: null,\r\n        onSelectionChanged: null,\r\n        onTransformChange: null,\r\n        onGroupCreated: null,\r\n        onGroupRemoved: null\r\n    }\r\n};\r\n\r\n/**\r\n * Configuration manager\r\n */\r\nexport default class Config {\r\n    constructor(userConfig = {}) {\r\n        this.config = this.mergeConfig(userConfig);\r\n        this.validate();\r\n    }\r\n\r\n    /**\r\n     * Merge user config with defaults\r\n     */\r\n    mergeConfig(userConfig) {\r\n        return deepMerge(DEFAULT_CONFIG, userConfig);\r\n    }\r\n\r\n    /**\r\n     * Validate configuration\r\n     */\r\n    validate() {\r\n        // Validate container\r\n        if (!this.config.container) {\r\n            throw new Error('SWK: Container selector or element is required');\r\n        }\r\n\r\n        // Validate camera mode\r\n        if (!Object.values(CAMERA_MODES).includes(this.config.camera.mode)) {\r\n            console.warn(`SWK: Invalid camera mode \"${this.config.camera.mode}\", using default`);\r\n            this.config.camera.mode = CAMERA_MODES.PERSPECTIVE;\r\n        }\r\n\r\n        // Validate transform mode\r\n        if (!Object.values(TRANSFORM_MODES).includes(this.config.transform.mode)) {\r\n            console.warn(`SWK: Invalid transform mode \"${this.config.transform.mode}\", using default`);\r\n            this.config.transform.mode = TRANSFORM_MODES.TRANSLATE;\r\n        }\r\n\r\n        // Validate snap unit\r\n        if (this.config.transform.snapUnit < 0) {\r\n            console.warn('SWK: Snap unit must be non-negative, using 0');\r\n            this.config.transform.snapUnit = 0;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get configuration value\r\n     */\r\n    get(path) {\r\n        const keys = path.split('.');\r\n        let value = this.config;\r\n        \r\n        for (const key of keys) {\r\n            if (value && typeof value === 'object' && key in value) {\r\n                value = value[key];\r\n            } else {\r\n                return undefined;\r\n            }\r\n        }\r\n        \r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Set configuration value\r\n     */\r\n    set(path, value) {\r\n        const keys = path.split('.');\r\n        const lastKey = keys.pop();\r\n        let target = this.config;\r\n        \r\n        for (const key of keys) {\r\n            if (!(key in target)) {\r\n                target[key] = {};\r\n            }\r\n            target = target[key];\r\n        }\r\n        \r\n        target[lastKey] = value;\r\n    }\r\n\r\n    /**\r\n     * Get all configuration\r\n     */\r\n    getAll() {\r\n        return { ...this.config };\r\n    }\r\n}\r\n","/**\r\n * Simple event emitter for internal communication\r\n */\r\n\r\nexport default class EventEmitter {\r\n    constructor() {\r\n        this.events = {};\r\n    }\r\n\r\n    /**\r\n     * Register event listener\r\n     */\r\n    on(event, callback) {\r\n        if (!this.events[event]) {\r\n            this.events[event] = [];\r\n        }\r\n        this.events[event].push(callback);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Register one-time event listener\r\n     */\r\n    once(event, callback) {\r\n        const wrapper = (...args) => {\r\n            callback(...args);\r\n            this.off(event, wrapper);\r\n        };\r\n        return this.on(event, wrapper);\r\n    }\r\n\r\n    /**\r\n     * Remove event listener\r\n     */\r\n    off(event, callback) {\r\n        if (!this.events[event]) return this;\r\n        \r\n        if (!callback) {\r\n            delete this.events[event];\r\n        } else {\r\n            this.events[event] = this.events[event].filter(cb => cb !== callback);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Emit event\r\n     */\r\n    emit(event, ...args) {\r\n        if (!this.events[event]) return this;\r\n        \r\n        this.events[event].forEach(callback => {\r\n            try {\r\n                callback(...args);\r\n            } catch (error) {\r\n                console.error(`Error in event handler for \"${event}\":`, error);\r\n            }\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Remove all listeners\r\n     */\r\n    removeAllListeners() {\r\n        this.events = {};\r\n        return this;\r\n    }\r\n}\r\n","/**\r\n * Dual initialization system (JavaScript API and HTML attributes)\r\n */\r\n\r\nimport { parseDataAttributes } from '../utils/Helpers.js';\r\n\r\nexport default class Initializer {\r\n    /**\r\n     * Initialize from JavaScript API\r\n     */\r\n    static fromAPI(selector, options = {}) {\r\n        // Get container element\r\n        let container;\r\n        \r\n        if (typeof selector === 'string') {\r\n            container = document.querySelector(selector);\r\n            if (!container) {\r\n                throw new Error(`SWK: Container element not found: ${selector}`);\r\n            }\r\n        } else if (selector instanceof HTMLElement) {\r\n            container = selector;\r\n        } else {\r\n            throw new Error('SWK: Invalid container selector or element');\r\n        }\r\n        \r\n        // Merge options with container\r\n        return {\r\n            container,\r\n            config: options\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Auto-initialize from HTML attributes\r\n     * Note: This will be called from SWK class after it's defined\r\n     */\r\n    static autoInit(SWKClass) {\r\n        // Find all elements with data-swk attribute\r\n        const elements = document.querySelectorAll('[data-swk]');\r\n        const instances = [];\r\n        \r\n        elements.forEach(element => {\r\n            try {\r\n                // Parse data attributes\r\n                const config = parseDataAttributes(element);\r\n                \r\n                // Create SWK instance using the element and config\r\n                const instance = new SWKClass(element, config);\r\n                instances.push(instance);\r\n            } catch (error) {\r\n                console.error('SWK: Failed to auto-initialize element:', element, error);\r\n            }\r\n        });\r\n        \r\n        return instances;\r\n    }\r\n\r\n    /**\r\n     * Initialize from HTML element with data attributes\r\n     */\r\n    static fromHTML(element, parsedConfig = {}) {\r\n        if (!(element instanceof HTMLElement)) {\r\n            throw new Error('SWK: Invalid HTML element');\r\n        }\r\n        \r\n        return {\r\n            container: element,\r\n            config: parsedConfig\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Parse configuration from data attributes\r\n     */\r\n    static parseConfig(element) {\r\n        return parseDataAttributes(element);\r\n    }\r\n}\r\n","/**\r\n * Lighting setup (Ambient and Directional)\r\n */\r\n\r\nexport default class Lighting {\r\n    constructor(scene, config) {\r\n        this.scene = scene;\r\n        this.config = config;\r\n        this.ambientLight = null;\r\n        this.directionalLight = null;\r\n        \r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        // Create ambient light\r\n        const ambientIntensity = this.config.get('lighting.ambient.intensity');\r\n        const ambientColor = this.hexToNumber(this.config.get('lighting.ambient.color'));\r\n        \r\n        this.ambientLight = new THREE.AmbientLight(ambientColor, ambientIntensity);\r\n        this.scene.add(this.ambientLight);\r\n        \r\n        // Create directional light\r\n        const directionalIntensity = this.config.get('lighting.directional.intensity');\r\n        const directionalColor = this.hexToNumber(this.config.get('lighting.directional.color'));\r\n        const position = this.config.get('lighting.directional.position');\r\n        \r\n        this.directionalLight = new THREE.DirectionalLight(directionalColor, directionalIntensity);\r\n        this.directionalLight.position.set(...position);\r\n        \r\n        // Enable shadows if configured\r\n        if (this.config.get('lighting.castShadow')) {\r\n            this.directionalLight.castShadow = true;\r\n            this.directionalLight.shadow.mapSize.width = 2048;\r\n            this.directionalLight.shadow.mapSize.height = 2048;\r\n            this.directionalLight.shadow.camera.near = 0.5;\r\n            this.directionalLight.shadow.camera.far = 50;\r\n            this.directionalLight.shadow.camera.left = -10;\r\n            this.directionalLight.shadow.camera.right = 10;\r\n            this.directionalLight.shadow.camera.top = 10;\r\n            this.directionalLight.shadow.camera.bottom = -10;\r\n        }\r\n        \r\n        this.scene.add(this.directionalLight);\r\n    }\r\n\r\n    /**\r\n     * Convert hex string to number\r\n     */\r\n    hexToNumber(hex) {\r\n        return parseInt(hex.replace('#', ''), 16);\r\n    }\r\n\r\n    /**\r\n     * Set ambient light intensity\r\n     */\r\n    setAmbientIntensity(intensity) {\r\n        if (this.ambientLight) {\r\n            this.ambientLight.intensity = intensity;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set directional light intensity\r\n     */\r\n    setDirectionalIntensity(intensity) {\r\n        if (this.directionalLight) {\r\n            this.directionalLight.intensity = intensity;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set ambient light color\r\n     */\r\n    setAmbientColor(color) {\r\n        if (this.ambientLight) {\r\n            this.ambientLight.color.set(this.hexToNumber(color));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set directional light color\r\n     */\r\n    setDirectionalColor(color) {\r\n        if (this.directionalLight) {\r\n            this.directionalLight.color.set(this.hexToNumber(color));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get ambient light\r\n     */\r\n    getAmbientLight() {\r\n        return this.ambientLight;\r\n    }\r\n\r\n    /**\r\n     * Get directional light\r\n     */\r\n    getDirectionalLight() {\r\n        return this.directionalLight;\r\n    }\r\n\r\n    /**\r\n     * Dispose lighting\r\n     */\r\n    dispose() {\r\n        if (this.ambientLight) {\r\n            this.scene.remove(this.ambientLight);\r\n        }\r\n        if (this.directionalLight) {\r\n            this.scene.remove(this.directionalLight);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * THREE.js Renderer management\r\n */\r\n\r\nexport default class Renderer {\r\n    constructor(container, config) {\r\n        this.container = container;\r\n        this.config = config;\r\n        this.renderer = null;\r\n        \r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        // Create WebGL renderer\r\n        this.renderer = new THREE.WebGLRenderer({ \r\n            antialias: true,\r\n            alpha: true\r\n        });\r\n        \r\n        // Set size\r\n        const width = this.container.clientWidth;\r\n        const height = this.container.clientHeight;\r\n        this.renderer.setSize(width, height);\r\n        this.renderer.setPixelRatio(window.devicePixelRatio);\r\n        \r\n        // Set background color\r\n        const bgColor = this.config.get('viewportBackground');\r\n        this.renderer.setClearColor(this.hexToNumber(bgColor));\r\n        \r\n        // Enable shadows\r\n        this.renderer.shadowMap.enabled = true;\r\n        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n        \r\n        // Append to container\r\n        this.container.appendChild(this.renderer.domElement);\r\n        \r\n        // Add resize listener\r\n        window.addEventListener('resize', this.onResize.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Handle window resize\r\n     */\r\n    onResize() {\r\n        const width = this.container.clientWidth;\r\n        const height = this.container.clientHeight;\r\n        this.renderer.setSize(width, height);\r\n    }\r\n\r\n    /**\r\n     * Convert hex string to number\r\n     */\r\n    hexToNumber(hex) {\r\n        return parseInt(hex.replace('#', ''), 16);\r\n    }\r\n\r\n    /**\r\n     * Render scene with camera\r\n     */\r\n    render(scene, camera) {\r\n        this.renderer.render(scene, camera);\r\n    }\r\n\r\n    /**\r\n     * Get renderer instance\r\n     */\r\n    getRenderer() {\r\n        return this.renderer;\r\n    }\r\n\r\n    /**\r\n     * Set background color\r\n     */\r\n    setBackgroundColor(color) {\r\n        this.renderer.setClearColor(this.hexToNumber(color));\r\n    }\r\n\r\n    /**\r\n     * Get canvas element\r\n     */\r\n    getCanvas() {\r\n        return this.renderer.domElement;\r\n    }\r\n\r\n    /**\r\n     * Dispose renderer\r\n     */\r\n    dispose() {\r\n        window.removeEventListener('resize', this.onResize.bind(this));\r\n        if (this.renderer) {\r\n            this.renderer.dispose();\r\n            if (this.renderer.domElement.parentNode) {\r\n                this.renderer.domElement.parentNode.removeChild(this.renderer.domElement);\r\n            }\r\n        }\r\n    }\r\n}\r\n","/**\r\n * THREE.js Scene management with grid\r\n */\r\n\r\nexport default class Scene {\r\n    constructor(config) {\r\n        this.config = config;\r\n        this.scene = null;\r\n        this.gridHelper = null;\r\n        \r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        // Create scene\r\n        this.scene = new THREE.Scene();\r\n        \r\n        // Add grid if enabled\r\n        if (this.config.get('grid.show')) {\r\n            this.createGrid();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create grid helper\r\n     */\r\n    createGrid() {\r\n        const size = this.config.get('grid.size');\r\n        const divisions = this.config.get('grid.divisions');\r\n        const centerColor = this.hexToNumber(this.config.get('grid.centerColor'));\r\n        const linesColor = this.hexToNumber(this.config.get('grid.linesColor'));\r\n        \r\n        this.gridHelper = new THREE.GridHelper(size, divisions, centerColor, linesColor);\r\n        this.scene.add(this.gridHelper);\r\n    }\r\n\r\n    /**\r\n     * Convert hex string to number\r\n     */\r\n    hexToNumber(hex) {\r\n        return parseInt(hex.replace('#', ''), 16);\r\n    }\r\n\r\n    /**\r\n     * Get scene instance\r\n     */\r\n    getScene() {\r\n        return this.scene;\r\n    }\r\n\r\n    /**\r\n     * Add object to scene\r\n     */\r\n    add(object) {\r\n        this.scene.add(object);\r\n    }\r\n\r\n    /**\r\n     * Remove object from scene\r\n     */\r\n    remove(object) {\r\n        this.scene.remove(object);\r\n    }\r\n\r\n    /**\r\n     * Show grid\r\n     */\r\n    showGrid() {\r\n        if (!this.gridHelper) {\r\n            this.createGrid();\r\n        } else {\r\n            this.gridHelper.visible = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Hide grid\r\n     */\r\n    hideGrid() {\r\n        if (this.gridHelper) {\r\n            this.gridHelper.visible = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggle grid visibility\r\n     */\r\n    toggleGrid() {\r\n        if (this.gridHelper) {\r\n            this.gridHelper.visible = !this.gridHelper.visible;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Dispose scene\r\n     */\r\n    dispose() {\r\n        if (this.gridHelper) {\r\n            this.scene.remove(this.gridHelper);\r\n            this.gridHelper.geometry.dispose();\r\n            this.gridHelper.material.dispose();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * ExportManager.js\r\n * Handles exporting the scene to various 3D file formats\r\n * Supports GLTF and STL formats with proper scene preparation\r\n */\r\n\r\nimport EventEmitter from '../core/EventEmitter.js';\r\nimport { getTimestamp, downloadFile } from '../utils/Helpers.js';\r\n\r\nclass ExportManager extends EventEmitter {\r\n    /**\r\n     * @param {THREE.Scene} scene - The Three.js scene\r\n     * @param {SWK} swkInstance - Main SWK instance\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(scene, swkInstance, config) {\r\n        super();\r\n        \r\n        this.scene = scene;\r\n        this.swk = swkInstance;\r\n        this.config = config;\r\n        \r\n        // Check if exporters are available\r\n        this.hasGLTFExporter = typeof THREE !== 'undefined' && THREE.GLTFExporter;\r\n        this.hasSTLExporter = typeof THREE !== 'undefined' && THREE.STLExporter;\r\n        \r\n        if (!this.hasGLTFExporter) {\r\n            console.warn('ExportManager: GLTFExporter not found. GLTF export will not be available.');\r\n        }\r\n        \r\n        if (!this.hasSTLExporter) {\r\n            console.warn('ExportManager: STLExporter not found. STL export will not be available.');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Prepare scene for export (filter out non-exportable objects)\r\n     * @returns {Array} Array of exportable objects\r\n     */\r\n    prepareSceneForExport() {\r\n        const exportableObjects = [];\r\n        \r\n        this.scene.children.forEach(child => {\r\n            // Only export user-created objects\r\n            if (child.userData && child.userData.isShape) {\r\n                exportableObjects.push(child);\r\n            }\r\n        });\r\n        \r\n        return exportableObjects;\r\n    }\r\n\r\n    /**\r\n     * Create a temporary scene with only exportable objects\r\n     * @returns {THREE.Scene} Temporary scene for export\r\n     */\r\n    createExportScene() {\r\n        const exportScene = new THREE.Scene();\r\n        const objects = this.prepareSceneForExport();\r\n        \r\n        // Clone objects to temporary scene\r\n        objects.forEach(obj => {\r\n            const clone = obj.clone();\r\n            exportScene.add(clone);\r\n        });\r\n        \r\n        return exportScene;\r\n    }\r\n\r\n    /**\r\n     * Export scene as GLTF/GLB format\r\n     * @param {Object} options - Export options\r\n     * @param {boolean} options.binary - Export as GLB (binary) instead of GLTF\r\n     * @param {string} options.filename - Custom filename (without extension)\r\n     * @returns {Promise<boolean>} Success status\r\n     */\r\n    async exportGLTF(options = {}) {\r\n        if (!this.hasGLTFExporter) {\r\n            console.error('GLTFExporter is not available');\r\n            this.emit('exportError', { format: 'gltf', error: 'GLTFExporter not found' });\r\n            return false;\r\n        }\r\n\r\n        const binary = options.binary !== undefined ? options.binary : false;\r\n        const filename = options.filename || `scene-${getTimestamp()}`;\r\n        const extension = binary ? 'glb' : 'gltf';\r\n        \r\n        try {\r\n            this.emit('exportStart', { format: extension });\r\n            \r\n            // Create export scene\r\n            const exportScene = this.createExportScene();\r\n            \r\n            if (exportScene.children.length === 0) {\r\n                console.warn('No objects to export');\r\n                this.emit('exportError', { format: extension, error: 'No objects to export' });\r\n                return false;\r\n            }\r\n            \r\n            // Create exporter\r\n            const exporter = new THREE.GLTFExporter();\r\n            \r\n            // Export options\r\n            const exportOptions = {\r\n                binary: binary,\r\n                embedImages: true,\r\n                truncateDrawRange: false,\r\n                onlyVisible: true,\r\n                maxTextureSize: 4096\r\n            };\r\n            \r\n            // Export\r\n            return new Promise((resolve) => {\r\n                exporter.parse(\r\n                    exportScene,\r\n                    (result) => {\r\n                        try {\r\n                            if (binary) {\r\n                                // GLB - binary format\r\n                                const blob = new Blob([result], { type: 'application/octet-stream' });\r\n                                downloadFile(blob, `${filename}.${extension}`);\r\n                            } else {\r\n                                // GLTF - JSON format\r\n                                const output = JSON.stringify(result, null, 2);\r\n                                const blob = new Blob([output], { type: 'application/json' });\r\n                                downloadFile(blob, `${filename}.${extension}`);\r\n                            }\r\n                            \r\n                            console.log(`Exported ${exportScene.children.length} objects as ${extension.toUpperCase()}`);\r\n                            this.emit('exportComplete', { \r\n                                format: extension, \r\n                                filename: `${filename}.${extension}`,\r\n                                objectCount: exportScene.children.length\r\n                            });\r\n                            resolve(true);\r\n                        } catch (error) {\r\n                            console.error('Failed to download exported file:', error);\r\n                            this.emit('exportError', { format: extension, error: error.message });\r\n                            resolve(false);\r\n                        }\r\n                    },\r\n                    (error) => {\r\n                        console.error('GLTF export failed:', error);\r\n                        this.emit('exportError', { format: extension, error: error.message });\r\n                        resolve(false);\r\n                    },\r\n                    exportOptions\r\n                );\r\n            });\r\n            \r\n        } catch (error) {\r\n            console.error('GLTF export error:', error);\r\n            this.emit('exportError', { format: extension, error: error.message });\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Export scene as STL format\r\n     * @param {Object} options - Export options\r\n     * @param {boolean} options.binary - Export as binary STL instead of ASCII\r\n     * @param {string} options.filename - Custom filename (without extension)\r\n     * @returns {Promise<boolean>} Success status\r\n     */\r\n    async exportSTL(options = {}) {\r\n        if (!this.hasSTLExporter) {\r\n            console.error('STLExporter is not available');\r\n            this.emit('exportError', { format: 'stl', error: 'STLExporter not found' });\r\n            return false;\r\n        }\r\n\r\n        const binary = options.binary !== undefined ? options.binary : true;\r\n        const filename = options.filename || `scene-${getTimestamp()}`;\r\n        \r\n        try {\r\n            this.emit('exportStart', { format: 'stl' });\r\n            \r\n            // Get exportable objects\r\n            const objects = this.prepareSceneForExport();\r\n            \r\n            if (objects.length === 0) {\r\n                console.warn('No objects to export');\r\n                this.emit('exportError', { format: 'stl', error: 'No objects to export' });\r\n                return false;\r\n            }\r\n            \r\n            // Create exporter\r\n            const exporter = new THREE.STLExporter();\r\n            \r\n            // STL can only export one mesh at a time or merged geometry\r\n            // We'll create a group and export it\r\n            const exportGroup = new THREE.Group();\r\n            objects.forEach(obj => {\r\n                exportGroup.add(obj.clone());\r\n            });\r\n            \r\n            // Export\r\n            const result = exporter.parse(exportGroup, { binary: binary });\r\n            \r\n            // Download\r\n            if (binary) {\r\n                // Binary STL\r\n                const blob = new Blob([result], { type: 'application/octet-stream' });\r\n                downloadFile(blob, `${filename}.stl`);\r\n            } else {\r\n                // ASCII STL\r\n                const blob = new Blob([result], { type: 'text/plain' });\r\n                downloadFile(blob, `${filename}.stl`);\r\n            }\r\n            \r\n            console.log(`Exported ${objects.length} objects as STL (${binary ? 'binary' : 'ASCII'})`);\r\n            this.emit('exportComplete', { \r\n                format: 'stl', \r\n                filename: `${filename}.stl`,\r\n                objectCount: objects.length,\r\n                binary: binary\r\n            });\r\n            \r\n            return true;\r\n            \r\n        } catch (error) {\r\n            console.error('STL export error:', error);\r\n            this.emit('exportError', { format: 'stl', error: error.message });\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Export selected objects only\r\n     * @param {string} format - Export format ('gltf', 'glb', or 'stl')\r\n     * @param {Object} options - Export options\r\n     * @returns {Promise<boolean>} Success status\r\n     */\r\n    async exportSelected(format = 'gltf', options = {}) {\r\n        const selected = this.swk.getSelectedObjects();\r\n        \r\n        if (selected.length === 0) {\r\n            console.warn('No objects selected for export');\r\n            this.emit('exportError', { format, error: 'No objects selected' });\r\n            return false;\r\n        }\r\n        \r\n        // Create temporary scene with selected objects\r\n        const tempScene = new THREE.Scene();\r\n        selected.forEach(obj => {\r\n            tempScene.add(obj.clone());\r\n        });\r\n        \r\n        // Temporarily swap scenes\r\n        const originalScene = this.scene;\r\n        this.scene = tempScene;\r\n        \r\n        let result;\r\n        if (format === 'glb') {\r\n            result = await this.exportGLTF({ ...options, binary: true });\r\n        } else if (format === 'gltf') {\r\n            result = await this.exportGLTF({ ...options, binary: false });\r\n        } else if (format === 'stl') {\r\n            result = await this.exportSTL(options);\r\n        } else {\r\n            console.error('Unknown export format:', format);\r\n            result = false;\r\n        }\r\n        \r\n        // Restore original scene\r\n        this.scene = originalScene;\r\n        \r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get available export formats\r\n     * @returns {Array<Object>} Array of available export formats\r\n     */\r\n    getAvailableFormats() {\r\n        const formats = [];\r\n        \r\n        if (this.hasGLTFExporter) {\r\n            formats.push(\r\n                { format: 'gltf', name: 'GLTF (JSON)', extension: 'gltf', binary: false },\r\n                { format: 'glb', name: 'GLB (Binary)', extension: 'glb', binary: true }\r\n            );\r\n        }\r\n        \r\n        if (this.hasSTLExporter) {\r\n            formats.push(\r\n                { format: 'stl', name: 'STL', extension: 'stl', binary: true }\r\n            );\r\n        }\r\n        \r\n        return formats;\r\n    }\r\n\r\n    /**\r\n     * Check if a format is available\r\n     * @param {string} format - Format to check\r\n     * @returns {boolean} True if available\r\n     */\r\n    isFormatAvailable(format) {\r\n        const formats = this.getAvailableFormats();\r\n        return formats.some(f => f.format === format);\r\n    }\r\n\r\n    /**\r\n     * Clean up\r\n     */\r\n    dispose() {\r\n        this.removeAllListeners();\r\n    }\r\n}\r\n\r\nexport default ExportManager;\r\n","/**\r\n * Group management for organizing objects\r\n */\r\n\r\nimport { generateId } from '../utils/Helpers.js';\r\n\r\nexport default class GroupManager {\r\n    constructor(scene, eventEmitter, config) {\r\n        this.scene = scene;\r\n        this.eventEmitter = eventEmitter;\r\n        this.config = config;\r\n        \r\n        this.groups = [];\r\n        this.groupIdCounter = 0;\r\n    }\r\n\r\n    /**\r\n     * Create group from selected objects\r\n     */\r\n    createGroup(objects, name = null) {\r\n        if (!objects || objects.length === 0) {\r\n            console.warn('SWK: No objects provided for grouping');\r\n            return null;\r\n        }\r\n\r\n        // Generate group ID and name\r\n        const groupId = `group_${this.groupIdCounter++}`;\r\n        const groupName = name || `Group ${this.groups.length + 1}`;\r\n\r\n        // Create group data\r\n        const group = {\r\n            id: groupId,\r\n            name: groupName,\r\n            children: [...objects],\r\n            container: null,\r\n            isDirty: true\r\n        };\r\n\r\n        // Mark objects as part of group\r\n        objects.forEach(obj => {\r\n            obj.userData.groupId = groupId;\r\n        });\r\n\r\n        // Store group\r\n        this.groups.push(group);\r\n\r\n        // Compute group container\r\n        this.computeGroupContainer(group);\r\n\r\n        // Emit event\r\n        this.eventEmitter.emit('groupCreated', group.container);\r\n\r\n        // Execute callback\r\n        const callback = this.config.get('callbacks.onGroupCreated');\r\n        if (callback && typeof callback === 'function') {\r\n            callback(group.container);\r\n        }\r\n\r\n        console.log(`SWK: Created ${groupName} with ${objects.length} objects`);\r\n        return group.container;\r\n    }\r\n\r\n    /**\r\n     * Compute group container (THREE.Group)\r\n     */\r\n    computeGroupContainer(group) {\r\n        // Remove existing container if present\r\n        if (group.container) {\r\n            this.scene.remove(group.container);\r\n        }\r\n\r\n        if (group.children.length === 0) return;\r\n\r\n        // Calculate bounding box of all children to find center\r\n        const boundingBox = new THREE.Box3();\r\n        group.children.forEach(child => {\r\n            boundingBox.expandByObject(child);\r\n        });\r\n\r\n        // Get the center of the bounding box\r\n        const center = boundingBox.getCenter(new THREE.Vector3());\r\n\r\n        // Create THREE.Group container\r\n        const groupContainer = new THREE.Group();\r\n        groupContainer.userData.isGroupResult = true;\r\n        groupContainer.userData.groupId = group.id;\r\n        groupContainer.name = group.name;\r\n\r\n        // Position the group container at the center\r\n        groupContainer.position.copy(center);\r\n\r\n        // Add all children to container, preserving world positions\r\n        group.children.forEach(child => {\r\n            // Store world transform before parenting\r\n            const worldPos = new THREE.Vector3();\r\n            const worldQuat = new THREE.Quaternion();\r\n            const worldScale = new THREE.Vector3();\r\n            \r\n            child.getWorldPosition(worldPos);\r\n            child.getWorldQuaternion(worldQuat);\r\n            child.getWorldScale(worldScale);\r\n\r\n            // Remove from scene\r\n            if (child.parent) {\r\n                child.parent.remove(child);\r\n            }\r\n\r\n            // Parent to group\r\n            groupContainer.add(child);\r\n\r\n            // Adjust local position relative to group center\r\n            child.position.copy(worldPos).sub(center);\r\n            child.quaternion.copy(worldQuat);\r\n            child.scale.copy(worldScale);\r\n        });\r\n\r\n        // Add container to scene\r\n        this.scene.add(groupContainer);\r\n\r\n        // Store reference\r\n        group.container = groupContainer;\r\n        group.isDirty = false;\r\n    }\r\n\r\n    /**\r\n     * Ungroup - restore objects to scene\r\n     */\r\n    ungroup(groupContainer) {\r\n        if (!groupContainer || !groupContainer.userData.isGroupResult) {\r\n            console.warn('SWK: Invalid group container');\r\n            return null;\r\n        }\r\n\r\n        const groupId = groupContainer.userData.groupId;\r\n        const groupIndex = this.groups.findIndex(g => g.id === groupId);\r\n\r\n        if (groupIndex === -1) {\r\n            console.warn('SWK: Group not found');\r\n            return null;\r\n        }\r\n\r\n        const group = this.groups[groupIndex];\r\n        const ungroupedObjects = [];\r\n\r\n        // Unparent objects and restore to scene\r\n        [...group.children].forEach(obj => {\r\n            // Preserve world transform\r\n            const worldPosition = new THREE.Vector3();\r\n            const worldRotation = new THREE.Quaternion();\r\n            const worldScale = new THREE.Vector3();\r\n\r\n            obj.getWorldPosition(worldPosition);\r\n            obj.getWorldQuaternion(worldRotation);\r\n            obj.getWorldScale(worldScale);\r\n\r\n            // Remove from group\r\n            group.container.remove(obj);\r\n\r\n            // Add back to scene\r\n            this.scene.add(obj);\r\n\r\n            // Restore world transform\r\n            obj.position.copy(worldPosition);\r\n            obj.quaternion.copy(worldRotation);\r\n            obj.scale.copy(worldScale);\r\n\r\n            // Clear group ID\r\n            obj.userData.groupId = null;\r\n\r\n            ungroupedObjects.push(obj);\r\n        });\r\n\r\n        // Remove group container from scene\r\n        this.scene.remove(group.container);\r\n\r\n        // Remove group from array\r\n        this.groups.splice(groupIndex, 1);\r\n\r\n        // Emit event\r\n        this.eventEmitter.emit('groupRemoved', group.container);\r\n\r\n        // Execute callback\r\n        const callback = this.config.get('callbacks.onGroupRemoved');\r\n        if (callback && typeof callback === 'function') {\r\n            callback(group.container);\r\n        }\r\n\r\n        console.log(`SWK: Ungrouped ${group.name}`);\r\n        return ungroupedObjects;\r\n    }\r\n\r\n    /**\r\n     * Get group by ID\r\n     */\r\n    getGroupById(groupId) {\r\n        return this.groups.find(g => g.id === groupId);\r\n    }\r\n\r\n    /**\r\n     * Get group by container\r\n     */\r\n    getGroupByContainer(container) {\r\n        if (!container || !container.userData.groupId) return null;\r\n        return this.getGroupById(container.userData.groupId);\r\n    }\r\n\r\n    /**\r\n     * Check if object is grouped\r\n     */\r\n    isGrouped(object) {\r\n        return object && object.userData && object.userData.groupId !== undefined && object.userData.groupId !== null;\r\n    }\r\n\r\n    /**\r\n     * Check if object is a group container\r\n     */\r\n    isGroupContainer(object) {\r\n        return object && object.userData && object.userData.isGroupResult === true;\r\n    }\r\n\r\n    /**\r\n     * Get all groups\r\n     */\r\n    getAllGroups() {\r\n        return [...this.groups];\r\n    }\r\n\r\n    /**\r\n     * Get group children\r\n     */\r\n    getGroupChildren(groupContainer) {\r\n        const group = this.getGroupByContainer(groupContainer);\r\n        return group ? [...group.children] : [];\r\n    }\r\n\r\n    /**\r\n     * Find object's group\r\n     */\r\n    findObjectGroup(object) {\r\n        if (!this.isGrouped(object)) return null;\r\n        return this.getGroupById(object.userData.groupId);\r\n    }\r\n\r\n    /**\r\n     * Rename group\r\n     */\r\n    renameGroup(groupContainer, newName) {\r\n        const group = this.getGroupByContainer(groupContainer);\r\n        if (group) {\r\n            group.name = newName;\r\n            group.container.name = newName;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Remove object from its group\r\n     */\r\n    removeFromGroup(object) {\r\n        const group = this.findObjectGroup(object);\r\n        if (!group) return false;\r\n\r\n        // Preserve world transform\r\n        const worldPosition = new THREE.Vector3();\r\n        const worldRotation = new THREE.Quaternion();\r\n        const worldScale = new THREE.Vector3();\r\n\r\n        object.getWorldPosition(worldPosition);\r\n        object.getWorldQuaternion(worldRotation);\r\n        object.getWorldScale(worldScale);\r\n\r\n        // Remove from group children\r\n        const index = group.children.indexOf(object);\r\n        if (index > -1) {\r\n            group.children.splice(index, 1);\r\n        }\r\n\r\n        // Remove from container\r\n        group.container.remove(object);\r\n\r\n        // Add back to scene\r\n        this.scene.add(object);\r\n\r\n        // Restore world transform\r\n        object.position.copy(worldPosition);\r\n        object.quaternion.copy(worldRotation);\r\n        object.scale.copy(worldScale);\r\n\r\n        // Clear group ID\r\n        object.userData.groupId = null;\r\n\r\n        // If group is now empty, remove it\r\n        if (group.children.length === 0) {\r\n            this.scene.remove(group.container);\r\n            const groupIndex = this.groups.indexOf(group);\r\n            if (groupIndex > -1) {\r\n                this.groups.splice(groupIndex, 1);\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Add object to existing group\r\n     */\r\n    addToGroup(object, groupContainer) {\r\n        const group = this.getGroupByContainer(groupContainer);\r\n        if (!group) return false;\r\n\r\n        // Remove from current group if already grouped\r\n        if (this.isGrouped(object)) {\r\n            this.removeFromGroup(object);\r\n        }\r\n\r\n        // Store world transform\r\n        const worldPos = new THREE.Vector3();\r\n        const worldQuat = new THREE.Quaternion();\r\n        const worldScale = new THREE.Vector3();\r\n\r\n        object.getWorldPosition(worldPos);\r\n        object.getWorldQuaternion(worldQuat);\r\n        object.getWorldScale(worldScale);\r\n\r\n        // Remove from scene\r\n        if (object.parent) {\r\n            object.parent.remove(object);\r\n        }\r\n\r\n        // Add to group\r\n        group.container.add(object);\r\n        group.children.push(object);\r\n\r\n        // Adjust local position relative to group center\r\n        const groupCenter = group.container.position;\r\n        object.position.copy(worldPos).sub(groupCenter);\r\n        object.quaternion.copy(worldQuat);\r\n        object.scale.copy(worldScale);\r\n\r\n        // Mark as grouped\r\n        object.userData.groupId = group.id;\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Clear all groups\r\n     */\r\n    clearAllGroups() {\r\n        [...this.groups].forEach(group => {\r\n            if (group.container) {\r\n                this.ungroup(group.container);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get statistics\r\n     */\r\n    getStats() {\r\n        return {\r\n            totalGroups: this.groups.length,\r\n            groups: this.groups.map(g => ({\r\n                id: g.id,\r\n                name: g.name,\r\n                childCount: g.children.length\r\n            }))\r\n        };\r\n    }\r\n}\r\n","/**\r\n * HistoryManager.js\r\n * Manages undo/redo history with state snapshots\r\n * Implements a circular buffer with maximum history depth\r\n */\r\n\r\nimport StateCapture from './StateCapture.js';\r\nimport EventEmitter from '../core/EventEmitter.js';\r\n\r\nclass HistoryManager extends EventEmitter {\r\n    /**\r\n     * @param {THREE.Scene} scene - The Three.js scene\r\n     * @param {SelectionManager} selectionManager - Selection manager\r\n     * @param {GroupManager} groupManager - Group manager\r\n     * @param {ShapeFactory} shapeFactory - Shape factory\r\n     * @param {Object} config - Configuration object\r\n     * @param {TransformManager} transformManager - Transform manager (optional)\r\n     */\r\n    constructor(scene, selectionManager, groupManager, shapeFactory, config, transformManager = null) {\r\n        super();\r\n        \r\n        this.scene = scene;\r\n        this.selectionManager = selectionManager;\r\n        this.groupManager = groupManager;\r\n        this.shapeFactory = shapeFactory;\r\n        this.config = config;\r\n        this.transformManager = transformManager;\r\n\r\n        // History array (stores all states)\r\n        this.history = [];\r\n        this.historyIndex = -1;\r\n        \r\n        // Configuration\r\n        this.maxHistory = config.get('maxHistory') || 50;\r\n        this.isRestoring = false; // Flag to prevent recording during restore\r\n        \r\n        // Capture initial state\r\n        this.captureState('Initial state');\r\n    }\r\n\r\n    /**\r\n     * Capture current state and add to undo stack\r\n     * @param {string} description - Description of the action (for debugging)\r\n     * @returns {boolean} Success\r\n     */\r\n    captureState(description = 'State change') {\r\n        // Don't capture if we're currently restoring a state\r\n        if (this.isRestoring) {\r\n            return false;\r\n        }\r\n\r\n        try {\r\n            const state = StateCapture.captureState(\r\n                this.scene,\r\n                this.selectionManager,\r\n                this.groupManager,\r\n                this.shapeFactory\r\n            );\r\n\r\n            // Remove any forward history if we made a new change (do this FIRST)\r\n            this.history = this.history.slice(0, this.historyIndex + 1);\r\n\r\n            // Don't capture if state is identical to the last one in current history\r\n            if (this.history.length > 0) {\r\n                const lastState = this.history[this.history.length - 1];\r\n                if (StateCapture.areStatesEqual(state, lastState.state)) {\r\n                    console.log('HistoryManager: State unchanged, skipping capture');\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            // Add to history array\r\n            this.history.push({\r\n                state: state,\r\n                description: description,\r\n                timestamp: Date.now()\r\n            });\r\n\r\n            // Limit history size\r\n            if (this.history.length > this.maxHistory) {\r\n                this.history.shift(); // Remove oldest, index stays the same (pointing to same logical position)\r\n            } else {\r\n                this.historyIndex++;  // Move index forward only if not over limit\r\n            }\r\n            \r\n            console.log(`HistoryManager: State captured \"${description}\" - history: ${this.history.length} states, historyIndex: ${this.historyIndex}`);\r\n            console.log('HistoryManager: Current history:', this.history.map((entry, index) => ({\r\n                index,\r\n                description: entry.description,\r\n                isCurrent: index === this.historyIndex,\r\n                timestamp: entry.timestamp,\r\n                objectCount: entry.state.objects.length,\r\n                groupCount: entry.state.groups.length\r\n            })));\r\n\r\n            this.emit('stateChanged', {\r\n                canUndo: this.canUndo(),\r\n                canRedo: this.canRedo(),\r\n                historyCount: this.history.length,\r\n                historyIndex: this.historyIndex\r\n            });\r\n\r\n            return true;\r\n        } catch (error) {\r\n            console.error('Failed to capture state:', error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Undo the last action\r\n     * @returns {boolean} Success\r\n     */\r\n    undo() {\r\n        if (!this.canUndo()) {\r\n            return false;\r\n        }\r\n\r\n        try {\r\n            console.log(`HistoryManager: Undo - history: ${this.history.length} states, historyIndex: ${this.historyIndex}`);\r\n\r\n            // Move index backward in history\r\n            this.historyIndex--;\r\n            \r\n            console.log(`HistoryManager: After undo - historyIndex: ${this.historyIndex}`);\r\n\r\n            // Get the state at the new index\r\n            const entry = this.history[this.historyIndex];\r\n\r\n            // Set restoring flag to prevent capture during restore\r\n            this.isRestoring = true;\r\n\r\n            // Restore that state\r\n            StateCapture.restoreState(\r\n                entry.state,\r\n                this.scene,\r\n                this.selectionManager,\r\n                this.groupManager,\r\n                this.shapeFactory,\r\n                this.transformManager\r\n            );\r\n\r\n            this.isRestoring = false;\r\n\r\n            this.emit('stateRestored', {\r\n                action: 'undo',\r\n                description: entry.description\r\n            });\r\n\r\n            this.emit('stateChanged', {\r\n                canUndo: this.canUndo(),\r\n                canRedo: this.canRedo(),\r\n                historyCount: this.history.length,\r\n                historyIndex: this.historyIndex\r\n            });\r\n\r\n            return true;\r\n        } catch (error) {\r\n            console.error('Failed to undo:', error);\r\n            this.isRestoring = false;\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Redo the last undone action\r\n     * @returns {boolean} Success\r\n     */\r\n    redo() {\r\n        if (!this.canRedo()) {\r\n            return false;\r\n        }\r\n\r\n        try {\r\n            console.log(`HistoryManager: Redo - history: ${this.history.length} states, historyIndex: ${this.historyIndex}`);\r\n\r\n            // Move index forward in history\r\n            this.historyIndex++;\r\n            \r\n            console.log(`HistoryManager: After redo - historyIndex: ${this.historyIndex}`);\r\n\r\n            // Get the state at the new index\r\n            const entry = this.history[this.historyIndex];\r\n\r\n            // Set restoring flag to prevent capture during restore\r\n            this.isRestoring = true;\r\n\r\n            // Restore that state\r\n            StateCapture.restoreState(\r\n                entry.state,\r\n                this.scene,\r\n                this.selectionManager,\r\n                this.groupManager,\r\n                this.shapeFactory,\r\n                this.transformManager\r\n            );\r\n\r\n            this.isRestoring = false;\r\n\r\n            this.emit('stateRestored', {\r\n                action: 'redo',\r\n                description: entry.description\r\n            });\r\n\r\n            this.emit('stateChanged', {\r\n                canUndo: this.canUndo(),\r\n                canRedo: this.canRedo(),\r\n                historyCount: this.history.length,\r\n                historyIndex: this.historyIndex\r\n            });\r\n\r\n            return true;\r\n        } catch (error) {\r\n            console.error('Failed to redo:', error);\r\n            this.isRestoring = false;\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if undo is available\r\n     * @returns {boolean} True if can undo\r\n     */\r\n    canUndo() {\r\n        return this.historyIndex > 0;\r\n    }\r\n\r\n    /**\r\n     * Check if redo is available\r\n     * @returns {boolean} True if can redo\r\n     */\r\n    canRedo() {\r\n        return this.historyIndex < this.history.length - 1;\r\n    }\r\n\r\n    /**\r\n     * Get the description of the next undo action\r\n     * @returns {string|null} Description or null\r\n     */\r\n    getUndoDescription() {\r\n        if (!this.canUndo()) return null;\r\n        return this.history[this.historyIndex - 1]?.description || null;\r\n    }\r\n\r\n    /**\r\n     * Get the description of the next redo action\r\n     * @returns {string|null} Description or null\r\n     */\r\n    getRedoDescription() {\r\n        if (!this.canRedo()) return null;\r\n        return this.history[this.historyIndex + 1]?.description || null;\r\n    }\r\n\r\n    /**\r\n     * Clear all history\r\n     */\r\n    clear() {\r\n        this.history = [];\r\n        this.historyIndex = -1;\r\n        \r\n        // Capture current state as initial\r\n        this.captureState('History cleared');\r\n\r\n        this.emit('stateChanged', {\r\n            canUndo: false,\r\n            canRedo: false,\r\n            historyCount: this.history.length,\r\n            historyIndex: this.historyIndex\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get history statistics\r\n     * @returns {Object} History stats\r\n     */\r\n    getStats() {\r\n        return {\r\n            historyCount: this.history.length,\r\n            historyIndex: this.historyIndex,\r\n            maxHistory: this.maxHistory,\r\n            canUndo: this.canUndo(),\r\n            canRedo: this.canRedo(),\r\n            memoryUsage: this.estimateMemoryUsage()\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Estimate memory usage of history (approximate)\r\n     * @returns {number} Estimated size in bytes\r\n     */\r\n    estimateMemoryUsage() {\r\n        return JSON.stringify(this.history).length;\r\n    }\r\n\r\n    /**\r\n     * Clean up resources\r\n     */\r\n    dispose() {\r\n        this.clear();\r\n        this.removeAllListeners();\r\n        this.scene = null;\r\n        this.selectionManager = null;\r\n        this.groupManager = null;\r\n        this.shapeFactory = null;\r\n    }\r\n}\r\n\r\nexport default HistoryManager;\r\n","/**\r\n * StateCapture.js\r\n * Utility for serializing and deserializing complete scene state\r\n * Captures: objects, groups, materials, transforms, selection, counters\r\n */\r\n\r\nimport { SHAPE_TYPES } from '../utils/Constants.js';\r\n\r\nclass StateCapture {\r\n    /**\r\n     * Capture the complete current state of the scene\r\n     * @param {THREE.Scene} scene - The Three.js scene\r\n     * @param {SelectionManager} selectionManager - Selection manager instance\r\n     * @param {GroupManager} groupManager - Group manager instance\r\n     * @param {ShapeFactory} shapeFactory - Shape factory instance\r\n     * @returns {Object} Serialized state object\r\n     */\r\n    static captureState(scene, selectionManager, groupManager, shapeFactory) {\r\n        const state = {\r\n            timestamp: Date.now(),\r\n            objects: [],\r\n            groups: [],\r\n            selection: [],\r\n            counters: {}\r\n        };\r\n\r\n        // Capture shape counters from ShapeFactory\r\n        if (shapeFactory && shapeFactory.shapeCounters) {\r\n            state.counters = { ...shapeFactory.shapeCounters };\r\n        }\r\n\r\n        // Get all user objects and group containers (exclude grid, lights, etc)\r\n        const userObjects = scene.children.filter(obj => \r\n            obj.userData && (obj.userData.isUserObject || obj.userData.isGroupResult)\r\n        );\r\n\r\n        // Capture objects and groups\r\n        userObjects.forEach(obj => {\r\n            if (groupManager && groupManager.isGroupContainer(obj)) {\r\n                // This is a group container\r\n                state.groups.push(this.serializeGroup(obj, groupManager));\r\n            } else if (!groupManager || !groupManager.isGrouped(obj)) {\r\n                // This is a standalone object (not inside a group)\r\n                state.objects.push(this.serializeObject(obj));\r\n            }\r\n        });\r\n\r\n        // Capture current selection\r\n        const selectedObjects = selectionManager.getSelectedObjects();\r\n        state.selection = selectedObjects.map(obj => obj.uuid);\r\n\r\n        return state;\r\n    }\r\n\r\n    /**\r\n     * Serialize a single object\r\n     * @param {THREE.Object3D} obj - The object to serialize\r\n     * @returns {Object} Serialized object data\r\n     */\r\n    static serializeObject(obj) {\r\n        const data = {\r\n            uuid: obj.uuid,\r\n            name: obj.name,\r\n            type: obj.userData.shapeType || 'unknown',\r\n            position: obj.position.toArray(),\r\n            rotation: obj.rotation.toArray(),\r\n            scale: obj.scale.toArray(),\r\n            visible: obj.visible,\r\n            userData: { ...obj.userData }\r\n        };\r\n\r\n        // Serialize material\r\n        if (obj.material) {\r\n            data.material = {\r\n                color: obj.material.color.getHex(),\r\n                opacity: obj.material.opacity,\r\n                transparent: obj.material.transparent,\r\n                wireframe: obj.material.wireframe\r\n            };\r\n        }\r\n\r\n        // Special handling for text objects\r\n        if (data.type === SHAPE_TYPES.TEXT && obj.userData.textContent) {\r\n            data.textContent = obj.userData.textContent;\r\n            data.textFont = obj.userData.textFont || 'sans';\r\n        }\r\n\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * Serialize a group container with its children\r\n     * @param {THREE.Group} group - The group to serialize\r\n     * @param {GroupManager} groupManager - Group manager instance\r\n     * @returns {Object} Serialized group data\r\n     */\r\n    static serializeGroup(group, groupManager) {\r\n        const data = {\r\n            uuid: group.uuid,\r\n            name: group.name,\r\n            position: group.position.toArray(),\r\n            rotation: group.rotation.toArray(),\r\n            scale: group.scale.toArray(),\r\n            visible: group.visible,\r\n            children: []\r\n        };\r\n\r\n        // Serialize all children in the group\r\n        const children = groupManager.getGroupChildren(group);\r\n        children.forEach(child => {\r\n            data.children.push(this.serializeObject(child));\r\n        });\r\n\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * Restore state to the scene\r\n     * @param {Object} state - The state object to restore\r\n     * @param {THREE.Scene} scene - The Three.js scene\r\n     * @param {SelectionManager} selectionManager - Selection manager instance\r\n     * @param {GroupManager} groupManager - Group manager instance\r\n     * @param {ShapeFactory} shapeFactory - Shape factory instance\r\n     * @param {TransformManager} transformManager - Transform manager instance (optional)\r\n     * @returns {Array} Array of restored objects\r\n     */\r\n    static restoreState(state, scene, selectionManager, groupManager, shapeFactory, transformManager = null) {\r\n        const restoredObjects = [];\r\n        const uuidMap = new Map(); // Map old UUIDs to new objects\r\n\r\n        // Detach transform controls before clearing scene to avoid errors\r\n        if (transformManager) {\r\n            transformManager.detach();\r\n        }\r\n\r\n        // Clear current scene (remove all user objects and group containers)\r\n        const userObjects = scene.children.filter(obj => \r\n            obj.userData && (obj.userData.isUserObject || obj.userData.isGroupResult)\r\n        );\r\n        userObjects.forEach(obj => {\r\n            scene.remove(obj);\r\n            if (obj.geometry) obj.geometry.dispose();\r\n            if (obj.material) {\r\n                if (Array.isArray(obj.material)) {\r\n                    obj.material.forEach(m => m.dispose());\r\n                } else {\r\n                    obj.material.dispose();\r\n                }\r\n            }\r\n        });\r\n\r\n        // Clear GroupManager's internal groups array\r\n        if (groupManager && groupManager.groups) {\r\n            groupManager.groups = [];\r\n            groupManager.groupIdCounter = 0;\r\n        }\r\n\r\n        // Clear selection\r\n        selectionManager.clear();\r\n\r\n        // Restore shape counters\r\n        if (state.counters && shapeFactory) {\r\n            shapeFactory.shapeCounters = { ...state.counters };\r\n        }\r\n\r\n        // Restore standalone objects\r\n        state.objects.forEach(objData => {\r\n            const obj = this.deserializeObject(objData, shapeFactory);\r\n            if (obj) {\r\n                scene.add(obj);\r\n                restoredObjects.push(obj);\r\n                uuidMap.set(objData.uuid, obj);\r\n            }\r\n        });\r\n\r\n        // Restore groups\r\n        state.groups.forEach(groupData => {\r\n            const { group, children } = this.deserializeGroup(groupData, shapeFactory);\r\n            if (group && children.length > 0) {\r\n                // Map old UUIDs to new children objects\r\n                children.forEach(child => {\r\n                    const originalChildData = groupData.children.find(c => c.uuid === child.uuid);\r\n                    if (originalChildData) {\r\n                        uuidMap.set(originalChildData.uuid, child);\r\n                    }\r\n                });\r\n\r\n                // Add children to scene temporarily (createGroup will reparent them)\r\n                children.forEach(child => {\r\n                    scene.add(child);\r\n                    restoredObjects.push(child);\r\n                });\r\n\r\n                // Create the group (this will remove children from scene and parent to group)\r\n                const groupContainer = groupManager.createGroup(children, groupData.name);\r\n                if (groupContainer) {\r\n                    // Restore group transform\r\n                    groupContainer.position.fromArray(groupData.position);\r\n                    groupContainer.rotation.fromArray(groupData.rotation);\r\n                    groupContainer.scale.fromArray(groupData.scale);\r\n                    groupContainer.visible = groupData.visible;\r\n                    groupContainer.uuid = groupData.uuid; // Preserve UUID for selection\r\n\r\n                    restoredObjects.push(groupContainer);\r\n                    uuidMap.set(groupData.uuid, groupContainer);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Restore selection\r\n        if (state.selection && state.selection.length > 0) {\r\n            const selectedObjects = [];\r\n            state.selection.forEach(uuid => {\r\n                const obj = uuidMap.get(uuid);\r\n                if (obj) {\r\n                    selectedObjects.push(obj);\r\n                }\r\n            });\r\n            \r\n            // Apply selection\r\n            if (selectedObjects.length > 0) {\r\n                selectionManager.select(selectedObjects[0]);\r\n                for (let i = 1; i < selectedObjects.length; i++) {\r\n                    selectionManager.addToSelection(selectedObjects[i]);\r\n                }\r\n                \r\n                // Re-attach transform controls to first selected (or group container if applicable)\r\n                if (transformManager) {\r\n                    const primarySelection = selectedObjects.find(obj => \r\n                        groupManager.isGroupContainer(obj)\r\n                    ) || selectedObjects[0];\r\n                    \r\n                    if (selectedObjects.length === 1 || groupManager.isGroupContainer(primarySelection)) {\r\n                        transformManager.attach(primarySelection);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return restoredObjects;\r\n    }\r\n\r\n    /**\r\n     * Deserialize an object from data\r\n     * @param {Object} data - Serialized object data\r\n     * @param {ShapeFactory} shapeFactory - Shape factory instance\r\n     * @returns {THREE.Object3D|null} Restored object\r\n     */\r\n    static deserializeObject(data, shapeFactory) {\r\n        if (!shapeFactory) return null;\r\n\r\n        const options = {\r\n            color: data.material?.color,\r\n            position: data.position,\r\n            rotation: data.rotation.slice(0, 3), // Exclude rotation order\r\n            scale: data.scale\r\n        };\r\n\r\n        // Special handling for text\r\n        if (data.type === SHAPE_TYPES.TEXT) {\r\n            options.text = data.textContent || 'Text';\r\n            options.font = data.textFont || 'sans';\r\n        }\r\n\r\n        // Create the object\r\n        const obj = shapeFactory.createShape(data.type, options);\r\n        if (!obj) return null;\r\n\r\n        // Restore properties\r\n        obj.uuid = data.uuid; // Preserve UUID for proper selection restoration\r\n        obj.name = data.name;\r\n        obj.visible = data.visible;\r\n        obj.userData = { ...data.userData };\r\n\r\n        // Restore material properties\r\n        if (data.material && obj.material) {\r\n            obj.material.opacity = data.material.opacity;\r\n            obj.material.transparent = data.material.transparent;\r\n            obj.material.wireframe = data.material.wireframe;\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    /**\r\n     * Deserialize a group from data\r\n     * @param {Object} data - Serialized group data\r\n     * @param {ShapeFactory} shapeFactory - Shape factory instance\r\n     * @returns {Object} Object with group container and children array\r\n     */\r\n    static deserializeGroup(data, shapeFactory) {\r\n        const children = [];\r\n\r\n        // Deserialize all children\r\n        data.children.forEach(childData => {\r\n            const child = this.deserializeObject(childData, shapeFactory);\r\n            if (child) {\r\n                children.push(child);\r\n            }\r\n        });\r\n\r\n        return {\r\n            group: data,\r\n            children: children\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Create a deep clone of a state object\r\n     * @param {Object} state - State to clone\r\n     * @returns {Object} Cloned state\r\n     */\r\n    static cloneState(state) {\r\n        return JSON.parse(JSON.stringify(state));\r\n    }\r\n\r\n    /**\r\n     * Compare two states for equality (useful for detecting changes)\r\n     * @param {Object} stateA - First state\r\n     * @param {Object} stateB - Second state\r\n     * @returns {boolean} True if states are equal\r\n     */\r\n    static areStatesEqual(stateA, stateB) {\r\n        return JSON.stringify(stateA) === JSON.stringify(stateB);\r\n    }\r\n}\r\n\r\nexport default StateCapture;\r\n","/**\r\n * Outline rendering and synchronization\r\n */\r\n\r\nimport { OUTLINE_THICKNESS } from '../utils/Constants.js';\r\n\r\nexport default class Outliner {\r\n    constructor(scene, config) {\r\n        this.scene = scene;\r\n        this.config = config;\r\n        this.outlineMap = new Map();\r\n        this.outlineColor = this.hexToNumber(config.get('outlineColor'));\r\n        this.outlineThickness = config.get('outlineThickness') || OUTLINE_THICKNESS;\r\n    }\r\n\r\n    /**\r\n     * Create outline for mesh\r\n     */\r\n    createOutline(mesh) {\r\n        if (!mesh || !mesh.geometry) {\r\n            return null;\r\n        }\r\n\r\n        // Remove existing outline if present\r\n        this.removeOutline(mesh);\r\n\r\n        // Clone geometry for outline\r\n        const outlineGeometry = mesh.geometry.clone();\r\n\r\n        // Create outline material - rendered on backside\r\n        const outlineMaterial = new THREE.MeshBasicMaterial({\r\n            color: this.outlineColor,\r\n            side: THREE.BackSide,\r\n            depthWrite: false,\r\n            polygonOffset: true,\r\n            polygonOffsetFactor: 1,\r\n            polygonOffsetUnits: 1\r\n        });\r\n\r\n        // Create outline mesh\r\n        const outlineMesh = new THREE.Mesh(outlineGeometry, outlineMaterial);\r\n\r\n        // Check if this is a text object\r\n        const isText = mesh.userData.textContent !== undefined;\r\n\r\n        // Apply world transform\r\n        this.updateOutlineTransform(mesh, outlineMesh, isText);\r\n\r\n        // Add to scene\r\n        this.scene.add(outlineMesh);\r\n\r\n        // Store in map\r\n        this.outlineMap.set(mesh, {\r\n            outline: outlineMesh,\r\n            mesh: mesh,\r\n            isText: isText\r\n        });\r\n\r\n        return outlineMesh;\r\n    }\r\n\r\n    /**\r\n     * Update outline transform to match mesh\r\n     */\r\n    updateOutlineTransform(mesh, outlineMesh, isText) {\r\n        const worldPosition = new THREE.Vector3();\r\n        const worldQuaternion = new THREE.Quaternion();\r\n        const worldScale = new THREE.Vector3();\r\n\r\n        mesh.getWorldPosition(worldPosition);\r\n        mesh.getWorldQuaternion(worldQuaternion);\r\n        mesh.getWorldScale(worldScale);\r\n\r\n        if (isText) {\r\n            // For text geometry, use offset instead of scaling\r\n            const offsetAmount = this.outlineThickness;\r\n            outlineMesh.position.copy(worldPosition);\r\n            outlineMesh.position.x += offsetAmount;\r\n            outlineMesh.position.y += offsetAmount;\r\n            outlineMesh.quaternion.copy(worldQuaternion);\r\n            outlineMesh.scale.copy(worldScale);\r\n        } else {\r\n            // For other geometries, scale slightly larger\r\n            outlineMesh.position.copy(worldPosition);\r\n            outlineMesh.quaternion.copy(worldQuaternion);\r\n            outlineMesh.scale.copy(worldScale).multiplyScalar(1 + this.outlineThickness);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove outline from mesh\r\n     */\r\n    removeOutline(mesh) {\r\n        const outlineData = this.outlineMap.get(mesh);\r\n        \r\n        if (!outlineData) return;\r\n\r\n        // Remove from scene\r\n        this.scene.remove(outlineData.outline);\r\n\r\n        // Dispose resources\r\n        if (outlineData.outline.geometry) {\r\n            outlineData.outline.geometry.dispose();\r\n        }\r\n        if (outlineData.outline.material) {\r\n            outlineData.outline.material.dispose();\r\n        }\r\n\r\n        // Remove from map\r\n        this.outlineMap.delete(mesh);\r\n    }\r\n\r\n    /**\r\n     * Sync all outlines with their meshes\r\n     * Should be called every frame in animation loop\r\n     */\r\n    syncOutlines() {\r\n        for (const [mesh, outlineData] of this.outlineMap.entries()) {\r\n            if (outlineData && outlineData.outline) {\r\n                this.updateOutlineTransform(mesh, outlineData.outline, outlineData.isText);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create outlines for multiple meshes\r\n     */\r\n    createOutlines(meshes) {\r\n        if (!meshes || !Array.isArray(meshes)) return;\r\n\r\n        meshes.forEach(mesh => this.createOutline(mesh));\r\n    }\r\n\r\n    /**\r\n     * Remove outlines from multiple meshes\r\n     */\r\n    removeOutlines(meshes) {\r\n        if (!meshes || !Array.isArray(meshes)) return;\r\n\r\n        meshes.forEach(mesh => this.removeOutline(mesh));\r\n    }\r\n\r\n    /**\r\n     * Clear all outlines\r\n     */\r\n    clearAllOutlines() {\r\n        for (const [mesh, outlineData] of this.outlineMap.entries()) {\r\n            this.scene.remove(outlineData.outline);\r\n            if (outlineData.outline.geometry) {\r\n                outlineData.outline.geometry.dispose();\r\n            }\r\n            if (outlineData.outline.material) {\r\n                outlineData.outline.material.dispose();\r\n            }\r\n        }\r\n        this.outlineMap.clear();\r\n    }\r\n\r\n    /**\r\n     * Update outline color\r\n     */\r\n    setOutlineColor(color) {\r\n        this.outlineColor = this.hexToNumber(color);\r\n        \r\n        // Update all existing outlines\r\n        for (const [mesh, outlineData] of this.outlineMap.entries()) {\r\n            if (outlineData.outline.material) {\r\n                outlineData.outline.material.color.set(this.outlineColor);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Convert hex string to number\r\n     */\r\n    hexToNumber(hex) {\r\n        return parseInt(hex.replace('#', ''), 16);\r\n    }\r\n\r\n    /**\r\n     * Get outline for mesh\r\n     */\r\n    getOutline(mesh) {\r\n        const outlineData = this.outlineMap.get(mesh);\r\n        return outlineData ? outlineData.outline : null;\r\n    }\r\n\r\n    /**\r\n     * Check if mesh has outline\r\n     */\r\n    hasOutline(mesh) {\r\n        return this.outlineMap.has(mesh);\r\n    }\r\n\r\n    /**\r\n     * Dispose all resources\r\n     */\r\n    dispose() {\r\n        this.clearAllOutlines();\r\n    }\r\n}\r\n","/**\r\n * Object picking using raycasting\r\n */\r\n\r\nexport default class Picker {\r\n    constructor(camera, renderer) {\r\n        this.camera = camera;\r\n        this.renderer = renderer;\r\n        this.raycaster = new THREE.Raycaster();\r\n        this.mouse = new THREE.Vector2();\r\n    }\r\n\r\n    /**\r\n     * Update mouse position from event\r\n     */\r\n    updateMousePosition(event, canvas) {\r\n        const rect = canvas.getBoundingClientRect();\r\n        this.mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\r\n        this.mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\r\n    }\r\n\r\n    /**\r\n     * Pick objects at current mouse position\r\n     * @param {Array} objects - Array of THREE.Mesh objects to test\r\n     * @param {boolean} recursive - Whether to check children recursively\r\n     * @returns {THREE.Intersection|null} - First intersection or null\r\n     */\r\n    pick(objects, recursive = false) {\r\n        if (!objects || objects.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        // Update raycaster with camera and mouse position\r\n        this.raycaster.setFromCamera(this.mouse, this.camera);\r\n\r\n        // Perform raycast\r\n        const intersects = this.raycaster.intersectObjects(objects, recursive);\r\n\r\n        if (intersects.length > 0) {\r\n            return intersects[0];\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Pick all objects at current mouse position\r\n     * @param {Array} objects - Array of THREE.Mesh objects to test\r\n     * @param {boolean} recursive - Whether to check children recursively\r\n     * @returns {Array} - Array of intersections\r\n     */\r\n    pickAll(objects, recursive = false) {\r\n        if (!objects || objects.length === 0) {\r\n            return [];\r\n        }\r\n\r\n        // Update raycaster with camera and mouse position\r\n        this.raycaster.setFromCamera(this.mouse, this.camera);\r\n\r\n        // Perform raycast\r\n        return this.raycaster.intersectObjects(objects, recursive);\r\n    }\r\n\r\n    /**\r\n     * Pick object from click event\r\n     * @param {Event} event - Mouse click event\r\n     * @param {HTMLElement} canvas - Canvas element\r\n     * @param {Array} objects - Array of objects to test\r\n     * @param {boolean} recursive - Whether to check children recursively\r\n     * @returns {THREE.Intersection|null}\r\n     */\r\n    pickFromEvent(event, canvas, objects, recursive = false) {\r\n        this.updateMousePosition(event, canvas);\r\n        return this.pick(objects, recursive);\r\n    }\r\n\r\n    /**\r\n     * Get mouse position\r\n     */\r\n    getMousePosition() {\r\n        return this.mouse.clone();\r\n    }\r\n\r\n    /**\r\n     * Update camera reference\r\n     */\r\n    setCamera(camera) {\r\n        this.camera = camera;\r\n    }\r\n}\r\n","/**\r\n * Selection state management with multi-select support\r\n */\r\n\r\nexport default class SelectionManager {\r\n    constructor(eventEmitter) {\r\n        this.eventEmitter = eventEmitter;\r\n        this.selectedObjects = [];\r\n        this.selectedObject = null;\r\n    }\r\n\r\n    /**\r\n     * Select single object (replaces current selection)\r\n     */\r\n    select(object) {\r\n        if (!object) return;\r\n\r\n        // Store previous selection for event\r\n        const previousSelection = [...this.selectedObjects];\r\n\r\n        // Clear current selection\r\n        this.selectedObjects = [object];\r\n        this.selectedObject = object;\r\n\r\n        // Emit event\r\n        this.eventEmitter.emit('selectionChanged', this.selectedObjects, previousSelection);\r\n\r\n        return this.selectedObjects;\r\n    }\r\n\r\n    /**\r\n     * Add object to selection (multi-select)\r\n     */\r\n    addToSelection(object) {\r\n        if (!object) return;\r\n\r\n        // Check if already selected\r\n        if (this.selectedObjects.includes(object)) {\r\n            return this.selectedObjects;\r\n        }\r\n\r\n        // Store previous selection\r\n        const previousSelection = [...this.selectedObjects];\r\n\r\n        // Add to selection\r\n        this.selectedObjects.push(object);\r\n        this.selectedObject = this.selectedObjects[0];\r\n\r\n        // Emit event\r\n        this.eventEmitter.emit('selectionChanged', this.selectedObjects, previousSelection);\r\n\r\n        return this.selectedObjects;\r\n    }\r\n\r\n    /**\r\n     * Remove object from selection\r\n     */\r\n    removeFromSelection(object) {\r\n        if (!object) return;\r\n\r\n        const index = this.selectedObjects.indexOf(object);\r\n        if (index === -1) return;\r\n\r\n        // Store previous selection\r\n        const previousSelection = [...this.selectedObjects];\r\n\r\n        // Remove from selection\r\n        this.selectedObjects.splice(index, 1);\r\n        this.selectedObject = this.selectedObjects.length > 0 ? this.selectedObjects[0] : null;\r\n\r\n        // Emit event\r\n        this.eventEmitter.emit('selectionChanged', this.selectedObjects, previousSelection);\r\n\r\n        return this.selectedObjects;\r\n    }\r\n\r\n    /**\r\n     * Toggle object selection\r\n     */\r\n    toggle(object) {\r\n        if (!object) return;\r\n\r\n        if (this.selectedObjects.includes(object)) {\r\n            this.removeFromSelection(object);\r\n        } else {\r\n            this.addToSelection(object);\r\n        }\r\n\r\n        return this.selectedObjects;\r\n    }\r\n\r\n    /**\r\n     * Clear all selection\r\n     */\r\n    clear() {\r\n        if (this.selectedObjects.length === 0) return;\r\n\r\n        // Store previous selection\r\n        const previousSelection = [...this.selectedObjects];\r\n\r\n        // Clear selection\r\n        this.selectedObjects = [];\r\n        this.selectedObject = null;\r\n\r\n        // Emit event\r\n        this.eventEmitter.emit('selectionChanged', [], previousSelection);\r\n    }\r\n\r\n    /**\r\n     * Check if object is selected\r\n     */\r\n    isSelected(object) {\r\n        return this.selectedObjects.includes(object);\r\n    }\r\n\r\n    /**\r\n     * Get all selected objects\r\n     */\r\n    getSelectedObjects() {\r\n        return [...this.selectedObjects];\r\n    }\r\n\r\n    /**\r\n     * Get first selected object\r\n     */\r\n    getSelectedObject() {\r\n        return this.selectedObject;\r\n    }\r\n\r\n    /**\r\n     * Get selection count\r\n     */\r\n    getSelectionCount() {\r\n        return this.selectedObjects.length;\r\n    }\r\n\r\n    /**\r\n     * Check if has selection\r\n     */\r\n    hasSelection() {\r\n        return this.selectedObjects.length > 0;\r\n    }\r\n\r\n    /**\r\n     * Check if has multiple selections\r\n     */\r\n    hasMultipleSelections() {\r\n        return this.selectedObjects.length > 1;\r\n    }\r\n}\r\n","/**\r\n * Shape factory - Creates all 13 shape types\r\n */\r\n\r\nimport { SHAPE_TYPES, DEFAULT_COLORS } from '../utils/Constants.js';\r\n\r\nexport default class ShapeFactory {\r\n    constructor(config) {\r\n        this.config = config;\r\n        this.fontLoader = new THREE.FontLoader();\r\n        this.fonts = {};\r\n        this.shapeCounters = {\r\n            box: 0,\r\n            sphere: 0,\r\n            cylinder: 0,\r\n            cone: 0,\r\n            torus: 0,\r\n            plane: 0,\r\n            pyramid: 0,\r\n            torusknot: 0,\r\n            tetrahedron: 0,\r\n            octahedron: 0,\r\n            icosahedron: 0,\r\n            dodecahedron: 0,\r\n            text: 0\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Load fonts for text shapes\r\n     */\r\n    loadFonts(onComplete) {\r\n        const fontUrls = {\r\n            sans: 'https://threejs.org/examples/fonts/helvetiker_regular.typeface.json',\r\n            mono: '/src/font/DM_Mono_Regular.json',\r\n            serif: 'https://threejs.org/examples/fonts/gentilis_regular.typeface.json'\r\n        };\r\n\r\n        let loadedCount = 0;\r\n        const totalFonts = Object.keys(fontUrls).length;\r\n\r\n        for (const [fontName, url] of Object.entries(fontUrls)) {\r\n            this.fontLoader.load(\r\n                url,\r\n                (font) => {\r\n                    this.fonts[fontName] = font;\r\n                    loadedCount++;\r\n                    console.log(`SWK: Font loaded: ${fontName}`);\r\n                    \r\n                    if (loadedCount === totalFonts && onComplete) {\r\n                        onComplete();\r\n                    }\r\n                },\r\n                undefined,\r\n                (error) => {\r\n                    console.error(`SWK: Failed to load font ${fontName}:`, error);\r\n                    loadedCount++;\r\n                    \r\n                    if (loadedCount === totalFonts && onComplete) {\r\n                        onComplete();\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create shape by type\r\n     */\r\n    createShape(type, options = {}) {\r\n        const shapeType = type.toLowerCase();\r\n        \r\n        if (!Object.values(SHAPE_TYPES).includes(shapeType)) {\r\n            console.error(`SWK: Unknown shape type: ${type}`);\r\n            return null;\r\n        }\r\n\r\n        let geometry;\r\n        let name;\r\n        let isFlat = false;\r\n\r\n        switch (shapeType) {\r\n            case SHAPE_TYPES.BOX:\r\n                geometry = new THREE.BoxGeometry(1, 1, 1);\r\n                this.shapeCounters.box++;\r\n                name = `Box ${this.shapeCounters.box}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.SPHERE:\r\n                geometry = new THREE.SphereGeometry(0.5, 32, 32);\r\n                this.shapeCounters.sphere++;\r\n                name = `Sphere ${this.shapeCounters.sphere}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.CYLINDER:\r\n                geometry = new THREE.CylinderGeometry(0.5, 0.5, 1, 32);\r\n                this.shapeCounters.cylinder++;\r\n                name = `Cylinder ${this.shapeCounters.cylinder}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.CONE:\r\n                geometry = new THREE.ConeGeometry(0.5, 1, 32);\r\n                this.shapeCounters.cone++;\r\n                name = `Cone ${this.shapeCounters.cone}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.TORUS:\r\n                geometry = new THREE.TorusGeometry(0.5, 0.2, 16, 100);\r\n                this.shapeCounters.torus++;\r\n                name = `Torus ${this.shapeCounters.torus}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.PLANE:\r\n                geometry = new THREE.PlaneGeometry(1, 1);\r\n                this.shapeCounters.plane++;\r\n                name = `Plane ${this.shapeCounters.plane}`;\r\n                isFlat = true;\r\n                break;\r\n\r\n            case SHAPE_TYPES.PYRAMID:\r\n                geometry = new THREE.ConeGeometry(0.7, 1, 4);\r\n                this.shapeCounters.pyramid++;\r\n                name = `Pyramid ${this.shapeCounters.pyramid}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.TORUS_KNOT:\r\n                geometry = new THREE.TorusKnotGeometry(0.4, 0.15, 100, 16);\r\n                this.shapeCounters.torusknot++;\r\n                name = `TorusKnot ${this.shapeCounters.torusknot}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.TETRAHEDRON:\r\n                geometry = new THREE.TetrahedronGeometry(0.7);\r\n                this.shapeCounters.tetrahedron++;\r\n                name = `Tetrahedron ${this.shapeCounters.tetrahedron}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.OCTAHEDRON:\r\n                geometry = new THREE.OctahedronGeometry(0.7);\r\n                this.shapeCounters.octahedron++;\r\n                name = `Octahedron ${this.shapeCounters.octahedron}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.ICOSAHEDRON:\r\n                geometry = new THREE.IcosahedronGeometry(0.7);\r\n                this.shapeCounters.icosahedron++;\r\n                name = `Icosahedron ${this.shapeCounters.icosahedron}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.DODECAHEDRON:\r\n                geometry = new THREE.DodecahedronGeometry(0.7);\r\n                this.shapeCounters.dodecahedron++;\r\n                name = `Dodecahedron ${this.shapeCounters.dodecahedron}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.TEXT:\r\n                const textContent = options.text || 'Text';\r\n                const font = options.font || 'sans';\r\n                const height = options.height || 0.2;\r\n                const bevel = options.bevel || 0.01;\r\n                \r\n                geometry = this.createTextGeometry(textContent, font, height, bevel);\r\n                if (!geometry) {\r\n                    console.warn('SWK: Text geometry not ready, fonts may not be loaded');\r\n                    return null;\r\n                }\r\n                this.shapeCounters.text++;\r\n                name = `Text ${this.shapeCounters.text}`;\r\n                isFlat = true;\r\n                break;\r\n        }\r\n\r\n        // Compute geometry bounds\r\n        geometry.computeBoundingBox();\r\n        geometry.computeBoundingSphere();\r\n        geometry.center();\r\n\r\n        // Create material\r\n        const color = options.color || DEFAULT_COLORS.SHAPE_DEFAULT;\r\n        const material = new THREE.MeshStandardMaterial({\r\n            color: color,\r\n            roughness: 0.5,\r\n            metalness: 0.3,\r\n            transparent: false,\r\n            opacity: 1.0\r\n        });\r\n\r\n        // Create mesh\r\n        const mesh = new THREE.Mesh(geometry, material);\r\n        mesh.name = name;\r\n        mesh.castShadow = true;\r\n        mesh.receiveShadow = true;\r\n        \r\n        // Store color in userData\r\n        mesh.userData.color = color;\r\n        mesh.userData.shapeType = shapeType;\r\n        mesh.userData.isUserObject = true;  \r\n        mesh.userData.id = mesh.uuid;\r\n\r\n        // Position the shape\r\n        if (isFlat || shapeType === SHAPE_TYPES.TEXT) {\r\n            mesh.position.set(0, 0, 0);\r\n        } else {\r\n            // Raise 3D objects above ground\r\n            const bbox = geometry.boundingBox;\r\n            const height = bbox.max.y - bbox.min.y;\r\n            mesh.position.set(0, height / 2, 0);\r\n        }\r\n\r\n        // Store text-specific data if it's a text shape\r\n        if (shapeType === SHAPE_TYPES.TEXT) {\r\n            mesh.userData.textContent = options.text || 'Text';\r\n            mesh.userData.textFont = options.font || 'sans';\r\n            mesh.userData.textHeight = options.height || 0.2;\r\n            mesh.userData.textBevel = options.bevel || 0.01;\r\n        }\r\n\r\n        // Apply options (for restoring from history)\r\n        if (options.position) {\r\n            mesh.position.fromArray(options.position);\r\n        }\r\n        if (options.rotation) {\r\n            mesh.rotation.fromArray(options.rotation);\r\n        }\r\n        if (options.scale) {\r\n            mesh.scale.fromArray(options.scale);\r\n        }\r\n\r\n        return mesh;\r\n    }\r\n\r\n    /**\r\n     * Create text geometry\r\n     */\r\n    createTextGeometry(text, fontName = 'sans', height = 0.2, bevel = 0.01) {\r\n        if (!this.fonts[fontName]) {\r\n            console.warn(`SWK: Font ${fontName} not loaded yet`);\r\n            // Try to use sans as fallback\r\n            fontName = 'sans';\r\n            if (!this.fonts[fontName]) {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        const geometry = new THREE.TextGeometry(text, {\r\n            font: this.fonts[fontName],\r\n            size: 1,\r\n            height: height,\r\n            curveSegments: 12,\r\n            bevelEnabled: true,\r\n            bevelThickness: bevel,\r\n            bevelSize: bevel,\r\n            bevelSegments: 5\r\n        });\r\n\r\n        geometry.computeBoundingBox();\r\n        geometry.computeBoundingSphere();\r\n        geometry.center();\r\n\r\n        return geometry;\r\n    }\r\n\r\n    /**\r\n     * Update text geometry\r\n     */\r\n    updateTextGeometry(mesh, text, font, height, bevel) {\r\n        if (mesh.userData.shapeType !== SHAPE_TYPES.TEXT) {\r\n            return false;\r\n        }\r\n\r\n        const newGeometry = this.createTextGeometry(text, font, height, bevel);\r\n        if (!newGeometry) {\r\n            return false;\r\n        }\r\n\r\n        // Replace geometry\r\n        mesh.geometry.dispose();\r\n        mesh.geometry = newGeometry;\r\n\r\n        // Update user data\r\n        mesh.userData.textContent = text;\r\n        mesh.userData.textFont = font;\r\n        mesh.userData.textHeight = height;\r\n        mesh.userData.textBevel = bevel;\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get shape counters\r\n     */\r\n    getCounters() {\r\n        return { ...this.shapeCounters };\r\n    }\r\n\r\n    /**\r\n     * Set shape counters (for undo/redo)\r\n     */\r\n    setCounters(counters) {\r\n        this.shapeCounters = { ...counters };\r\n    }\r\n}\r\n","/**\r\n * Snap settings manager for transform controls\r\n */\r\n\r\nimport { SNAP_VALUES } from '../utils/Constants.js';\r\nimport { degToRad } from '../utils/Helpers.js';\r\n\r\nexport default class SnapManager {\r\n    constructor(transformControls, config, eventEmitter) {\r\n        this.transformControls = transformControls;\r\n        this.config = config;\r\n        this.eventEmitter = eventEmitter;\r\n        \r\n        this.snapUnit = config.get('transform.snapUnit');\r\n        this.rotationSnapDegrees = 15; // Default rotation snap in degrees\r\n        \r\n        this.applySnap();\r\n    }\r\n\r\n    /**\r\n     * Apply snap settings to transform controls\r\n     */\r\n    applySnap() {\r\n        if (!this.transformControls) return;\r\n\r\n        // Translation snap\r\n        this.transformControls.setTranslationSnap(this.snapUnit);\r\n        \r\n        // Rotation snap (in radians)\r\n        const rotationSnapRadians = this.snapUnit > 0 ? degToRad(this.rotationSnapDegrees) : null;\r\n        this.transformControls.setRotationSnap(rotationSnapRadians);\r\n        \r\n        // Scale snap\r\n        this.transformControls.setScaleSnap(this.snapUnit);\r\n    }\r\n\r\n    /**\r\n     * Set snap unit\r\n     */\r\n    setSnapUnit(value) {\r\n        if (typeof value !== 'number' || value < 0) {\r\n            console.warn(`SWK: Invalid snap unit: ${value}`);\r\n            return;\r\n        }\r\n\r\n        this.snapUnit = value;\r\n        this.config.set('transform.snapUnit', value);\r\n        this.applySnap();\r\n        this.eventEmitter.emit('snapUnitChanged', value);\r\n    }\r\n\r\n    /**\r\n     * Get snap unit\r\n     */\r\n    getSnapUnit() {\r\n        return this.snapUnit;\r\n    }\r\n\r\n    /**\r\n     * Set rotation snap (in degrees)\r\n     */\r\n    setRotationSnap(degrees) {\r\n        if (typeof degrees !== 'number' || degrees < 0) {\r\n            console.warn(`SWK: Invalid rotation snap: ${degrees}`);\r\n            return;\r\n        }\r\n\r\n        this.rotationSnapDegrees = degrees;\r\n        this.applySnap();\r\n        this.eventEmitter.emit('rotationSnapChanged', degrees);\r\n    }\r\n\r\n    /**\r\n     * Get rotation snap (in degrees)\r\n     */\r\n    getRotationSnap() {\r\n        return this.rotationSnapDegrees;\r\n    }\r\n\r\n    /**\r\n     * Toggle snap on/off\r\n     */\r\n    toggleSnap() {\r\n        if (this.snapUnit > 0) {\r\n            // Disable snap\r\n            this.setSnapUnit(0);\r\n        } else {\r\n            // Enable snap with default value\r\n            this.setSnapUnit(0.1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if snap is enabled\r\n     */\r\n    isSnapEnabled() {\r\n        return this.snapUnit > 0;\r\n    }\r\n\r\n    /**\r\n     * Cycle through predefined snap values\r\n     */\r\n    cycleSnapValue() {\r\n        const currentIndex = SNAP_VALUES.indexOf(this.snapUnit);\r\n        const nextIndex = (currentIndex + 1) % SNAP_VALUES.length;\r\n        this.setSnapUnit(SNAP_VALUES[nextIndex]);\r\n    }\r\n\r\n    /**\r\n     * Get available snap values\r\n     */\r\n    getAvailableSnapValues() {\r\n        return [...SNAP_VALUES];\r\n    }\r\n}\r\n","/**\r\n * Transform controls manager with mode switching\r\n */\r\n\r\nimport { TRANSFORM_MODES } from '../utils/Constants.js';\r\n\r\nexport default class TransformManager {\r\n    constructor(camera, canvas, scene, config, eventEmitter) {\r\n        this.camera = camera;\r\n        this.canvas = canvas;\r\n        this.scene = scene;\r\n        this.config = config;\r\n        this.eventEmitter = eventEmitter;\r\n        \r\n        this.transformControls = null;\r\n        this.currentMode = config.get('transform.mode');\r\n        this.currentSpace = config.get('transform.space');\r\n        \r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     * Initialize transform controls\r\n     */\r\n    init() {\r\n        this.transformControls = new THREE.TransformControls(this.camera, this.canvas);\r\n        \r\n        // Set initial mode and space\r\n        this.transformControls.setMode(this.currentMode);\r\n        this.transformControls.setSpace(this.currentSpace);\r\n        \r\n        // Add to scene\r\n        this.scene.add(this.transformControls);\r\n        \r\n        // Listen to transform events\r\n        this.transformControls.addEventListener('change', this.onChange.bind(this));\r\n        this.transformControls.addEventListener('dragging-changed', this.onDraggingChanged.bind(this));\r\n        this.transformControls.addEventListener('objectChange', this.onObjectChange.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Handle transform change\r\n     */\r\n    onChange() {\r\n        // Emit transform event\r\n        this.eventEmitter.emit('transform');\r\n    }\r\n\r\n    /**\r\n     * Handle dragging state change\r\n     */\r\n    onDraggingChanged(event) {\r\n        // Emit dragging event\r\n        this.eventEmitter.emit('transformDragging', event.value);\r\n        \r\n        // Disable/enable orbit controls\r\n        this.eventEmitter.emit('orbitControlsEnabled', !event.value);\r\n    }\r\n\r\n    /**\r\n     * Handle object change\r\n     */\r\n    onObjectChange() {\r\n        const object = this.transformControls.object;\r\n        if (object) {\r\n            this.eventEmitter.emit('objectTransformed', object);\r\n            \r\n            // Execute callback\r\n            const callback = this.config.get('callbacks.onTransformChange');\r\n            if (callback && typeof callback === 'function') {\r\n                callback(object);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set transform mode\r\n     */\r\n    setMode(mode) {\r\n        if (!Object.values(TRANSFORM_MODES).includes(mode)) {\r\n            console.warn(`SWK: Invalid transform mode: ${mode}`);\r\n            return;\r\n        }\r\n\r\n        this.currentMode = mode;\r\n        this.transformControls.setMode(mode);\r\n        this.config.set('transform.mode', mode);\r\n        this.eventEmitter.emit('transformModeChanged', mode);\r\n    }\r\n\r\n    /**\r\n     * Get current mode\r\n     */\r\n    getMode() {\r\n        return this.currentMode;\r\n    }\r\n\r\n    /**\r\n     * Set transform space\r\n     */\r\n    setSpace(space) {\r\n        if (space !== 'local' && space !== 'world') {\r\n            console.warn(`SWK: Invalid transform space: ${space}`);\r\n            return;\r\n        }\r\n\r\n        this.currentSpace = space;\r\n        this.transformControls.setSpace(space);\r\n        this.config.set('transform.space', space);\r\n        this.eventEmitter.emit('transformSpaceChanged', space);\r\n    }\r\n\r\n    /**\r\n     * Get current space\r\n     */\r\n    getSpace() {\r\n        return this.currentSpace;\r\n    }\r\n\r\n    /**\r\n     * Attach to object\r\n     */\r\n    attach(object) {\r\n        if (object) {\r\n            this.transformControls.attach(object);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Detach from object\r\n     */\r\n    detach() {\r\n        this.transformControls.detach();\r\n    }\r\n\r\n    /**\r\n     * Get attached object\r\n     */\r\n    getAttachedObject() {\r\n        return this.transformControls.object || null;\r\n    }\r\n\r\n    /**\r\n     * Check if dragging\r\n     */\r\n    isDragging() {\r\n        return this.transformControls.dragging || false;\r\n    }\r\n\r\n    /**\r\n     * Enable transform controls\r\n     */\r\n    enable() {\r\n        this.transformControls.enabled = true;\r\n    }\r\n\r\n    /**\r\n     * Disable transform controls\r\n     */\r\n    disable() {\r\n        this.transformControls.enabled = false;\r\n    }\r\n\r\n    /**\r\n     * Update camera reference\r\n     */\r\n    setCamera(camera) {\r\n        this.camera = camera;\r\n        this.transformControls.camera = camera;\r\n    }\r\n\r\n    /**\r\n     * Get transform controls instance\r\n     */\r\n    getControls() {\r\n        return this.transformControls;\r\n    }\r\n\r\n    /**\r\n     * Dispose transform controls\r\n     */\r\n    dispose() {\r\n        if (this.transformControls) {\r\n            this.transformControls.removeEventListener('change', this.onChange.bind(this));\r\n            this.transformControls.removeEventListener('dragging-changed', this.onDraggingChanged.bind(this));\r\n            this.transformControls.removeEventListener('objectChange', this.onObjectChange.bind(this));\r\n            this.transformControls.detach();\r\n            this.scene.remove(this.transformControls);\r\n            this.transformControls.dispose();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * ControlsPanel.js\r\n * Bottom toolbar with transform modes, camera controls, history, and export\r\n */\r\n\r\nimport EventEmitter from '../core/EventEmitter.js';\r\nimport { TRANSFORM_MODES, CAMERA_MODES } from '../utils/Constants.js';\r\n\r\nclass ControlsPanel extends EventEmitter {\r\n    /**\r\n     * @param {HTMLElement} container - Panel container element\r\n     * @param {SWK} swkInstance - Main SWK instance\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(container, swkInstance, config) {\r\n        super();\r\n        \r\n        this.container = container;\r\n        this.swk = swkInstance;\r\n        this.config = config;\r\n    }\r\n\r\n    /**\r\n     * Render the controls panel\r\n     */\r\n    render() {\r\n        this.container.innerHTML = `\r\n            <div class=\"swk-controls-toolbar\">\r\n                <!-- Transform Modes -->\r\n                <div class=\"swk-control-group\">\r\n                    <span class=\"swk-control-label\">Transform</span>\r\n                    <div class=\"swk-button-group\">\r\n                        <button class=\"swk-control-button active\" data-mode=\"translate\" title=\"Translate (T)\">\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" data-mode=\"rotate\" title=\"Rotate (R)\">\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" data-mode=\"scale\" title=\"Scale (S)\">\r\n                            <span></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Camera Modes -->\r\n                <div class=\"swk-control-group\">\r\n                    <span class=\"swk-control-label\">Camera</span>\r\n                    <div class=\"swk-button-group\">\r\n                        <button class=\"swk-control-button active\" data-camera=\"perspective\" title=\"Perspective\">\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" data-camera=\"orthographic\" title=\"Orthographic\">\r\n                            <span></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Snap Settings -->\r\n                <div class=\"swk-control-group\">\r\n                    <span class=\"swk-control-label\">Snap</span>\r\n                    <select class=\"swk-control-select\" id=\"swk-snap-select\">\r\n                        <option value=\"0\">Off</option>\r\n                        <option value=\"0.01\">0.01</option>\r\n                        <option value=\"0.025\">0.025</option>\r\n                        <option value=\"0.05\">0.05</option>\r\n                        <option value=\"0.1\" selected>0.1</option>\r\n                        <option value=\"0.2\">0.2</option>\r\n                        <option value=\"0.5\">0.5</option>\r\n                    </select>\r\n                </div>\r\n                \r\n                <!-- History -->\r\n                <div class=\"swk-control-group\">\r\n                    <span class=\"swk-control-label\">History</span>\r\n                    <div class=\"swk-button-group\">\r\n                        <button class=\"swk-control-button\" id=\"swk-undo-btn\" title=\"Undo (Ctrl+Z)\" disabled>\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" id=\"swk-redo-btn\" title=\"Redo (Ctrl+Y)\" disabled>\r\n                            <span></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Actions -->\r\n                <div class=\"swk-control-group\">\r\n                    <span class=\"swk-control-label\">Actions</span>\r\n                    <div class=\"swk-button-group\">\r\n                        <button class=\"swk-control-button\" id=\"swk-group-btn\" title=\"Group Selected\">\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" id=\"swk-ungroup-btn\" title=\"Ungroup\">\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" id=\"swk-duplicate-btn\" title=\"Duplicate\">\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button swk-control-button-danger\" id=\"swk-delete-btn\" title=\"Delete\">\r\n                            <span></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Export -->\r\n                <div class=\"swk-control-group\">\r\n                    <span class=\"swk-control-label\">Export</span>\r\n                    <div class=\"swk-button-group\">\r\n                        <button class=\"swk-control-button\" id=\"swk-export-gltf-btn\" title=\"Export GLTF\">\r\n                            <span>GLTF</span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" id=\"swk-export-stl-btn\" title=\"Export STL\">\r\n                            <span>STL</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n        \r\n        this.attachEventListeners();\r\n    }\r\n\r\n    /**\r\n     * Attach event listeners to controls\r\n     */\r\n    attachEventListeners() {\r\n        // Transform mode buttons\r\n        const transformButtons = this.container.querySelectorAll('[data-mode]');\r\n        transformButtons.forEach(btn => {\r\n            btn.addEventListener('click', () => {\r\n                const mode = btn.getAttribute('data-mode');\r\n                this.swk.setTransformMode(mode);\r\n            });\r\n        });\r\n        \r\n        // Camera mode buttons\r\n        const cameraButtons = this.container.querySelectorAll('[data-camera]');\r\n        cameraButtons.forEach(btn => {\r\n            btn.addEventListener('click', () => {\r\n                const mode = btn.getAttribute('data-camera');\r\n                this.swk.setCameraMode(mode);\r\n            });\r\n        });\r\n        \r\n        // Snap select\r\n        const snapSelect = document.getElementById('swk-snap-select');\r\n        if (snapSelect) {\r\n            snapSelect.addEventListener('change', (e) => {\r\n                const value = parseFloat(e.target.value);\r\n                this.swk.setSnapUnit(value);\r\n            });\r\n        }\r\n        \r\n        // History buttons\r\n        const undoBtn = document.getElementById('swk-undo-btn');\r\n        if (undoBtn) {\r\n            undoBtn.addEventListener('click', () => this.swk.undo());\r\n        }\r\n        \r\n        const redoBtn = document.getElementById('swk-redo-btn');\r\n        if (redoBtn) {\r\n            redoBtn.addEventListener('click', () => this.swk.redo());\r\n        }\r\n        \r\n        // Action buttons\r\n        const groupBtn = document.getElementById('swk-group-btn');\r\n        if (groupBtn) {\r\n            groupBtn.addEventListener('click', () => this.swk.groupSelected());\r\n        }\r\n        \r\n        const ungroupBtn = document.getElementById('swk-ungroup-btn');\r\n        if (ungroupBtn) {\r\n            ungroupBtn.addEventListener('click', () => this.swk.ungroupSelected());\r\n        }\r\n        \r\n        const duplicateBtn = document.getElementById('swk-duplicate-btn');\r\n        if (duplicateBtn) {\r\n            duplicateBtn.addEventListener('click', () => this.swk.duplicateObject());\r\n        }\r\n        \r\n        const deleteBtn = document.getElementById('swk-delete-btn');\r\n        if (deleteBtn) {\r\n            deleteBtn.addEventListener('click', () => this.swk.deleteObject());\r\n        }\r\n        \r\n        // Export buttons\r\n        const exportGltfBtn = document.getElementById('swk-export-gltf-btn');\r\n        if (exportGltfBtn) {\r\n            exportGltfBtn.addEventListener('click', () => this.exportGLTF());\r\n        }\r\n        \r\n        const exportStlBtn = document.getElementById('swk-export-stl-btn');\r\n        if (exportStlBtn) {\r\n            exportStlBtn.addEventListener('click', () => this.exportSTL());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update transform mode buttons\r\n     * @param {string} mode - Current transform mode\r\n     */\r\n    updateTransformMode(mode) {\r\n        const buttons = this.container.querySelectorAll('[data-mode]');\r\n        buttons.forEach(btn => {\r\n            if (btn.getAttribute('data-mode') === mode) {\r\n                btn.classList.add('active');\r\n            } else {\r\n                btn.classList.remove('active');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Update camera mode buttons\r\n     * @param {string} mode - Current camera mode\r\n     */\r\n    updateCameraMode(mode) {\r\n        const buttons = this.container.querySelectorAll('[data-camera]');\r\n        buttons.forEach(btn => {\r\n            if (btn.getAttribute('data-camera') === mode) {\r\n                btn.classList.add('active');\r\n            } else {\r\n                btn.classList.remove('active');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Update history button states\r\n     * @param {Object} data - History state data\r\n     */\r\n    updateHistoryState(data) {\r\n        const undoBtn = document.getElementById('swk-undo-btn');\r\n        const redoBtn = document.getElementById('swk-redo-btn');\r\n        \r\n        if (undoBtn) {\r\n            undoBtn.disabled = !data.canUndo;\r\n        }\r\n        \r\n        if (redoBtn) {\r\n            redoBtn.disabled = !data.canRedo;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Export scene as GLTF\r\n     */\r\n    async exportGLTF() {\r\n        try {\r\n            const success = await this.swk.exportGLTF();\r\n            if (success) {\r\n                console.log(' GLTF export completed');\r\n            } else {\r\n                console.warn(' GLTF export failed or cancelled');\r\n            }\r\n        } catch (error) {\r\n            console.error(' Failed to export GLTF:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Export scene as STL\r\n     */\r\n    async exportSTL() {\r\n        try {\r\n            const success = await this.swk.exportSTL();\r\n            if (success) {\r\n                console.log(' STL export completed');\r\n            } else {\r\n                console.warn(' STL export failed or cancelled');\r\n            }\r\n        } catch (error) {\r\n            console.error(' Failed to export STL:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Refresh the panel\r\n     */\r\n    refresh() {\r\n        // Update button states based on current state\r\n        this.updateTransformMode(this.swk.transformManager.getMode());\r\n        this.updateCameraMode(this.swk.cameraManager.getMode());\r\n        \r\n        if (this.swk.historyManager) {\r\n            this.updateHistoryState({\r\n                canUndo: this.swk.canUndo(),\r\n                canRedo: this.swk.canRedo()\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clean up\r\n     */\r\n    destroy() {\r\n        this.removeAllListeners();\r\n    }\r\n}\r\n\r\nexport default ControlsPanel;\r\n","/**\r\n * OutlinerPanel.js\r\n * Scene hierarchy panel showing all objects and groups\r\n */\r\n\r\nimport EventEmitter from '../core/EventEmitter.js';\r\n\r\nclass OutlinerPanel extends EventEmitter {\r\n    /**\r\n     * @param {HTMLElement} container - Panel container element\r\n     * @param {SWK} swkInstance - Main SWK instance\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(container, swkInstance, config) {\r\n        super();\r\n        \r\n        this.container = container;\r\n        this.swk = swkInstance;\r\n        this.config = config;\r\n        \r\n        this.expandedGroups = new Set();\r\n    }\r\n\r\n    /**\r\n     * Render the outliner panel\r\n     */\r\n    render() {\r\n        this.container.innerHTML = `\r\n            <div class=\"swk-panel-header\">\r\n                <h3>Outliner</h3>\r\n                <button class=\"swk-panel-button\" id=\"swk-outliner-refresh\" title=\"Refresh\"></button>\r\n            </div>\r\n            <div class=\"swk-panel-content\">\r\n                <div class=\"swk-outliner-tree\" id=\"swk-outliner-tree\"></div>\r\n            </div>\r\n        `;\r\n        \r\n        // Refresh button\r\n        const refreshBtn = document.getElementById('swk-outliner-refresh');\r\n        if (refreshBtn) {\r\n            refreshBtn.addEventListener('click', () => this.refresh());\r\n        }\r\n        \r\n        this.refresh();\r\n    }\r\n\r\n    /**\r\n     * Refresh the outliner tree\r\n     */\r\n    refresh() {\r\n        const tree = document.getElementById('swk-outliner-tree');\r\n        if (!tree) return;\r\n        \r\n        // Get all groups\r\n        const groups = this.swk.getAllGroups();\r\n        \r\n        // Get all objects that are NOT in groups\r\n        const allObjects = this.swk.objects || [];\r\n        const groupedObjectIds = new Set();\r\n        \r\n        groups.forEach(group => {\r\n            const children = this.swk.getGroupChildren(group.container);\r\n            children.forEach(child => {\r\n                groupedObjectIds.add(child.uuid);\r\n            });\r\n        });\r\n        \r\n        const ungroupedObjects = allObjects.filter(obj => \r\n            !groupedObjectIds.has(obj.uuid) && obj.visible\r\n        );\r\n        \r\n        if (groups.length === 0 && ungroupedObjects.length === 0) {\r\n            tree.innerHTML = `\r\n                <div class=\"swk-outliner-empty\">\r\n                    <p>No objects in scene</p>\r\n                    <small>Add shapes to see them here</small>\r\n                </div>\r\n            `;\r\n            return;\r\n        }\r\n        \r\n        tree.innerHTML = '';\r\n        \r\n        // Show groups first\r\n        groups.forEach(group => {\r\n            const item = this.createTreeItem(group.container);\r\n            tree.appendChild(item);\r\n        });\r\n        \r\n        // Then show ungrouped objects\r\n        ungroupedObjects.forEach(obj => {\r\n            const item = this.createTreeItem(obj);\r\n            tree.appendChild(item);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Create a tree item for an object\r\n     * @param {THREE.Object3D} object - The object\r\n     * @param {number} level - Nesting level\r\n     * @returns {HTMLElement} Tree item element\r\n     */\r\n    createTreeItem(object, level = 0) {\r\n        const isGroup = this.swk.isGroupContainer(object);\r\n        const isSelected = this.swk.selectionManager.isSelected(object);\r\n        const isExpanded = this.expandedGroups.has(object.userData.id);\r\n        \r\n        const item = document.createElement('div');\r\n        item.className = 'swk-outliner-item';\r\n        item.setAttribute('data-object-id', object.userData.id);\r\n        if (isSelected) {\r\n            item.classList.add('swk-outliner-item-selected');\r\n        }\r\n        \r\n        // Indentation\r\n        const indent = level * 20;\r\n        \r\n        // Content\r\n        let icon = '';\r\n        if (isGroup) {\r\n            icon = isExpanded ? '' : '';\r\n        } else if (object.userData.shapeType) {\r\n            icon = this.getShapeIcon(object.userData.shapeType);\r\n        }\r\n        \r\n        item.innerHTML = `\r\n            <div class=\"swk-outliner-item-content\" style=\"padding-left: ${indent}px;\">\r\n                ${isGroup ? `<span class=\"swk-outliner-toggle\" data-object-id=\"${object.userData.id}\">${icon}</span>` : `<span class=\"swk-outliner-icon\">${icon}</span>`}\r\n                <span class=\"swk-outliner-name\">${object.name}</span>\r\n                <span class=\"swk-outliner-type\">${isGroup ? 'Group' : object.userData.shapeType || ''}</span>\r\n            </div>\r\n        `;\r\n        \r\n        // Click to select\r\n        const content = item.querySelector('.swk-outliner-item-content');\r\n        content.addEventListener('click', (e) => {\r\n            if (!e.target.classList.contains('swk-outliner-toggle')) {\r\n                this.selectObject(object);\r\n            }\r\n        });\r\n        \r\n        // Toggle group expansion\r\n        if (isGroup) {\r\n            const toggle = item.querySelector('.swk-outliner-toggle');\r\n            if (toggle) {\r\n                toggle.addEventListener('click', (e) => {\r\n                    e.stopPropagation();\r\n                    this.toggleGroup(object);\r\n                });\r\n            }\r\n        }\r\n        \r\n        // Add children if group is expanded\r\n        if (isGroup && isExpanded) {\r\n            const children = this.swk.getGroupChildren(object);\r\n            children.forEach(child => {\r\n                const childItem = this.createTreeItem(child, level + 1);\r\n                item.appendChild(childItem);\r\n            });\r\n        }\r\n        \r\n        return item;\r\n    }\r\n\r\n    /**\r\n     * Get icon for shape type\r\n     * @param {string} type - Shape type\r\n     * @returns {string} Icon character\r\n     */\r\n    getShapeIcon(type) {\r\n        const icons = {\r\n            'box': '',\r\n            'sphere': '',\r\n            'cylinder': '',\r\n            'cone': '',\r\n            'torus': '',\r\n            'plane': '',\r\n            'pyramid': '',\r\n            'torusknot': '',\r\n            'tetrahedron': '',\r\n            'octahedron': '',\r\n            'icosahedron': '',\r\n            'dodecahedron': '',\r\n            'text': 'T'\r\n        };\r\n        return icons[type] || '';\r\n    }\r\n\r\n    /**\r\n     * Select an object\r\n     * @param {THREE.Object3D} object - Object to select\r\n     */\r\n    selectObject(object) {\r\n        // If the object is part of a group, select the group instead\r\n        if (this.swk.isGrouped(object)) {\r\n            const group = this.swk.groupManager.findObjectGroup(object);\r\n            if (group && group.container) {\r\n                this.swk.selectObject(group.container);\r\n                return;\r\n            }\r\n        }\r\n        \r\n        this.swk.selectObject(object);\r\n    }\r\n\r\n    /**\r\n     * Toggle group expansion\r\n     * @param {THREE.Object3D} group - Group to toggle\r\n     */\r\n    toggleGroup(group) {\r\n        const id = group.userData.id;\r\n        if (this.expandedGroups.has(id)) {\r\n            this.expandedGroups.delete(id);\r\n        } else {\r\n            this.expandedGroups.add(id);\r\n        }\r\n        this.refresh();\r\n    }\r\n\r\n    /**\r\n     * Update selection highlighting\r\n     * @param {Array} selectedObjects - Selected objects\r\n     */\r\n    updateSelection(selectedObjects) {\r\n        // Remove all selected classes\r\n        const items = this.container.querySelectorAll('.swk-outliner-item-selected');\r\n        items.forEach(item => item.classList.remove('swk-outliner-item-selected'));\r\n        \r\n        // Add selected class to selected objects\r\n        selectedObjects.forEach(obj => {\r\n            const item = this.container.querySelector(`[data-object-id=\"${obj.userData.id}\"]`);\r\n            if (item) {\r\n                item.classList.add('swk-outliner-item-selected');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Add an object to the outliner\r\n     * @param {THREE.Object3D} object - Object to add\r\n     */\r\n    addObject(object) {\r\n        this.refresh();\r\n    }\r\n\r\n    /**\r\n     * Remove an object from the outliner\r\n     * @param {THREE.Object3D} object - Object to remove\r\n     */\r\n    removeObject(object) {\r\n        this.refresh();\r\n    }\r\n\r\n    /**\r\n     * Clean up\r\n     */\r\n    destroy() {\r\n        this.expandedGroups.clear();\r\n        this.removeAllListeners();\r\n    }\r\n}\r\n\r\nexport default OutlinerPanel;\r\n","/**\r\n * PropertyPanel.js\r\n * Property editor panel for selected objects\r\n * Shows and allows editing of position, rotation, scale, color, and text properties\r\n */\r\n\r\nimport EventEmitter from '../core/EventEmitter.js';\r\nimport { SHAPE_TYPES } from '../utils/Constants.js';\r\n\r\nclass PropertyPanel extends EventEmitter {\r\n    /**\r\n     * @param {HTMLElement} container - Panel container element\r\n     * @param {SWK} swkInstance - Main SWK instance\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(container, swkInstance, config) {\r\n        super();\r\n        \r\n        this.container = container;\r\n        this.swk = swkInstance;\r\n        this.config = config;\r\n        \r\n        this.selectedObjects = [];\r\n        this.isUpdating = false; // Prevent feedback loops\r\n    }\r\n\r\n    /**\r\n     * Render the property panel\r\n     */\r\n    render() {\r\n        this.container.innerHTML = `\r\n            <div class=\"swk-panel-header\">\r\n                <h3>Properties</h3>\r\n            </div>\r\n            <div class=\"swk-panel-content\" id=\"swk-property-content\">\r\n                <div class=\"swk-property-empty\">\r\n                    <p>No object selected</p>\r\n                    <small>Select an object to edit its properties</small>\r\n                </div>\r\n            </div>\r\n        `;\r\n        \r\n        this.contentElement = document.getElementById('swk-property-content');\r\n    }\r\n\r\n    /**\r\n     * Update the panel when selection changes\r\n     * @param {Array} selectedObjects - Array of selected objects\r\n     */\r\n    updateSelection(selectedObjects) {\r\n        this.selectedObjects = selectedObjects;\r\n        this.refresh();\r\n    }\r\n\r\n    /**\r\n     * Refresh the property panel content\r\n     */\r\n    refresh() {\r\n        if (!this.contentElement) return;\r\n        \r\n        if (this.selectedObjects.length === 0) {\r\n            this.showEmptyState();\r\n        } else if (this.selectedObjects.length === 1) {\r\n            this.showSingleObjectProperties(this.selectedObjects[0]);\r\n        } else {\r\n            this.showMultipleObjectsProperties(this.selectedObjects);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Show empty state\r\n     */\r\n    showEmptyState() {\r\n        this.contentElement.innerHTML = `\r\n            <div class=\"swk-property-empty\">\r\n                <p>No object selected</p>\r\n                <small>Select an object to edit its properties</small>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    /**\r\n     * Show properties for a single object\r\n     * @param {THREE.Object3D} object - The selected object\r\n     */\r\n    showSingleObjectProperties(object) {\r\n        const isText = object.userData.shapeType === SHAPE_TYPES.TEXT;\r\n        const isGroup = this.swk.isGroupContainer(object);\r\n        \r\n        this.contentElement.innerHTML = `\r\n            <div class=\"swk-property-section\">\r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Name</label>\r\n                    <input type=\"text\" class=\"swk-property-input\" id=\"prop-name\" value=\"${object.name}\">\r\n                </div>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Type</label>\r\n                    <input type=\"text\" class=\"swk-property-input\" readonly value=\"${isGroup ? 'Group' : object.userData.shapeType || 'Object'}\">\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"swk-property-section\">\r\n                <h4 class=\"swk-property-section-title\">Transform</h4>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Position</label>\r\n                    <div class=\"swk-property-vector\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-pos-x\" value=\"${object.position.x.toFixed(2)}\" step=\"0.1\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-pos-y\" value=\"${object.position.y.toFixed(2)}\" step=\"0.1\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-pos-z\" value=\"${object.position.z.toFixed(2)}\" step=\"0.1\">\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Rotation ()</label>\r\n                    <div class=\"swk-property-vector\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-rot-x\" value=\"${(object.rotation.x * 180 / Math.PI).toFixed(1)}\" step=\"1\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-rot-y\" value=\"${(object.rotation.y * 180 / Math.PI).toFixed(1)}\" step=\"1\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-rot-z\" value=\"${(object.rotation.z * 180 / Math.PI).toFixed(1)}\" step=\"1\">\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Scale</label>\r\n                    <div class=\"swk-property-vector\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-scale-x\" value=\"${object.scale.x.toFixed(2)}\" step=\"0.1\" min=\"0.01\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-scale-y\" value=\"${object.scale.y.toFixed(2)}\" step=\"0.1\" min=\"0.01\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-scale-z\" value=\"${object.scale.z.toFixed(2)}\" step=\"0.1\" min=\"0.01\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            ${!isGroup ? `\r\n            <div class=\"swk-property-section\">\r\n                <h4 class=\"swk-property-section-title\">Material</h4>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Color</label>\r\n                    <input type=\"color\" class=\"swk-property-input swk-property-color\" id=\"prop-color\" value=\"#${object.material.color.getHexString()}\">\r\n                </div>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Visible</label>\r\n                    <input type=\"checkbox\" class=\"swk-property-checkbox\" id=\"prop-visible\" ${object.visible ? 'checked' : ''}>\r\n                </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            ${isText ? `\r\n            <div class=\"swk-property-section\">\r\n                <h4 class=\"swk-property-section-title\">Text</h4>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Content</label>\r\n                    <input type=\"text\" class=\"swk-property-input\" id=\"prop-text\" value=\"${object.userData.text || ''}\">\r\n                </div>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Font</label>\r\n                    <select class=\"swk-property-input\" id=\"prop-font\">\r\n                        <option value=\"sans\" ${object.userData.fontType === 'sans' ? 'selected' : ''}>Sans Serif</option>\r\n                        <option value=\"serif\" ${object.userData.fontType === 'serif' ? 'selected' : ''}>Serif</option>\r\n                        <option value=\"mono\" ${object.userData.fontType === 'mono' ? 'selected' : ''}>Monospace</option>\r\n                    </select>\r\n                </div>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Size</label>\r\n                    <input type=\"number\" class=\"swk-property-input\" id=\"prop-font-size\" value=\"${object.userData.fontSize || 1}\" step=\"0.1\" min=\"0.1\">\r\n                </div>\r\n            </div>\r\n            ` : ''}\r\n        `;\r\n        \r\n        this.attachEventListeners(object);\r\n    }\r\n\r\n    /**\r\n     * Show properties for multiple objects\r\n     * @param {Array} objects - Array of selected objects\r\n     */\r\n    showMultipleObjectsProperties(objects) {\r\n        this.contentElement.innerHTML = `\r\n            <div class=\"swk-property-section\">\r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Selection</label>\r\n                    <input type=\"text\" class=\"swk-property-input\" readonly value=\"${objects.length} objects selected\">\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"swk-property-section\">\r\n                <p class=\"swk-property-note\">Multiple objects selected. Transform operations will affect all selected objects.</p>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    /**\r\n     * Attach event listeners to property inputs\r\n     * @param {THREE.Object3D} object - The object being edited\r\n     */\r\n    attachEventListeners(object) {\r\n        // Name\r\n        const nameInput = document.getElementById('prop-name');\r\n        if (nameInput) {\r\n            nameInput.addEventListener('change', (e) => {\r\n                object.name = e.target.value;\r\n                this.swk.captureState('Change name');\r\n                this.emit('propertyChanged', { object, property: 'name', value: e.target.value });\r\n            });\r\n        }\r\n        \r\n        // Position\r\n        ['x', 'y', 'z'].forEach(axis => {\r\n            const input = document.getElementById(`prop-pos-${axis}`);\r\n            if (input) {\r\n                input.addEventListener('change', (e) => {\r\n                    object.position[axis] = parseFloat(e.target.value) || 0;\r\n                    this.swk.captureState('Change position');\r\n                    this.emit('propertyChanged', { object, property: 'position', axis, value: object.position[axis] });\r\n                });\r\n            }\r\n        });\r\n        \r\n        // Rotation (convert degrees to radians)\r\n        ['x', 'y', 'z'].forEach(axis => {\r\n            const input = document.getElementById(`prop-rot-${axis}`);\r\n            if (input) {\r\n                input.addEventListener('change', (e) => {\r\n                    const degrees = parseFloat(e.target.value) || 0;\r\n                    object.rotation[axis] = degrees * Math.PI / 180;\r\n                    this.swk.captureState('Change rotation');\r\n                    this.emit('propertyChanged', { object, property: 'rotation', axis, value: object.rotation[axis] });\r\n                });\r\n            }\r\n        });\r\n        \r\n        // Scale\r\n        ['x', 'y', 'z'].forEach(axis => {\r\n            const input = document.getElementById(`prop-scale-${axis}`);\r\n            if (input) {\r\n                input.addEventListener('change', (e) => {\r\n                    const value = parseFloat(e.target.value) || 0.01;\r\n                    object.scale[axis] = Math.max(0.01, value);\r\n                    this.swk.captureState('Change scale');\r\n                    this.emit('propertyChanged', { object, property: 'scale', axis, value: object.scale[axis] });\r\n                });\r\n            }\r\n        });\r\n        \r\n        // Color\r\n        const colorInput = document.getElementById('prop-color');\r\n        if (colorInput && object.material) {\r\n            colorInput.addEventListener('change', (e) => {\r\n                object.material.color.set(e.target.value);\r\n                this.swk.captureState('Change color');\r\n                this.emit('propertyChanged', { object, property: 'color', value: e.target.value });\r\n            });\r\n        }\r\n        \r\n        // Visible\r\n        const visibleInput = document.getElementById('prop-visible');\r\n        if (visibleInput) {\r\n            visibleInput.addEventListener('change', (e) => {\r\n                object.visible = e.target.checked;\r\n                this.swk.captureState('Change visibility');\r\n                this.emit('propertyChanged', { object, property: 'visible', value: object.visible });\r\n            });\r\n        }\r\n        \r\n        // Text content\r\n        const textInput = document.getElementById('prop-text');\r\n        if (textInput) {\r\n            textInput.addEventListener('change', (e) => {\r\n                this.updateTextGeometry(object, e.target.value, object.userData.fontSize, object.userData.fontType);\r\n            });\r\n        }\r\n        \r\n        // Font type\r\n        const fontInput = document.getElementById('prop-font');\r\n        if (fontInput) {\r\n            fontInput.addEventListener('change', (e) => {\r\n                this.updateTextGeometry(object, object.userData.text, object.userData.fontSize, e.target.value);\r\n            });\r\n        }\r\n        \r\n        // Font size\r\n        const fontSizeInput = document.getElementById('prop-font-size');\r\n        if (fontSizeInput) {\r\n            fontSizeInput.addEventListener('change', (e) => {\r\n                const size = Math.max(0.1, parseFloat(e.target.value) || 1);\r\n                this.updateTextGeometry(object, object.userData.text, size, object.userData.fontType);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update text geometry\r\n     * @param {THREE.Object3D} object - Text object\r\n     * @param {string} text - New text content\r\n     * @param {number} fontSize - Font size\r\n     * @param {string} fontType - Font type\r\n     */\r\n    async updateTextGeometry(object, text, fontSize, fontType) {\r\n        try {\r\n            const shapeFactory = this.swk.shapeFactory;\r\n            if (shapeFactory && typeof shapeFactory.updateTextGeometry === 'function') {\r\n                await shapeFactory.updateTextGeometry(object, text, fontSize, fontType);\r\n                this.swk.captureState('Update text');\r\n                this.emit('propertyChanged', { object, property: 'text' });\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to update text:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clean up\r\n     */\r\n    destroy() {\r\n        this.selectedObjects = [];\r\n        this.removeAllListeners();\r\n    }\r\n}\r\n\r\nexport default PropertyPanel;\r\n","/**\r\n * ShapesPanel.js\r\n * Shape creation panel with buttons for all shape types\r\n */\r\n\r\nimport EventEmitter from '../core/EventEmitter.js';\r\nimport { SHAPE_TYPES } from '../utils/Constants.js';\r\n\r\nclass ShapesPanel extends EventEmitter {\r\n    /**\r\n     * @param {HTMLElement} container - Panel container element\r\n     * @param {SWK} swkInstance - Main SWK instance\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(container, swkInstance, config) {\r\n        super();\r\n        \r\n        this.container = container;\r\n        this.swk = swkInstance;\r\n        this.config = config;\r\n        \r\n        this.shapes = [\r\n            { type: SHAPE_TYPES.BOX, label: 'Box', icon: '' },\r\n            { type: SHAPE_TYPES.SPHERE, label: 'Sphere', icon: '' },\r\n            { type: SHAPE_TYPES.CYLINDER, label: 'Cylinder', icon: '' },\r\n            { type: SHAPE_TYPES.CONE, label: 'Cone', icon: '' },\r\n            { type: SHAPE_TYPES.TORUS, label: 'Torus', icon: '' },\r\n            { type: SHAPE_TYPES.PLANE, label: 'Plane', icon: '' },\r\n            { type: SHAPE_TYPES.PYRAMID, label: 'Pyramid', icon: '' },\r\n            { type: SHAPE_TYPES.TORUS_KNOT, label: 'Torus Knot', icon: '' },\r\n            { type: SHAPE_TYPES.TETRAHEDRON, label: 'Tetrahedron', icon: '' },\r\n            { type: SHAPE_TYPES.OCTAHEDRON, label: 'Octahedron', icon: '' },\r\n            { type: SHAPE_TYPES.ICOSAHEDRON, label: 'Icosahedron', icon: '' },\r\n            { type: SHAPE_TYPES.DODECAHEDRON, label: 'Dodecahedron', icon: '' },\r\n            { type: SHAPE_TYPES.TEXT, label: 'Text', icon: 'T' }\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Render the shapes panel\r\n     */\r\n    render() {\r\n        this.container.innerHTML = `\r\n            <div class=\"swk-panel-header\">\r\n                <h3>Shapes</h3>\r\n            </div>\r\n            <div class=\"swk-panel-content\">\r\n                <div class=\"swk-shapes-grid\" id=\"swk-shapes-grid\"></div>\r\n            </div>\r\n        `;\r\n        \r\n        const grid = document.getElementById('swk-shapes-grid');\r\n        \r\n        // Create shape buttons\r\n        this.shapes.forEach(shape => {\r\n            const button = document.createElement('button');\r\n            button.className = 'swk-shape-button';\r\n            button.setAttribute('data-shape-type', shape.type);\r\n            button.title = shape.label;\r\n            button.innerHTML = `\r\n                <span class=\"swk-shape-icon\">${shape.icon}</span>\r\n                <span class=\"swk-shape-label\">${shape.label}</span>\r\n            `;\r\n            \r\n            button.addEventListener('click', () => this.createShape(shape.type));\r\n            \r\n            grid.appendChild(button);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Create a shape\r\n     * @param {string} type - Shape type\r\n     */\r\n    async createShape(type) {\r\n        try {\r\n            let options = {};\r\n            \r\n            // Special handling for text\r\n            if (type === SHAPE_TYPES.TEXT) {\r\n                const text = prompt('Enter text:', 'Hello');\r\n                if (!text) return;\r\n                options = { text };\r\n            }\r\n            \r\n            const shape = await this.swk.addShape(type, options);\r\n            \r\n            if (shape) {\r\n                // Select the newly created shape\r\n                this.swk.selectObject(shape);\r\n                \r\n                this.emit('shapeCreated', { type, shape });\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to create shape:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Refresh the panel\r\n     */\r\n    refresh() {\r\n        // Nothing to refresh for static buttons\r\n    }\r\n\r\n    /**\r\n     * Clean up\r\n     */\r\n    destroy() {\r\n        this.removeAllListeners();\r\n    }\r\n}\r\n\r\nexport default ShapesPanel;\r\n","/**\r\n * UIManager.js\r\n * Central coordinator for all UI panels and components\r\n * Manages initialization, event coordination, and panel lifecycle\r\n */\r\n\r\nimport EventEmitter from '../core/EventEmitter.js';\r\nimport PropertyPanel from './PropertyPanel.js';\r\nimport ShapesPanel from './ShapesPanel.js';\r\nimport OutlinerPanel from './OutlinerPanel.js';\r\nimport ControlsPanel from './ControlsPanel.js';\r\n\r\nclass UIManager extends EventEmitter {\r\n    /**\r\n     * @param {HTMLElement} container - Main container element\r\n     * @param {SWK} swkInstance - Main SWK instance\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(container, swkInstance, config) {\r\n        super();\r\n        \r\n        this.container = container;\r\n        this.swk = swkInstance;\r\n        this.config = config;\r\n        \r\n        // UI Panels\r\n        this.propertyPanel = null;\r\n        this.shapesPanel = null;\r\n        this.outlinerPanel = null;\r\n        this.controlsPanel = null;\r\n        \r\n        // UI State\r\n        this.isInitialized = false;\r\n        this.uiElements = {};\r\n        \r\n        // Check if UI should be enabled\r\n        this.uiEnabled = config.get('ui.enabled') !== false;\r\n        \r\n        if (this.uiEnabled) {\r\n            this.initialize();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initialize all UI panels\r\n     */\r\n    initialize() {\r\n        if (this.isInitialized) return;\r\n        \r\n        try {\r\n            // Create main UI structure\r\n            this.createUIStructure();\r\n            \r\n            // Initialize panels\r\n            this.initializePanels();\r\n            \r\n            // Set up event listeners\r\n            this.setupEventListeners();\r\n            \r\n            this.isInitialized = true;\r\n            this.emit('uiInitialized');\r\n            \r\n        } catch (error) {\r\n            console.error('Failed to initialize UI:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create the main UI structure\r\n     */\r\n    createUIStructure() {\r\n        // Add UI wrapper class to container\r\n        this.container.classList.add('swk-ui-container');\r\n        \r\n        // Create UI wrapper\r\n        const uiWrapper = document.createElement('div');\r\n        uiWrapper.className = 'swk-ui-wrapper';\r\n        \r\n        // Create left sidebar\r\n        const leftSidebar = document.createElement('div');\r\n        leftSidebar.className = 'swk-sidebar swk-sidebar-left';\r\n        leftSidebar.innerHTML = `\r\n            <div id=\"swk-shapes-panel\" class=\"swk-panel\"></div>\r\n            <div id=\"swk-outliner-panel\" class=\"swk-panel\"></div>\r\n        `;\r\n        \r\n        // Create right sidebar\r\n        const rightSidebar = document.createElement('div');\r\n        rightSidebar.className = 'swk-sidebar swk-sidebar-right';\r\n        rightSidebar.innerHTML = `\r\n            <div id=\"swk-property-panel\" class=\"swk-panel\"></div>\r\n        `;\r\n        \r\n        // Create bottom toolbar\r\n        const bottomToolbar = document.createElement('div');\r\n        bottomToolbar.className = 'swk-toolbar swk-toolbar-bottom';\r\n        bottomToolbar.innerHTML = `\r\n            <div id=\"swk-controls-panel\" class=\"swk-panel\"></div>\r\n        `;\r\n        \r\n        // Append to wrapper\r\n        uiWrapper.appendChild(leftSidebar);\r\n        uiWrapper.appendChild(rightSidebar);\r\n        uiWrapper.appendChild(bottomToolbar);\r\n        \r\n        // Append to container\r\n        this.container.appendChild(uiWrapper);\r\n        \r\n        // Store references\r\n        this.uiElements = {\r\n            wrapper: uiWrapper,\r\n            leftSidebar,\r\n            rightSidebar,\r\n            bottomToolbar,\r\n            shapesPanel: document.getElementById('swk-shapes-panel'),\r\n            propertyPanel: document.getElementById('swk-property-panel'),\r\n            outlinerPanel: document.getElementById('swk-outliner-panel'),\r\n            controlsPanel: document.getElementById('swk-controls-panel')\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Initialize all UI panels\r\n     */\r\n    initializePanels() {\r\n        // Initialize Shapes Panel\r\n        if (this.config.get('ui.panels.shapes') !== false) {\r\n            this.shapesPanel = new ShapesPanel(\r\n                this.uiElements.shapesPanel,\r\n                this.swk,\r\n                this.config\r\n            );\r\n            this.shapesPanel.render();\r\n        }\r\n        \r\n        // Initialize Property Panel\r\n        if (this.config.get('ui.panels.properties') !== false) {\r\n            this.propertyPanel = new PropertyPanel(\r\n                this.uiElements.propertyPanel,\r\n                this.swk,\r\n                this.config\r\n            );\r\n            this.propertyPanel.render();\r\n        }\r\n        \r\n        // Initialize Outliner Panel\r\n        if (this.config.get('ui.panels.outliner') !== false) {\r\n            this.outlinerPanel = new OutlinerPanel(\r\n                this.uiElements.outlinerPanel,\r\n                this.swk,\r\n                this.config\r\n            );\r\n            this.outlinerPanel.render();\r\n        }\r\n        \r\n        // Initialize Controls Panel\r\n        if (this.config.get('ui.panels.controls') !== false) {\r\n            this.controlsPanel = new ControlsPanel(\r\n                this.uiElements.controlsPanel,\r\n                this.swk,\r\n                this.config\r\n            );\r\n            this.controlsPanel.render();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set up event listeners for coordination between panels\r\n     */\r\n    setupEventListeners() {\r\n        // Selection changes\r\n        this.swk.on('selectionChanged', (selected) => {\r\n            if (this.propertyPanel) {\r\n                this.propertyPanel.updateSelection(selected);\r\n            }\r\n            if (this.outlinerPanel) {\r\n                this.outlinerPanel.updateSelection(selected);\r\n            }\r\n        });\r\n        \r\n        // Object added\r\n        this.swk.on('objectAdded', (object) => {\r\n            if (this.outlinerPanel) {\r\n                this.outlinerPanel.addObject(object);\r\n            }\r\n        });\r\n        \r\n        // Object removed\r\n        this.swk.on('objectRemoved', (object) => {\r\n            if (this.outlinerPanel) {\r\n                this.outlinerPanel.removeObject(object);\r\n            }\r\n            if (this.propertyPanel) {\r\n                this.propertyPanel.updateSelection([]);\r\n            }\r\n        });\r\n        \r\n        // Transform mode changed\r\n        this.swk.on('transformModeChanged', (mode) => {\r\n            if (this.controlsPanel) {\r\n                this.controlsPanel.updateTransformMode(mode);\r\n            }\r\n        });\r\n        \r\n        // Camera mode changed\r\n        this.swk.on('cameraModeChanged', (mode) => {\r\n            if (this.controlsPanel) {\r\n                this.controlsPanel.updateCameraMode(mode);\r\n            }\r\n        });\r\n        \r\n        // History changed\r\n        this.swk.on('historyChanged', (data) => {\r\n            if (this.controlsPanel) {\r\n                this.controlsPanel.updateHistoryState(data);\r\n            }\r\n            if (this.outlinerPanel) {\r\n                this.outlinerPanel.refresh();\r\n            }\r\n        });\r\n        \r\n        // Group created/removed\r\n        this.swk.on('groupCreated', () => {\r\n            if (this.outlinerPanel) {\r\n                this.outlinerPanel.refresh();\r\n            }\r\n        });\r\n        \r\n        this.swk.on('groupRemoved', () => {\r\n            if (this.outlinerPanel) {\r\n                this.outlinerPanel.refresh();\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Show the UI\r\n     */\r\n    show() {\r\n        if (this.uiElements.wrapper) {\r\n            this.uiElements.wrapper.style.display = '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Hide the UI\r\n     */\r\n    hide() {\r\n        if (this.uiElements.wrapper) {\r\n            this.uiElements.wrapper.style.display = 'none';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggle UI visibility\r\n     */\r\n    toggle() {\r\n        if (this.uiElements.wrapper) {\r\n            const isHidden = this.uiElements.wrapper.style.display === 'none';\r\n            if (isHidden) {\r\n                this.show();\r\n            } else {\r\n                this.hide();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update a specific panel\r\n     * @param {string} panelName - Name of the panel to update\r\n     */\r\n    updatePanel(panelName) {\r\n        const panel = this[`${panelName}Panel`];\r\n        if (panel && typeof panel.refresh === 'function') {\r\n            panel.refresh();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clean up UI and remove event listeners\r\n     */\r\n    destroy() {\r\n        // Destroy all panels\r\n        if (this.shapesPanel) this.shapesPanel.destroy();\r\n        if (this.propertyPanel) this.propertyPanel.destroy();\r\n        if (this.outlinerPanel) this.outlinerPanel.destroy();\r\n        if (this.controlsPanel) this.controlsPanel.destroy();\r\n        \r\n        // Remove UI elements\r\n        if (this.uiElements.wrapper && this.uiElements.wrapper.parentNode) {\r\n            this.uiElements.wrapper.parentNode.removeChild(this.uiElements.wrapper);\r\n        }\r\n        \r\n        // Clear references\r\n        this.uiElements = {};\r\n        this.propertyPanel = null;\r\n        this.shapesPanel = null;\r\n        this.outlinerPanel = null;\r\n        this.controlsPanel = null;\r\n        \r\n        // Remove all listeners\r\n        this.removeAllListeners();\r\n        \r\n        this.isInitialized = false;\r\n    }\r\n}\r\n\r\nexport default UIManager;\r\n","/**\r\n * Global constants for SenangWebs Kiln\r\n */\r\n\r\nexport const SHAPE_TYPES = {\r\n    BOX: 'box',\r\n    SPHERE: 'sphere',\r\n    CYLINDER: 'cylinder',\r\n    CONE: 'cone',\r\n    TORUS: 'torus',\r\n    PLANE: 'plane',\r\n    PYRAMID: 'pyramid',\r\n    TORUS_KNOT: 'torusknot',\r\n    TETRAHEDRON: 'tetrahedron',\r\n    OCTAHEDRON: 'octahedron',\r\n    ICOSAHEDRON: 'icosahedron',\r\n    DODECAHEDRON: 'dodecahedron',\r\n    TEXT: 'text'\r\n};\r\n\r\nexport const TRANSFORM_MODES = {\r\n    TRANSLATE: 'translate',\r\n    ROTATE: 'rotate',\r\n    SCALE: 'scale'\r\n};\r\n\r\nexport const CAMERA_MODES = {\r\n    PERSPECTIVE: 'perspective',\r\n    ORTHOGRAPHIC: 'orthographic'\r\n};\r\n\r\nexport const SNAP_VALUES = [0.5, 0.2, 0.1, 0.05, 0.025, 0.01, 0];\r\n\r\nexport const FONT_URLS = {\r\n    sans: 'https://threejs.org/examples/fonts/helvetiker_regular.typeface.json',\r\n    mono: '/src/font/DM_Mono_Regular.json',\r\n    serif: 'https://threejs.org/examples/fonts/gentilis_regular.typeface.json'\r\n};\r\n\r\nexport const DEFAULT_COLORS = {\r\n    VIEWPORT_BG: 0xe2e8f0,\r\n    GRID_CENTER: 0x45556c,\r\n    GRID_LINES: 0x90a1b9,\r\n    OUTLINE: 0x1d293d,\r\n    SHAPE_DEFAULT: 0x007370\r\n};\r\n\r\nexport const GRID_SETTINGS = {\r\n    SIZE: 20,\r\n    DIVISIONS: 20\r\n};\r\n\r\nexport const LIGHTING = {\r\n    AMBIENT_INTENSITY: 0.7,\r\n    AMBIENT_COLOR: 0xffffff,\r\n    DIRECTIONAL_INTENSITY: 0.9,\r\n    DIRECTIONAL_COLOR: 0xffffff,\r\n    DIRECTIONAL_POSITION: [5, 10, 5]\r\n};\r\n\r\nexport const CAMERA_SETTINGS = {\r\n    FOV: 75,\r\n    NEAR: 0.1,\r\n    FAR: 1000,\r\n    POSITION: [5, 5, 5]\r\n};\r\n\r\nexport const HISTORY_MAX_SIZE = 50;\r\n\r\nexport const OUTLINE_THICKNESS = 0.04;\r\n","/**\r\n * Utility helper functions\r\n */\r\n\r\n/**\r\n * Convert degrees to radians\r\n */\r\nexport function degToRad(degrees) {\r\n    return degrees * (Math.PI / 180);\r\n}\r\n\r\n/**\r\n * Convert radians to degrees\r\n */\r\nexport function radToDeg(radians) {\r\n    return radians * (180 / Math.PI);\r\n}\r\n\r\n/**\r\n * Generate unique ID\r\n */\r\nexport function generateId() {\r\n    return `swk-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n}\r\n\r\n/**\r\n * Deep merge objects\r\n */\r\nexport function deepMerge(target, source) {\r\n    const output = { ...target };\r\n    \r\n    if (isObject(target) && isObject(source)) {\r\n        Object.keys(source).forEach(key => {\r\n            if (isObject(source[key])) {\r\n                if (!(key in target)) {\r\n                    Object.assign(output, { [key]: source[key] });\r\n                } else {\r\n                    output[key] = deepMerge(target[key], source[key]);\r\n                }\r\n            } else {\r\n                Object.assign(output, { [key]: source[key] });\r\n            }\r\n        });\r\n    }\r\n    \r\n    return output;\r\n}\r\n\r\n/**\r\n * Check if value is an object\r\n */\r\nexport function isObject(item) {\r\n    return item && typeof item === 'object' && !Array.isArray(item);\r\n}\r\n\r\n/**\r\n * Clamp value between min and max\r\n */\r\nexport function clamp(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\n\r\n/**\r\n * Download file\r\n */\r\nexport function downloadFile(blob, filename) {\r\n    const link = document.createElement('a');\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = filename;\r\n    link.click();\r\n    URL.revokeObjectURL(link.href);\r\n}\r\n\r\n/**\r\n * Get timestamp for file naming\r\n */\r\nexport function getTimestamp() {\r\n    return Date.now();\r\n}\r\n\r\n/**\r\n * Parse HTML data attributes to config object\r\n */\r\nexport function parseDataAttributes(element) {\r\n    const config = {};\r\n    const dataset = element.dataset;\r\n    \r\n    for (const key in dataset) {\r\n        if (key.startsWith('swk')) {\r\n            // Remove 'swk' prefix and convert to config path\r\n            // e.g., 'swkUiEnabled' -> 'ui.enabled', 'swkGridShow' -> 'grid.show'\r\n            let configPath = key.replace('swk', '').replace(/^./, str => str.toLowerCase());\r\n            \r\n            // Convert camelCase to dot notation for nested properties\r\n            // uiEnabled -> ui.enabled, gridShow -> grid.show\r\n            configPath = configPath.replace(/([A-Z])/g, (match, letter, offset) => {\r\n                // Special handling for known nested properties\r\n                const nestedProps = ['ui', 'grid', 'camera', 'history', 'viewport', 'transform', 'lighting'];\r\n                const beforeLetter = configPath.substring(0, offset);\r\n                \r\n                // Check if this is a start of a nested property\r\n                for (const prop of nestedProps) {\r\n                    if (beforeLetter.toLowerCase() === prop) {\r\n                        return '.' + letter.toLowerCase();\r\n                    }\r\n                }\r\n                return letter.toLowerCase();\r\n            });\r\n            \r\n            const value = dataset[key];\r\n            \r\n            // Parse value\r\n            let parsedValue;\r\n            if (value === 'true') {\r\n                parsedValue = true;\r\n            } else if (value === 'false') {\r\n                parsedValue = false;\r\n            } else if (value.includes(',')) {\r\n                // Handle arrays (e.g., \"5,5,5\" -> [5,5,5])\r\n                parsedValue = value.split(',').map(v => {\r\n                    const trimmed = v.trim();\r\n                    return !isNaN(trimmed) ? parseFloat(trimmed) : trimmed;\r\n                });\r\n            } else if (!isNaN(value) && value !== '') {\r\n                parsedValue = parseFloat(value);\r\n            } else {\r\n                parsedValue = value;\r\n            }\r\n            \r\n            // Set nested property\r\n            setNestedProperty(config, configPath, parsedValue);\r\n        }\r\n    }\r\n    \r\n    return config;\r\n}\r\n\r\n/**\r\n * Set nested property in object using dot notation\r\n */\r\nfunction setNestedProperty(obj, path, value) {\r\n    const keys = path.split('.');\r\n    const lastKey = keys.pop();\r\n    let target = obj;\r\n    \r\n    for (const key of keys) {\r\n        if (!(key in target)) {\r\n            target[key] = {};\r\n        }\r\n        target = target[key];\r\n    }\r\n    \r\n    target[lastKey] = value;\r\n}\r\n\r\n/**\r\n * Create DOM element with classes\r\n */\r\nexport function createElement(tag, classes = [], attributes = {}) {\r\n    const element = document.createElement(tag);\r\n    \r\n    if (classes.length > 0) {\r\n        element.className = classes.join(' ');\r\n    }\r\n    \r\n    for (const [key, value] of Object.entries(attributes)) {\r\n        element.setAttribute(key, value);\r\n    }\r\n    \r\n    return element;\r\n}\r\n\r\n/**\r\n * Dispose Three.js object properly\r\n */\r\nexport function disposeObject(object) {\r\n    if (!object) return;\r\n    \r\n    if (object.geometry) {\r\n        object.geometry.dispose();\r\n    }\r\n    \r\n    if (object.material) {\r\n        if (Array.isArray(object.material)) {\r\n            object.material.forEach(material => material.dispose());\r\n        } else {\r\n            object.material.dispose();\r\n        }\r\n    }\r\n    \r\n    if (object.texture) {\r\n        object.texture.dispose();\r\n    }\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\r\n * SenangWebs Kiln (SWK) - Main Entry Point\r\n * A lightweight 3D modeling editor library\r\n */\r\n\r\nimport Config from './core/Config.js';\r\nimport EventEmitter from './core/EventEmitter.js';\r\nimport Initializer from './core/Initializer.js';\r\nimport Scene from './core/Scene.js';\r\nimport Renderer from './core/Renderer.js';\r\nimport Camera from './core/Camera.js';\r\nimport Lighting from './core/Lighting.js';\r\nimport ShapeFactory from './shapes/ShapeFactory.js';\r\nimport Picker from './selection/Picker.js';\r\nimport SelectionManager from './selection/SelectionManager.js';\r\nimport Outliner from './selection/Outliner.js';\r\nimport TransformManager from './transform/TransformManager.js';\r\nimport SnapManager from './transform/SnapManager.js';\r\nimport GroupManager from './grouping/GroupManager.js';\r\nimport HistoryManager from './history/HistoryManager.js';\r\nimport UIManager from './ui/UIManager.js';\r\nimport ExportManager from './export/ExportManager.js';\r\n\r\n/**\r\n * Main SWK Class\r\n */\r\nclass SWK extends EventEmitter {\r\n    constructor(selector, options = {}) {\r\n        super();\r\n        \r\n        // Initialize from selector\r\n        const { container, config } = Initializer.fromAPI(selector, options);\r\n\r\n        // Set up configuration\r\n        this.config = new Config({ container, ...config });\r\n        this.container = container;\r\n        \r\n        // Core modules\r\n        this.renderer = null;\r\n        this.sceneManager = null;\r\n        this.cameraManager = null;\r\n        this.lighting = null;\r\n        this.shapeFactory = null;\r\n        \r\n        // Selection modules\r\n        this.picker = null;\r\n        this.selectionManager = null;\r\n        this.outliner = null;\r\n        \r\n        // Transform modules\r\n        this.transformManager = null;\r\n        this.snapManager = null;\r\n        \r\n        // Grouping module\r\n        this.groupManager = null;\r\n        \r\n        // History module\r\n        this.historyManager = null;\r\n        \r\n        // UI module\r\n        this.uiManager = null;\r\n        \r\n        // Export module\r\n        this.exportManager = null;\r\n        \r\n        // Object management\r\n        this.objects = [];\r\n        this.selectedObject = null;\r\n        this.selectedObjects = [];\r\n        this.groups = [];\r\n        \r\n        // State\r\n        this.initialized = false;\r\n        this.animationId = null;\r\n        \r\n        // Initialize\r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     * Initialize the editor\r\n     */\r\n    init() {\r\n        if (this.initialized) {\r\n            console.warn('SWK: Already initialized');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Ensure container has proper styling\r\n            this.setupContainer();\r\n            \r\n            // Initialize core modules\r\n            this.renderer = new Renderer(this.container, this.config);\r\n            this.sceneManager = new Scene(this.config);\r\n            this.cameraManager = new Camera(this.container, this.config);\r\n            this.lighting = new Lighting(this.sceneManager.getScene(), this.config);\r\n            this.shapeFactory = new ShapeFactory(this.config);\r\n            \r\n            // Initialize selection modules\r\n            this.picker = new Picker(this.cameraManager.getCamera(), this.renderer.getRenderer());\r\n            this.selectionManager = new SelectionManager(this);\r\n            this.outliner = new Outliner(this.sceneManager.getScene(), this.config);\r\n            \r\n            // Initialize transform modules\r\n            this.transformManager = new TransformManager(\r\n                this.cameraManager.getCamera(),\r\n                this.renderer.getCanvas(),\r\n                this.sceneManager.getScene(),\r\n                this.config,\r\n                this\r\n            );\r\n            this.snapManager = new SnapManager(\r\n                this.transformManager.getControls(),\r\n                this.config,\r\n                this\r\n            );\r\n            \r\n            // Initialize grouping module\r\n            this.groupManager = new GroupManager(\r\n                this.sceneManager.getScene(),\r\n                this,\r\n                this.config\r\n            );\r\n            \r\n            // Initialize history module\r\n            if (this.config.get('history.enabled')) {\r\n                this.historyManager = new HistoryManager(\r\n                    this.sceneManager.getScene(),\r\n                    this.selectionManager,\r\n                    this.groupManager,\r\n                    this.shapeFactory,\r\n                    {\r\n                        get: (key) => {\r\n                            if (key === 'maxHistory') {\r\n                                return this.config.get('history.maxSize');\r\n                            }\r\n                            return this.config.get(key);\r\n                        }\r\n                    },\r\n                    this.transformManager  // Pass transformManager for proper detach/attach during undo/redo\r\n                );\r\n                \r\n                // Listen to history events\r\n                this.historyManager.on('stateChanged', (data) => {\r\n                    this.emit('historyChanged', data);\r\n                });\r\n                \r\n                this.historyManager.on('stateRestored', (data) => {\r\n                    this.emit('historyRestored', data);\r\n                    // Update outliner after restore\r\n                    this.updateSelectionOutlines();\r\n                });\r\n            }\r\n            \r\n            // Store transform controls reference for compatibility\r\n            this.transformControls = this.transformManager.getControls();\r\n            \r\n            // Initialize UI module\r\n            if (this.config.get('ui.enabled')) {\r\n                this.uiManager = new UIManager(this.container, this, this.config);\r\n            }\r\n            \r\n            // Initialize export module\r\n            if (this.config.get('features.export')) {\r\n                this.exportManager = new ExportManager(\r\n                    this.sceneManager.getScene(),\r\n                    this,\r\n                    this.config\r\n                );\r\n                \r\n                // Listen to export events\r\n                this.exportManager.on('exportStart', (data) => {\r\n                    this.emit('exportStart', data);\r\n                });\r\n                \r\n                this.exportManager.on('exportComplete', (data) => {\r\n                    this.emit('exportComplete', data);\r\n                });\r\n                \r\n                this.exportManager.on('exportError', (data) => {\r\n                    this.emit('exportError', data);\r\n                });\r\n            }\r\n            \r\n            // Load fonts for text shapes\r\n            this.shapeFactory.loadFonts(() => {\r\n                console.log('SWK: All fonts loaded');\r\n            });\r\n            \r\n            // Set up orbit controls\r\n            this.setupControls();\r\n            \r\n            // Set up event listeners\r\n            this.setupEventListeners();\r\n            \r\n            // Link orbit controls with transform dragging\r\n            this.on('orbitControlsEnabled', (enabled) => {\r\n                if (this.controls) {\r\n                    this.controls.enabled = enabled;\r\n                }\r\n            });\r\n            \r\n            // Start animation loop\r\n            this.animate();\r\n            \r\n            this.initialized = true;\r\n            this.emit('initialized');\r\n            \r\n            console.log('SWK: Editor initialized successfully');\r\n        } catch (error) {\r\n            console.error('SWK: Initialization failed:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Setup container styling\r\n     */\r\n    setupContainer() {\r\n        this.container.style.position = 'relative';\r\n        this.container.style.width = this.config.get('width');\r\n        this.container.style.height = this.config.get('height');\r\n        this.container.style.overflow = 'hidden';\r\n    }\r\n\r\n    /**\r\n     * Setup orbit controls\r\n     */\r\n    setupControls() {\r\n        const camera = this.cameraManager.getCamera();\r\n        const canvas = this.renderer.getCanvas();\r\n        \r\n        this.controls = new THREE.OrbitControls(camera, canvas);\r\n        this.controls.enableDamping = true;\r\n        this.controls.dampingFactor = 0.05;\r\n        this.controls.screenSpacePanning = false;\r\n        this.controls.minDistance = 1;\r\n        this.controls.maxDistance = 100;\r\n        this.controls.maxPolarAngle = Math.PI / 2;\r\n        \r\n        // Link controls to camera manager\r\n        this.cameraManager.setControls(this.controls);\r\n    }\r\n\r\n    /**\r\n     * Setup event listeners\r\n     */\r\n    setupEventListeners() {\r\n        // Canvas click for object selection\r\n        const canvas = this.renderer.getCanvas();\r\n        canvas.addEventListener('click', this.onCanvasClick.bind(this));\r\n        \r\n        // Keyboard shortcuts\r\n        window.addEventListener('keydown', this.onKeyDown.bind(this));\r\n        \r\n        // Transform events for history\r\n        let isTransforming = false;\r\n        this.on('transformDragging', (dragging) => {\r\n            console.log('Transform dragging:', dragging);\r\n            if (!dragging && isTransforming) {\r\n                // Transform ended, capture state\r\n                this.captureState('Transform object');\r\n                isTransforming = false;\r\n            } else if (dragging) {\r\n                isTransforming = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handle canvas click\r\n     */\r\n    onCanvasClick(event) {\r\n        // Check if clicking on transform controls\r\n        if (this.transformControls && this.transformControls.dragging) {\r\n            return;\r\n        }\r\n\r\n        // Build selectable objects array: non-grouped objects + group containers\r\n        const selectableObjects = [];\r\n        \r\n        // Add non-grouped objects (objects without groupId or not part of a group)\r\n        this.objects.forEach(obj => {\r\n            if (obj.visible && !obj.userData.isGroupResult && !this.groupManager.isGrouped(obj)) {\r\n                selectableObjects.push(obj);\r\n            }\r\n        });\r\n        \r\n        // Add group containers (these will be tested recursively to find their children)\r\n        const groups = this.groupManager.getAllGroups();\r\n        groups.forEach(group => {\r\n            if (group.container && group.container.visible) {\r\n                selectableObjects.push(group.container);\r\n            }\r\n        });\r\n\r\n        // Pick object at mouse position (recursive = true to test children of groups)\r\n        const canvas = this.renderer.getCanvas();\r\n        const intersection = this.picker.pickFromEvent(event, canvas, selectableObjects, true);\r\n\r\n        if (intersection) {\r\n            // Object clicked - check if it's part of a group\r\n            let clickedObject = intersection.object;\r\n            \r\n            // If the clicked object is part of a group, select the group container instead\r\n            if (this.groupManager.isGrouped(clickedObject)) {\r\n                const group = this.groupManager.findObjectGroup(clickedObject);\r\n                if (group && group.container) {\r\n                    clickedObject = group.container;\r\n                }\r\n            }\r\n            \r\n            // Check for multi-select (Ctrl key)\r\n            if (event.ctrlKey || event.metaKey) {\r\n                // Multi-select mode\r\n                this.selectionManager.toggle(clickedObject);\r\n                \r\n                // If toggling a group, also toggle all its children\r\n                if (this.groupManager.isGroupContainer(clickedObject)) {\r\n                    const children = this.groupManager.getGroupChildren(clickedObject);\r\n                    const isGroupSelected = this.selectionManager.isSelected(clickedObject);\r\n                    children.forEach(child => {\r\n                        if (isGroupSelected) {\r\n                            // Group was just selected, add children\r\n                            this.selectionManager.addToSelection(child);\r\n                        } else {\r\n                            // Group was just deselected, remove children\r\n                            this.selectionManager.removeFromSelection(child);\r\n                        }\r\n                    });\r\n                }\r\n            } else {\r\n                // Single select mode\r\n                this.selectionManager.select(clickedObject);\r\n                \r\n                // If selecting a group, also select all its children\r\n                if (this.groupManager.isGroupContainer(clickedObject)) {\r\n                    const children = this.groupManager.getGroupChildren(clickedObject);\r\n                    children.forEach(child => {\r\n                        this.selectionManager.addToSelection(child);\r\n                    });\r\n                }\r\n            }\r\n\r\n            // Update transform controls - attach to the main selected object (group container if it's a group)\r\n            const selectedObjects = this.selectionManager.getSelectedObjects();\r\n            if (selectedObjects.length > 0) {\r\n                // Find the group container if any selected object is part of a group\r\n                const primarySelection = selectedObjects.find(obj => this.groupManager.isGroupContainer(obj)) || selectedObjects[0];\r\n                if (selectedObjects.length === 1 || this.groupManager.isGroupContainer(primarySelection)) {\r\n                    this.transformControls.attach(primarySelection);\r\n                } else {\r\n                    this.transformControls.detach();\r\n                }\r\n            } else {\r\n                this.transformControls.detach();\r\n            }\r\n\r\n            // Update outlines\r\n            this.updateSelectionOutlines();\r\n        } else {\r\n            // Empty space clicked - deselect\r\n            this.deselectAll();\r\n        }\r\n        \r\n        // Emit click event\r\n        this.emit('canvasClick', { \r\n            mouse: this.picker.getMousePosition(), \r\n            event,\r\n            intersection \r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handle keyboard shortcuts\r\n     */\r\n    onKeyDown(event) {\r\n        // Undo/Redo shortcuts (Ctrl+Z, Ctrl+Y, Ctrl+Shift+Z)\r\n        if (event.ctrlKey || event.metaKey) {\r\n            if (event.key.toLowerCase() === 'z') {\r\n                if (event.shiftKey) {\r\n                    // Ctrl+Shift+Z = Redo\r\n                    this.redo();\r\n                } else {\r\n                    // Ctrl+Z = Undo\r\n                    this.undo();\r\n                }\r\n                event.preventDefault();\r\n                return;\r\n            } else if (event.key.toLowerCase() === 'y') {\r\n                // Ctrl+Y = Redo\r\n                this.redo();\r\n                event.preventDefault();\r\n                return;\r\n            }\r\n        }\r\n        \r\n        // Transform mode shortcuts (T, R, S)\r\n        if (!event.ctrlKey && !event.metaKey && !event.altKey) {\r\n            switch (event.key.toLowerCase()) {\r\n                case 't':\r\n                    this.setTransformMode('translate');\r\n                    event.preventDefault();\r\n                    break;\r\n                case 'r':\r\n                    this.setTransformMode('rotate');\r\n                    event.preventDefault();\r\n                    break;\r\n                case 's':\r\n                    this.setTransformMode('scale');\r\n                    event.preventDefault();\r\n                    break;\r\n                case 'delete':\r\n                case 'backspace':\r\n                    // Delete selected objects\r\n                    const selected = this.selectionManager.getSelectedObjects();\r\n                    selected.forEach(obj => this.deleteObject(obj));\r\n                    event.preventDefault();\r\n                    break;\r\n            }\r\n        }\r\n        \r\n        // Emit keydown event\r\n        this.emit('keydown', event);\r\n    }\r\n\r\n    /**\r\n     * Animation loop\r\n     */\r\n    animate() {\r\n        this.animationId = requestAnimationFrame(this.animate.bind(this));\r\n        \r\n        // Update controls\r\n        if (this.controls) {\r\n            this.controls.update();\r\n        }\r\n\r\n        // Sync outlines with mesh transforms\r\n        if (this.outliner) {\r\n            this.outliner.syncOutlines();\r\n        }\r\n        \r\n        // Render scene\r\n        const scene = this.sceneManager.getScene();\r\n        const camera = this.cameraManager.getCamera();\r\n        this.renderer.render(scene, camera);\r\n        \r\n        // Emit render event\r\n        this.emit('render');\r\n    }\r\n\r\n    /**\r\n     * Get scene\r\n     */\r\n    getScene() {\r\n        return this.sceneManager ? this.sceneManager.getScene() : null;\r\n    }\r\n\r\n    /**\r\n     * Get renderer\r\n     */\r\n    getRenderer() {\r\n        return this.renderer ? this.renderer.getRenderer() : null;\r\n    }\r\n\r\n    /**\r\n     * Get camera\r\n     */\r\n    getCamera() {\r\n        return this.cameraManager ? this.cameraManager.getCamera() : null;\r\n    }\r\n\r\n    /**\r\n     * Set camera mode\r\n     */\r\n    setCameraMode(mode) {\r\n        if (this.cameraManager) {\r\n            this.cameraManager.setMode(mode);\r\n            if (this.transformManager) {\r\n                this.transformManager.setCamera(this.cameraManager.getCamera());\r\n            }\r\n            if (this.picker) {\r\n                this.picker.setCamera(this.cameraManager.getCamera());\r\n            }\r\n            this.emit('cameraModeChanged', mode);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get camera mode\r\n     */\r\n    getCameraMode() {\r\n        return this.cameraManager ? this.cameraManager.getMode() : null;\r\n    }\r\n\r\n    /**\r\n     * Set background color\r\n     */\r\n    setBackground(color) {\r\n        if (this.renderer) {\r\n            this.renderer.setBackgroundColor(color);\r\n            this.emit('backgroundChanged', color);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reset camera\r\n     */\r\n    resetCamera() {\r\n        if (this.cameraManager) {\r\n            this.cameraManager.reset();\r\n            this.emit('cameraReset');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add shape to scene\r\n     */\r\n    addShape(type, options = {}) {\r\n        const mesh = this.shapeFactory.createShape(type, options);\r\n        \r\n        if (!mesh) {\r\n            console.warn(`SWK: Failed to create shape: ${type}`);\r\n            return null;\r\n        }\r\n\r\n        // Add to scene\r\n        this.sceneManager.add(mesh);\r\n        this.objects.push(mesh);\r\n\r\n        // Emit event\r\n        this.emit('objectAdded', mesh);\r\n\r\n        // Execute callback\r\n        const callback = this.config.get('callbacks.onObjectAdded');\r\n        if (callback && typeof callback === 'function') {\r\n            callback(mesh);\r\n        }\r\n\r\n        // Capture state for undo\r\n        this.captureState(`Add ${mesh.name}`);\r\n\r\n        console.log(`SWK: Added ${mesh.name}`);\r\n        return mesh;\r\n    }\r\n\r\n    /**\r\n     * Delete object from scene\r\n     */\r\n    deleteObject(mesh) {\r\n        if (!mesh) return false;\r\n\r\n        // Remove from scene\r\n        this.sceneManager.remove(mesh);\r\n\r\n        // Remove from objects array\r\n        const index = this.objects.indexOf(mesh);\r\n        if (index > -1) {\r\n            this.objects.splice(index, 1);\r\n        }\r\n\r\n        // Deselect if selected\r\n        if (this.selectedObject === mesh) {\r\n            this.deselectAll();\r\n        }\r\n        \r\n        // Remove from multi-selection\r\n        const multiIndex = this.selectedObjects.indexOf(mesh);\r\n        if (multiIndex > -1) {\r\n            this.selectedObjects.splice(multiIndex, 1);\r\n        }\r\n\r\n        // Dispose geometry and material\r\n        if (mesh.geometry) mesh.geometry.dispose();\r\n        if (mesh.material) {\r\n            if (Array.isArray(mesh.material)) {\r\n                mesh.material.forEach(m => m.dispose());\r\n            } else {\r\n                mesh.material.dispose();\r\n            }\r\n        }\r\n\r\n        // Emit event\r\n        this.emit('objectRemoved', mesh);\r\n\r\n        // Execute callback\r\n        const callback = this.config.get('callbacks.onObjectRemoved');\r\n        if (callback && typeof callback === 'function') {\r\n            callback(mesh);\r\n        }\r\n\r\n        // Capture state for undo\r\n        this.captureState(`Delete ${mesh.name}`);\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Duplicate object\r\n     */\r\n    duplicateObject(mesh) {\r\n        if (!mesh) return null;\r\n\r\n        const shapeType = mesh.userData.shapeType;\r\n        const options = {\r\n            color: mesh.userData.color\r\n        };\r\n\r\n        // Copy text options if it's a text shape\r\n        if (shapeType === 'text') {\r\n            options.text = mesh.userData.textContent;\r\n            options.font = mesh.userData.textFont;\r\n            options.height = mesh.userData.textHeight;\r\n            options.bevel = mesh.userData.textBevel;\r\n        }\r\n\r\n        const duplicate = this.shapeFactory.createShape(shapeType, options);\r\n        \r\n        if (!duplicate) return null;\r\n\r\n        // Copy transform\r\n        duplicate.position.copy(mesh.position);\r\n        duplicate.position.x += 0.5; // Offset slightly\r\n        duplicate.rotation.copy(mesh.rotation);\r\n        duplicate.scale.copy(mesh.scale);\r\n\r\n        // Add to scene\r\n        this.sceneManager.add(duplicate);\r\n        this.objects.push(duplicate);\r\n\r\n        // Emit event\r\n        this.emit('objectAdded', duplicate);\r\n\r\n        // Capture state for undo\r\n        this.captureState(`Duplicate ${mesh.name}`);\r\n\r\n        return duplicate;\r\n    }\r\n\r\n    /**\r\n     * Get all objects from the scene (including those in groups)\r\n     */\r\n    getAllObjects() {\r\n        // Get all user objects from scene\r\n        const scene = this.sceneManager.getScene();\r\n        const allObjects = [];\r\n        \r\n        scene.children.forEach(obj => {\r\n            if (obj.userData && obj.userData.isUserObject) {\r\n                if (this.groupManager.isGroupContainer(obj)) {\r\n                    // This is a group - get its children\r\n                    const children = this.groupManager.getGroupChildren(obj);\r\n                    allObjects.push(...children);\r\n                } else {\r\n                    // Regular object\r\n                    allObjects.push(obj);\r\n                }\r\n            }\r\n        });\r\n        \r\n        return allObjects;\r\n    }\r\n\r\n    /**\r\n     * Select object\r\n     */\r\n    selectObject(mesh) {\r\n        if (!mesh) return;\r\n\r\n        this.selectionManager.select(mesh);\r\n        this.updateSelectionOutlines();\r\n\r\n        // Attach transform controls\r\n        if (this.transformControls) {\r\n            this.transformControls.attach(mesh);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Deselect all\r\n     */\r\n    deselectAll() {\r\n        this.selectionManager.clear();\r\n        this.updateSelectionOutlines();\r\n\r\n        // Detach transform controls\r\n        if (this.transformControls) {\r\n            this.transformControls.detach();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update outlines based on selection\r\n     */\r\n    updateSelectionOutlines() {\r\n        // Clear all outlines\r\n        this.outliner.clearAllOutlines();\r\n\r\n        // Create outlines for selected objects\r\n        const selected = this.selectionManager.getSelectedObjects();\r\n        if (selected.length > 0) {\r\n            // Collect all objects that need outlines (avoiding duplicates)\r\n            const objectsToOutline = new Set();\r\n            \r\n            selected.forEach(obj => {\r\n                if (this.groupManager.isGroupContainer(obj)) {\r\n                    // If it's a group, add all children to outline set\r\n                    const children = this.groupManager.getGroupChildren(obj);\r\n                    children.forEach(child => objectsToOutline.add(child));\r\n                } else if (!this.groupManager.isGrouped(obj)) {\r\n                    // Regular non-grouped object, add it directly\r\n                    objectsToOutline.add(obj);\r\n                }\r\n                // Note: We skip individual children that are already grouped,\r\n                // as they'll be outlined when their parent group is processed\r\n            });\r\n            \r\n            // Create outlines for all collected objects\r\n            objectsToOutline.forEach(obj => {\r\n                this.outliner.createOutline(obj);\r\n            });\r\n        }\r\n\r\n        // Update internal references for compatibility\r\n        this.selectedObjects = selected;\r\n        this.selectedObject = this.selectionManager.getSelectedObject();\r\n\r\n        // Execute callback\r\n        const callback = this.config.get('callbacks.onSelectionChanged');\r\n        if (callback && typeof callback === 'function') {\r\n            callback(selected, []);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get selected objects\r\n     */\r\n    getSelectedObjects() {\r\n        return [...this.selectedObjects];\r\n    }\r\n\r\n    /**\r\n     * Get first selected object\r\n     */\r\n    getSelectedObject() {\r\n        return this.selectedObject;\r\n    }\r\n\r\n    /**\r\n     * Set transform mode\r\n     */\r\n    setTransformMode(mode) {\r\n        if (this.transformManager) {\r\n            this.transformManager.setMode(mode);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get transform mode\r\n     */\r\n    getTransformMode() {\r\n        return this.transformManager ? this.transformManager.getMode() : null;\r\n    }\r\n\r\n    /**\r\n     * Set transform space\r\n     */\r\n    setTransformSpace(space) {\r\n        if (this.transformManager) {\r\n            this.transformManager.setSpace(space);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get transform space\r\n     */\r\n    getTransformSpace() {\r\n        return this.transformManager ? this.transformManager.getSpace() : null;\r\n    }\r\n\r\n    /**\r\n     * Set snap unit\r\n     */\r\n    setSnapUnit(value) {\r\n        if (this.snapManager) {\r\n            this.snapManager.setSnapUnit(value);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get snap unit\r\n     */\r\n    getSnapUnit() {\r\n        return this.snapManager ? this.snapManager.getSnapUnit() : 0;\r\n    }\r\n\r\n    /**\r\n     * Toggle snap\r\n     */\r\n    toggleSnap() {\r\n        if (this.snapManager) {\r\n            this.snapManager.toggleSnap();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Group selected objects\r\n     */\r\n    groupSelected() {\r\n        if (!this.groupManager) return null;\r\n\r\n        const selected = this.selectionManager.getSelectedObjects();\r\n        \r\n        if (selected.length < 1) {\r\n            console.warn('SWK: No objects selected for grouping');\r\n            return null;\r\n        }\r\n\r\n        // Remove outlines from objects being grouped\r\n        this.outliner.removeOutlines(selected);\r\n\r\n        // Create group\r\n        const groupContainer = this.groupManager.createGroup(selected);\r\n\r\n        if (groupContainer) {\r\n            // Deselect all and select the group\r\n            this.deselectAll();\r\n            this.selectObject(groupContainer);\r\n\r\n            // Update internal groups reference\r\n            this.groups = this.groupManager.getAllGroups();\r\n            \r\n            // Capture state for undo\r\n            this.captureState(`Create group ${groupContainer.name}`);\r\n        }\r\n\r\n        return groupContainer;\r\n    }\r\n\r\n    /**\r\n     * Ungroup selected group\r\n     */\r\n    ungroupSelected() {\r\n        if (!this.groupManager) return null;\r\n\r\n        const selected = this.selectionManager.getSelectedObject();\r\n\r\n        if (!selected || !this.groupManager.isGroupContainer(selected)) {\r\n            console.warn('SWK: Selected object is not a group');\r\n            return null;\r\n        }\r\n\r\n        // Ungroup\r\n        const ungroupedObjects = this.groupManager.ungroup(selected);\r\n\r\n        if (ungroupedObjects && ungroupedObjects.length > 0) {\r\n            // Deselect all\r\n            this.deselectAll();\r\n\r\n            // Update internal groups reference\r\n            this.groups = this.groupManager.getAllGroups();\r\n            \r\n            // Capture state for undo\r\n            this.captureState(`Ungroup ${selected.name}`);\r\n        }\r\n\r\n        return ungroupedObjects;\r\n    }\r\n\r\n    /**\r\n     * Check if object is grouped\r\n     */\r\n    isGrouped(object) {\r\n        return this.groupManager ? this.groupManager.isGrouped(object) : false;\r\n    }\r\n\r\n    /**\r\n     * Check if object is a group container\r\n     */\r\n    isGroupContainer(object) {\r\n        return this.groupManager ? this.groupManager.isGroupContainer(object) : false;\r\n    }\r\n\r\n    /**\r\n     * Get all groups\r\n     */\r\n    getAllGroups() {\r\n        return this.groupManager ? this.groupManager.getAllGroups() : [];\r\n    }\r\n\r\n    /**\r\n     * Get group children\r\n     */\r\n    getGroupChildren(groupContainer) {\r\n        return this.groupManager ? this.groupManager.getGroupChildren(groupContainer) : [];\r\n    }\r\n\r\n    // ==================== History Methods ====================\r\n\r\n    /**\r\n     * Capture current state to history\r\n     * @param {string} description - Description of the action\r\n     */\r\n    captureState(description = 'Action') {\r\n        if (this.historyManager) {\r\n            return this.historyManager.captureState(description);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Undo the last action\r\n     * @returns {boolean} Success\r\n     */\r\n    undo() {\r\n        if (this.historyManager) {\r\n            const success = this.historyManager.undo();\r\n            if (success) {\r\n                // Rebuild objects array - include ALL meshes for backward compatibility\r\n                // This includes both ungrouped objects and children within groups\r\n                this.objects = [];\r\n                const scene = this.sceneManager.getScene();\r\n                \r\n                // Add all standalone objects (not in groups)\r\n                scene.children.forEach(obj => {\r\n                    if (obj.userData && obj.userData.isUserObject) {\r\n                        this.objects.push(obj);\r\n                    }\r\n                });\r\n                \r\n                // Add all children from groups\r\n                const groups = this.groupManager.getAllGroups();\r\n                groups.forEach(group => {\r\n                    const children = this.groupManager.getGroupChildren(group.container);\r\n                    this.objects.push(...children);\r\n                });\r\n                \r\n                // Update groups reference\r\n                this.groups = groups;\r\n                \r\n                // Update UI if present\r\n                if (this.uiManager && this.uiManager.outlinerPanel) {\r\n                    this.uiManager.outlinerPanel.refresh();\r\n                }\r\n            }\r\n            return success;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Redo the last undone action\r\n     * @returns {boolean} Success\r\n     */\r\n    redo() {\r\n        if (this.historyManager) {\r\n            const success = this.historyManager.redo();\r\n            if (success) {\r\n                // Rebuild objects array - include ALL meshes for backward compatibility\r\n                // This includes both ungrouped objects and children within groups\r\n                this.objects = [];\r\n                const scene = this.sceneManager.getScene();\r\n                \r\n                // Add all standalone objects (not in groups)\r\n                scene.children.forEach(obj => {\r\n                    if (obj.userData && obj.userData.isUserObject) {\r\n                        this.objects.push(obj);\r\n                    }\r\n                });\r\n                \r\n                // Add all children from groups\r\n                const groups = this.groupManager.getAllGroups();\r\n                groups.forEach(group => {\r\n                    const children = this.groupManager.getGroupChildren(group.container);\r\n                    this.objects.push(...children);\r\n                });\r\n                \r\n                // Update groups reference\r\n                this.groups = groups;\r\n                \r\n                // Update UI if present\r\n                if (this.uiManager && this.uiManager.outlinerPanel) {\r\n                    this.uiManager.outlinerPanel.refresh();\r\n                }\r\n            }\r\n            return success;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Check if undo is available\r\n     * @returns {boolean}\r\n     */\r\n    canUndo() {\r\n        return this.historyManager ? this.historyManager.canUndo() : false;\r\n    }\r\n\r\n    /**\r\n     * Check if redo is available\r\n     * @returns {boolean}\r\n     */\r\n    canRedo() {\r\n        return this.historyManager ? this.historyManager.canRedo() : false;\r\n    }\r\n\r\n    /**\r\n     * Get history statistics\r\n     * @returns {Object}\r\n     */\r\n    getHistoryStats() {\r\n        return this.historyManager ? this.historyManager.getStats() : null;\r\n    }\r\n\r\n    /**\r\n     * Clear history\r\n     */\r\n    clearHistory() {\r\n        if (this.historyManager) {\r\n            this.historyManager.clear();\r\n        }\r\n    }\r\n\r\n    // ==================== Export Methods ====================\r\n\r\n    /**\r\n     * Export scene as GLTF\r\n     * @param {Object} options - Export options\r\n     * @returns {Promise<boolean>}\r\n     */\r\n    async exportGLTF(options = {}) {\r\n        if (!this.exportManager) {\r\n            console.warn('Export manager not initialized');\r\n            return false;\r\n        }\r\n        return await this.exportManager.exportGLTF({ ...options, binary: false });\r\n    }\r\n\r\n    /**\r\n     * Export scene as GLB (binary GLTF)\r\n     * @param {Object} options - Export options\r\n     * @returns {Promise<boolean>}\r\n     */\r\n    async exportGLB(options = {}) {\r\n        if (!this.exportManager) {\r\n            console.warn('Export manager not initialized');\r\n            return false;\r\n        }\r\n        return await this.exportManager.exportGLTF({ ...options, binary: true });\r\n    }\r\n\r\n    /**\r\n     * Export scene as STL\r\n     * @param {Object} options - Export options\r\n     * @returns {Promise<boolean>}\r\n     */\r\n    async exportSTL(options = {}) {\r\n        if (!this.exportManager) {\r\n            console.warn('Export manager not initialized');\r\n            return false;\r\n        }\r\n        return await this.exportManager.exportSTL(options);\r\n    }\r\n\r\n    /**\r\n     * Export selected objects only\r\n     * @param {string} format - Export format ('gltf', 'glb', or 'stl')\r\n     * @param {Object} options - Export options\r\n     * @returns {Promise<boolean>}\r\n     */\r\n    async exportSelected(format = 'gltf', options = {}) {\r\n        if (!this.exportManager) {\r\n            console.warn('Export manager not initialized');\r\n            return false;\r\n        }\r\n        return await this.exportManager.exportSelected(format, options);\r\n    }\r\n\r\n    /**\r\n     * Get available export formats\r\n     * @returns {Array<Object>}\r\n     */\r\n    getAvailableExportFormats() {\r\n        if (!this.exportManager) {\r\n            return [];\r\n        }\r\n        return this.exportManager.getAvailableFormats();\r\n    }\r\n\r\n    // ==================== Lifecycle Methods ====================\r\n\r\n    /**\r\n     * Destroy instance and cleanup\r\n     */\r\n    destroy() {\r\n        // Stop animation\r\n        if (this.animationId) {\r\n            cancelAnimationFrame(this.animationId);\r\n            this.animationId = null;\r\n        }\r\n        \r\n        // Remove event listeners\r\n        const canvas = this.renderer ? this.renderer.getCanvas() : null;\r\n        if (canvas) {\r\n            canvas.removeEventListener('click', this.onCanvasClick.bind(this));\r\n        }\r\n        window.removeEventListener('keydown', this.onKeyDown.bind(this));\r\n        \r\n        // Dispose modules\r\n        if (this.uiManager) this.uiManager.destroy();\r\n        if (this.exportManager) this.exportManager.dispose();\r\n        if (this.groupManager) this.groupManager.clearAllGroups();\r\n        if (this.historyManager) this.historyManager.dispose();\r\n        if (this.transformManager) this.transformManager.dispose();\r\n        if (this.outliner) this.outliner.dispose();\r\n        if (this.lighting) this.lighting.dispose();\r\n        if (this.cameraManager) this.cameraManager.dispose();\r\n        if (this.sceneManager) this.sceneManager.dispose();\r\n        if (this.renderer) this.renderer.dispose();\r\n        \r\n        // Clear references\r\n        this.renderer = null;\r\n        this.sceneManager = null;\r\n        this.cameraManager = null;\r\n        this.lighting = null;\r\n        this.shapeFactory = null;\r\n        this.picker = null;\r\n        this.selectionManager = null;\r\n        this.outliner = null;\r\n        this.transformManager = null;\r\n        this.snapManager = null;\r\n        this.groupManager = null;\r\n        this.historyManager = null;\r\n        this.uiManager = null;\r\n        this.exportManager = null;\r\n        this.controls = null;\r\n        this.transformControls = null;\r\n        this.objects = [];\r\n        this.selectedObjects = [];\r\n        this.selectedObject = null;\r\n        this.groups = [];\r\n        \r\n        // Remove all event listeners\r\n        this.removeAllListeners();\r\n        \r\n        this.initialized = false;\r\n        console.log('SWK: Editor destroyed');\r\n    }\r\n}\r\n\r\n/**\r\n * Auto-initialize on DOM ready\r\n */\r\nif (typeof window !== 'undefined') {\r\n    // Auto-init on DOMContentLoaded\r\n    if (document.readyState === 'loading') {\r\n        document.addEventListener('DOMContentLoaded', () => {\r\n            SWK.autoInit = () => Initializer.autoInit(SWK);\r\n            // Don't auto-init automatically, let user call SWK.autoInit() if needed\r\n        });\r\n    } else {\r\n        SWK.autoInit = () => Initializer.autoInit(SWK);\r\n    }\r\n}\r\n\r\n// Export for ES6 modules and UMD\r\nexport default SWK;\r\n\r\n// For UMD/browser global\r\nif (typeof window !== 'undefined') {\r\n    window.SWK = SWK;\r\n}\r\n"],"names":["CAMERA_MODES","Camera","container","config","_classCallCheck","perspectiveCamera","orthographicCamera","currentCamera","currentMode","get","controls","init","_createClass","key","value","_this$perspectiveCame","_this$orthographicCam","width","clientWidth","height","clientHeight","aspect","fov","near","far","THREE","PerspectiveCamera","frustumSize","OrthographicCamera","position","set","apply","_toConsumableArray","PERSPECTIVE","window","addEventListener","onResize","bind","updateProjectionMatrix","left","right","top","bottom","getCamera","getPerspectiveCamera","getOrthographicCamera","setMode","mode","Object","values","includes","console","warn","concat","currentPosition","clone","currentTarget","target","Vector3","copy","object","update","getMode","setControls","reset","_this$currentCamera$p","dispose","removeEventListener","default","DEFAULT_COLORS","GRID_SETTINGS","CAMERA_SETTINGS","LIGHTING","HISTORY_MAX_SIZE","TRANSFORM_MODES","OUTLINE_THICKNESS","deepMerge","DEFAULT_CONFIG","viewportBackground","VIEWPORT_BG","toString","padStart","outlineColor","OUTLINE","outlineThickness","grid","show","size","SIZE","divisions","DIVISIONS","centerColor","GRID_CENTER","linesColor","GRID_LINES","camera","FOV","NEAR","FAR","POSITION","transform","TRANSLATE","space","snapUnit","lighting","ambient","intensity","AMBIENT_INTENSITY","color","AMBIENT_COLOR","directional","DIRECTIONAL_INTENSITY","DIRECTIONAL_COLOR","DIRECTIONAL_POSITION","castShadow","ui","enabled","panels","shapes","properties","outliner","features","grouping","undo","history","maxSize","callbacks","onObjectAdded","onObjectRemoved","onSelectionChanged","onTransformChange","onGroupCreated","onGroupRemoved","Config","userConfig","arguments","length","undefined","mergeConfig","validate","Error","path","keys","split","_iterator","_createForOfIteratorHelper","_step","s","n","done","_typeof","err","e","f","lastKey","pop","_iterator2","_step2","getAll","_objectSpread","EventEmitter","events","on","event","callback","push","once","_this","wrapper","off","filter","cb","emit","_len","args","Array","_key","forEach","error","removeAllListeners","parseDataAttributes","Initializer","fromAPI","selector","options","document","querySelector","HTMLElement","autoInit","SWKClass","elements","querySelectorAll","instances","element","instance","fromHTML","parsedConfig","parseConfig","Lighting","scene","ambientLight","directionalLight","_this$directionalLigh","ambientIntensity","ambientColor","hexToNumber","AmbientLight","add","directionalIntensity","directionalColor","DirectionalLight","shadow","mapSize","hex","parseInt","replace","setAmbientIntensity","setDirectionalIntensity","setAmbientColor","setDirectionalColor","getAmbientLight","getDirectionalLight","remove","Renderer","renderer","WebGLRenderer","antialias","alpha","setSize","setPixelRatio","devicePixelRatio","bgColor","setClearColor","shadowMap","type","PCFSoftShadowMap","appendChild","domElement","render","getRenderer","setBackgroundColor","getCanvas","parentNode","removeChild","Scene","gridHelper","createGrid","GridHelper","getScene","showGrid","visible","hideGrid","toggleGrid","geometry","material","t","r","Symbol","iterator","o","toStringTag","i","c","prototype","Generator","u","create","_regeneratorDefine2","p","y","G","v","a","d","l","TypeError","call","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","defineProperty","_regeneratorDefine","_invoke","enumerable","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_asyncToGenerator","_next","_throw","_defineProperties","_toPropertyKey","_toPrimitive","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","_assertThisInitialized","ReferenceError","Boolean","valueOf","_inherits","_setPrototypeOf","getTimestamp","downloadFile","ExportManager","_EventEmitter","swkInstance","swk","hasGLTFExporter","GLTFExporter","hasSTLExporter","STLExporter","prepareSceneForExport","exportableObjects","children","child","userData","isShape","createExportScene","exportScene","objects","obj","_exportGLTF","_callee","_this2","binary","filename","extension","exporter","exportOptions","_args","_t","_context","format","embedImages","truncateDrawRange","onlyVisible","maxTextureSize","parse","result","blob","Blob","output","JSON","stringify","log","toUpperCase","objectCount","message","exportGLTF","_exportSTL","_callee2","exportGroup","_blob2","_args2","_t2","_context2","Group","exportSTL","_exportSelected","_callee3","selected","tempScene","originalScene","_args3","_context3","getSelectedObjects","exportSelected","getAvailableFormats","formats","name","isFormatAvailable","some","generateId","GroupManager","eventEmitter","groups","groupIdCounter","createGroup","groupId","groupName","group","id","isDirty","computeGroupContainer","boundingBox","Box3","expandByObject","center","getCenter","groupContainer","isGroupResult","worldPos","worldQuat","Quaternion","worldScale","getWorldPosition","getWorldQuaternion","getWorldScale","parent","sub","quaternion","scale","ungroup","groupIndex","findIndex","g","ungroupedObjects","worldPosition","worldRotation","splice","getGroupById","find","getGroupByContainer","isGrouped","isGroupContainer","getAllGroups","getGroupChildren","findObjectGroup","renameGroup","newName","removeFromGroup","index","indexOf","addToGroup","groupCenter","clearAllGroups","getStats","totalGroups","map","childCount","StateCapture","HistoryManager","selectionManager","groupManager","shapeFactory","transformManager","historyIndex","maxHistory","isRestoring","captureState","description","state","slice","lastState","areStatesEqual","timestamp","Date","now","shift","entry","isCurrent","groupCount","canUndo","canRedo","historyCount","restoreState","action","redo","getUndoDescription","_this$history","getRedoDescription","_this$history2","clear","memoryUsage","estimateMemoryUsage","SHAPE_TYPES","selection","counters","shapeCounters","userObjects","isUserObject","serializeGroup","serializeObject","selectedObjects","uuid","data","shapeType","toArray","rotation","getHex","opacity","transparent","wireframe","TEXT","textContent","textFont","_this3","restoredObjects","uuidMap","Map","detach","isArray","objData","deserializeObject","groupData","_this3$deserializeGro","deserializeGroup","originalChildData","fromArray","select","addToSelection","primarySelection","attach","_data$material","text","font","createShape","_this4","childData","cloneState","stateA","stateB","Outliner","outlineMap","createOutline","mesh","removeOutline","outlineGeometry","outlineMaterial","MeshBasicMaterial","side","BackSide","depthWrite","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","outlineMesh","Mesh","isText","updateOutlineTransform","outline","worldQuaternion","offsetAmount","x","multiplyScalar","outlineData","syncOutlines","entries","_step$value","_slicedToArray","createOutlines","meshes","removeOutlines","clearAllOutlines","_step2$value","setOutlineColor","_iterator3","_step3","_step3$value","getOutline","hasOutline","has","Picker","raycaster","Raycaster","mouse","Vector2","updateMousePosition","canvas","rect","getBoundingClientRect","clientX","clientY","pick","recursive","setFromCamera","intersects","intersectObjects","pickAll","pickFromEvent","getMousePosition","setCamera","SelectionManager","selectedObject","previousSelection","removeFromSelection","toggle","isSelected","getSelectedObject","getSelectionCount","hasSelection","hasMultipleSelections","ShapeFactory","fontLoader","FontLoader","fonts","box","sphere","cylinder","cone","torus","plane","pyramid","torusknot","tetrahedron","octahedron","icosahedron","dodecahedron","loadFonts","onComplete","fontUrls","sans","mono","serif","loadedCount","totalFonts","_loop","_Object$entries$_i","_Object$entries","_i","fontName","url","load","toLowerCase","isFlat","BOX","BoxGeometry","SPHERE","SphereGeometry","CYLINDER","CylinderGeometry","CONE","ConeGeometry","TORUS","TorusGeometry","PLANE","PlaneGeometry","PYRAMID","TORUS_KNOT","TorusKnotGeometry","TETRAHEDRON","TetrahedronGeometry","OCTAHEDRON","OctahedronGeometry","ICOSAHEDRON","IcosahedronGeometry","DODECAHEDRON","DodecahedronGeometry","bevel","createTextGeometry","computeBoundingBox","computeBoundingSphere","SHAPE_DEFAULT","MeshStandardMaterial","roughness","metalness","receiveShadow","bbox","max","min","textHeight","textBevel","TextGeometry","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelSegments","updateTextGeometry","newGeometry","getCounters","setCounters","SNAP_VALUES","degToRad","SnapManager","transformControls","rotationSnapDegrees","applySnap","setTranslationSnap","rotationSnapRadians","setRotationSnap","setScaleSnap","setSnapUnit","getSnapUnit","degrees","getRotationSnap","toggleSnap","isSnapEnabled","cycleSnapValue","currentIndex","nextIndex","getAvailableSnapValues","TransformManager","currentSpace","TransformControls","setSpace","onChange","onDraggingChanged","onObjectChange","getSpace","getAttachedObject","isDragging","dragging","enable","disable","getControls","ControlsPanel","innerHTML","attachEventListeners","transformButtons","btn","getAttribute","setTransformMode","cameraButtons","setCameraMode","snapSelect","getElementById","parseFloat","undoBtn","redoBtn","groupBtn","groupSelected","ungroupBtn","ungroupSelected","duplicateBtn","duplicateObject","deleteBtn","deleteObject","exportGltfBtn","exportStlBtn","updateTransformMode","buttons","classList","updateCameraMode","updateHistoryState","disabled","success","refresh","cameraManager","historyManager","destroy","OutlinerPanel","expandedGroups","Set","refreshBtn","tree","allObjects","groupedObjectIds","item","createTreeItem","level","isGroup","isExpanded","createElement","className","setAttribute","indent","icon","getShapeIcon","content","contains","selectObject","stopPropagation","toggleGroup","childItem","icons","updateSelection","_this5","items","addObject","removeObject","PropertyPanel","isUpdating","contentElement","showEmptyState","showSingleObjectProperties","showMultipleObjectsProperties","toFixed","z","Math","PI","getHexString","fontType","fontSize","nameInput","property","axis","input","colorInput","visibleInput","checked","textInput","fontInput","fontSizeInput","_updateTextGeometry","_x","_x2","_x3","_x4","ShapesPanel","label","shape","button","title","_createShape","prompt","addShape","UIManager","propertyPanel","shapesPanel","outlinerPanel","controlsPanel","isInitialized","uiElements","uiEnabled","initialize","createUIStructure","initializePanels","setupEventListeners","uiWrapper","leftSidebar","rightSidebar","bottomToolbar","style","display","hide","isHidden","updatePanel","panelName","panel","ROTATE","SCALE","ORTHOGRAPHIC","FONT_URLS","radToDeg","radians","random","substr","source","isObject","assign","_defineProperty","clamp","link","href","URL","createObjectURL","download","click","revokeObjectURL","dataset","startsWith","configPath","str","match","letter","offset","nestedProps","beforeLetter","substring","_nestedProps","prop","parsedValue","trimmed","trim","isNaN","setNestedProperty","tag","classes","attributes","join","_i2","disposeObject","texture","_arrayWithoutHoles","_iterableToArray","_unsupportedIterableToArray","_nonIterableSpread","_arrayLikeToArray","from","test","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","SWK","_Initializer$fromAPI","sceneManager","picker","snapManager","uiManager","exportManager","initialized","animationId","setupContainer","updateSelectionOutlines","setupControls","animate","overflow","OrbitControls","enableDamping","dampingFactor","screenSpacePanning","minDistance","maxDistance","maxPolarAngle","onCanvasClick","onKeyDown","isTransforming","selectableObjects","intersection","clickedObject","ctrlKey","metaKey","isGroupSelected","deselectAll","shiftKey","preventDefault","altKey","requestAnimationFrame","getCameraMode","setBackground","resetCamera","multiIndex","duplicate","getAllObjects","_this6","_this7","objectsToOutline","getTransformMode","setTransformSpace","getTransformSpace","_this8","_this8$objects","_this9","_this9$objects","getHistoryStats","clearHistory","_exportGLB","exportGLB","_callee4","_args4","_context4","getAvailableExportFormats","cancelAnimationFrame","readyState"],"sourceRoot":""}