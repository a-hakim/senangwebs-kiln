{"version":3,"file":"swk.min.js","mappings":"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","sources":["webpack://SWK/webpack/universalModuleDefinition","webpack://SWK/webpack/bootstrap","webpack://SWK/webpack/runtime/define property getters","webpack://SWK/webpack/runtime/hasOwnProperty shorthand","webpack://SWK/./src/js/utils/Constants.js","webpack://SWK/./src/js/utils/Helpers.js","webpack://SWK/./src/js/core/Config.js","webpack://SWK/./src/js/core/EventEmitter.js","webpack://SWK/./src/js/core/Initializer.js","webpack://SWK/./src/js/core/Scene.js","webpack://SWK/./src/js/core/Renderer.js","webpack://SWK/./src/js/core/Camera.js","webpack://SWK/./src/js/core/Lighting.js","webpack://SWK/./src/js/shapes/ShapeFactory.js","webpack://SWK/./src/js/selection/Picker.js","webpack://SWK/./src/js/selection/SelectionManager.js","webpack://SWK/./src/js/selection/Outliner.js","webpack://SWK/./src/js/transform/TransformManager.js","webpack://SWK/./src/js/transform/SnapManager.js","webpack://SWK/./src/js/grouping/GroupManager.js","webpack://SWK/./src/js/history/StateCapture.js","webpack://SWK/./src/js/history/HistoryManager.js","webpack://SWK/./src/js/ui/PropertyPanel.js","webpack://SWK/./src/js/ui/ShapesPanel.js","webpack://SWK/./src/js/ui/OutlinerPanel.js","webpack://SWK/./src/js/ui/ControlsPanel.js","webpack://SWK/./src/js/ui/UIManager.js","webpack://SWK/./src/js/export/ExportManager.js","webpack://SWK/./src/js/swk.js"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"SWK\"] = factory();\n\telse\n\t\troot[\"SWK\"] = factory();\n})(this, () => {\nreturn ","// The require scope\nvar __webpack_require__ = {};\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","/**\r\n * Global constants for SenangWebs Kiln\r\n */\r\n\r\nexport const SHAPE_TYPES = {\r\n    BOX: 'box',\r\n    SPHERE: 'sphere',\r\n    CYLINDER: 'cylinder',\r\n    CONE: 'cone',\r\n    TORUS: 'torus',\r\n    PLANE: 'plane',\r\n    PYRAMID: 'pyramid',\r\n    TORUS_KNOT: 'torusknot',\r\n    TETRAHEDRON: 'tetrahedron',\r\n    OCTAHEDRON: 'octahedron',\r\n    ICOSAHEDRON: 'icosahedron',\r\n    DODECAHEDRON: 'dodecahedron',\r\n    TEXT: 'text'\r\n};\r\n\r\nexport const TRANSFORM_MODES = {\r\n    TRANSLATE: 'translate',\r\n    ROTATE: 'rotate',\r\n    SCALE: 'scale'\r\n};\r\n\r\nexport const CAMERA_MODES = {\r\n    PERSPECTIVE: 'perspective',\r\n    ORTHOGRAPHIC: 'orthographic'\r\n};\r\n\r\nexport const SNAP_VALUES = [0.5, 0.2, 0.1, 0.05, 0.025, 0.01, 0];\r\n\r\nexport const FONT_URLS = {\r\n    sans: 'https://threejs.org/examples/fonts/helvetiker_regular.typeface.json',\r\n    mono: '/src/font/DM_Mono_Regular.json',\r\n    serif: 'https://threejs.org/examples/fonts/gentilis_regular.typeface.json'\r\n};\r\n\r\nexport const DEFAULT_COLORS = {\r\n    VIEWPORT_BG: 0xe2e8f0,\r\n    GRID_CENTER: 0x45556c,\r\n    GRID_LINES: 0x90a1b9,\r\n    OUTLINE: 0x1d293d,\r\n    SHAPE_DEFAULT: 0x007370\r\n};\r\n\r\nexport const GRID_SETTINGS = {\r\n    SIZE: 20,\r\n    DIVISIONS: 20\r\n};\r\n\r\nexport const LIGHTING = {\r\n    AMBIENT_INTENSITY: 0.7,\r\n    AMBIENT_COLOR: 0xffffff,\r\n    DIRECTIONAL_INTENSITY: 0.9,\r\n    DIRECTIONAL_COLOR: 0xffffff,\r\n    DIRECTIONAL_POSITION: [5, 10, 5]\r\n};\r\n\r\nexport const CAMERA_SETTINGS = {\r\n    FOV: 75,\r\n    NEAR: 0.1,\r\n    FAR: 1000,\r\n    POSITION: [5, 5, 5]\r\n};\r\n\r\nexport const HISTORY_MAX_SIZE = 50;\r\n\r\nexport const OUTLINE_THICKNESS = 0.04;\r\n","/**\r\n * Utility helper functions\r\n */\r\n\r\n/**\r\n * Convert degrees to radians\r\n */\r\nexport function degToRad(degrees) {\r\n    return degrees * (Math.PI / 180);\r\n}\r\n\r\n/**\r\n * Convert radians to degrees\r\n */\r\nexport function radToDeg(radians) {\r\n    return radians * (180 / Math.PI);\r\n}\r\n\r\n/**\r\n * Generate unique ID\r\n */\r\nexport function generateId() {\r\n    return `swk-${Date.now()}-${Math.random().toString(36).substr(2, 9)}`;\r\n}\r\n\r\n/**\r\n * Deep merge objects\r\n */\r\nexport function deepMerge(target, source) {\r\n    const output = { ...target };\r\n    \r\n    if (isObject(target) && isObject(source)) {\r\n        Object.keys(source).forEach(key => {\r\n            if (isObject(source[key])) {\r\n                if (!(key in target)) {\r\n                    Object.assign(output, { [key]: source[key] });\r\n                } else {\r\n                    output[key] = deepMerge(target[key], source[key]);\r\n                }\r\n            } else {\r\n                Object.assign(output, { [key]: source[key] });\r\n            }\r\n        });\r\n    }\r\n    \r\n    return output;\r\n}\r\n\r\n/**\r\n * Check if value is an object\r\n */\r\nexport function isObject(item) {\r\n    return item && typeof item === 'object' && !Array.isArray(item);\r\n}\r\n\r\n/**\r\n * Clamp value between min and max\r\n */\r\nexport function clamp(value, min, max) {\r\n    return Math.min(Math.max(value, min), max);\r\n}\r\n\r\n/**\r\n * Download file\r\n */\r\nexport function downloadFile(blob, filename) {\r\n    const link = document.createElement('a');\r\n    link.href = URL.createObjectURL(blob);\r\n    link.download = filename;\r\n    link.click();\r\n    URL.revokeObjectURL(link.href);\r\n}\r\n\r\n/**\r\n * Get timestamp for file naming\r\n */\r\nexport function getTimestamp() {\r\n    return Date.now();\r\n}\r\n\r\n/**\r\n * Parse HTML data attributes to config object\r\n */\r\nexport function parseDataAttributes(element) {\r\n    const config = {};\r\n    const dataset = element.dataset;\r\n    \r\n    for (const key in dataset) {\r\n        if (key.startsWith('swk')) {\r\n            // Remove 'swk' prefix and convert to config path\r\n            // e.g., 'swkUiEnabled' -> 'ui.enabled', 'swkGridShow' -> 'grid.show'\r\n            let configPath = key.replace('swk', '').replace(/^./, str => str.toLowerCase());\r\n            \r\n            // Convert camelCase to dot notation for nested properties\r\n            // uiEnabled -> ui.enabled, gridShow -> grid.show\r\n            configPath = configPath.replace(/([A-Z])/g, (match, letter, offset) => {\r\n                // Special handling for known nested properties\r\n                const nestedProps = ['ui', 'grid', 'camera', 'history', 'viewport', 'transform', 'lighting'];\r\n                const beforeLetter = configPath.substring(0, offset);\r\n                \r\n                // Check if this is a start of a nested property\r\n                for (const prop of nestedProps) {\r\n                    if (beforeLetter.toLowerCase() === prop) {\r\n                        return '.' + letter.toLowerCase();\r\n                    }\r\n                }\r\n                return letter.toLowerCase();\r\n            });\r\n            \r\n            const value = dataset[key];\r\n            \r\n            // Parse value\r\n            let parsedValue;\r\n            if (value === 'true') {\r\n                parsedValue = true;\r\n            } else if (value === 'false') {\r\n                parsedValue = false;\r\n            } else if (value.includes(',')) {\r\n                // Handle arrays (e.g., \"5,5,5\" -> [5,5,5])\r\n                parsedValue = value.split(',').map(v => {\r\n                    const trimmed = v.trim();\r\n                    return !isNaN(trimmed) ? parseFloat(trimmed) : trimmed;\r\n                });\r\n            } else if (!isNaN(value) && value !== '') {\r\n                parsedValue = parseFloat(value);\r\n            } else {\r\n                parsedValue = value;\r\n            }\r\n            \r\n            // Set nested property\r\n            setNestedProperty(config, configPath, parsedValue);\r\n        }\r\n    }\r\n    \r\n    return config;\r\n}\r\n\r\n/**\r\n * Set nested property in object using dot notation\r\n */\r\nfunction setNestedProperty(obj, path, value) {\r\n    const keys = path.split('.');\r\n    const lastKey = keys.pop();\r\n    let target = obj;\r\n    \r\n    for (const key of keys) {\r\n        if (!(key in target)) {\r\n            target[key] = {};\r\n        }\r\n        target = target[key];\r\n    }\r\n    \r\n    target[lastKey] = value;\r\n}\r\n\r\n/**\r\n * Create DOM element with classes\r\n */\r\nexport function createElement(tag, classes = [], attributes = {}) {\r\n    const element = document.createElement(tag);\r\n    \r\n    if (classes.length > 0) {\r\n        element.className = classes.join(' ');\r\n    }\r\n    \r\n    for (const [key, value] of Object.entries(attributes)) {\r\n        element.setAttribute(key, value);\r\n    }\r\n    \r\n    return element;\r\n}\r\n\r\n/**\r\n * Dispose Three.js object properly\r\n */\r\nexport function disposeObject(object) {\r\n    if (!object) return;\r\n    \r\n    if (object.geometry) {\r\n        object.geometry.dispose();\r\n    }\r\n    \r\n    if (object.material) {\r\n        if (Array.isArray(object.material)) {\r\n            object.material.forEach(material => material.dispose());\r\n        } else {\r\n            object.material.dispose();\r\n        }\r\n    }\r\n    \r\n    if (object.texture) {\r\n        object.texture.dispose();\r\n    }\r\n}\r\n","/**\r\n * Configuration management with defaults and validation\r\n */\r\n\r\nimport { \r\n    DEFAULT_COLORS, \r\n    GRID_SETTINGS, \r\n    CAMERA_SETTINGS, \r\n    LIGHTING,\r\n    HISTORY_MAX_SIZE,\r\n    CAMERA_MODES,\r\n    TRANSFORM_MODES,\r\n    OUTLINE_THICKNESS\r\n} from '../utils/Constants.js';\r\nimport { deepMerge } from '../utils/Helpers.js';\r\n\r\n/**\r\n * Default configuration\r\n */\r\nexport const DEFAULT_CONFIG = {\r\n    // Container & Sizing\r\n    container: null,\r\n    width: '100%',\r\n    height: '100%',\r\n    \r\n    // Viewport Appearance\r\n    viewportBackground: `#${DEFAULT_COLORS.VIEWPORT_BG.toString(16).padStart(6, '0')}`,\r\n    outlineColor: `#${DEFAULT_COLORS.OUTLINE.toString(16).padStart(6, '0')}`,\r\n    outlineThickness: OUTLINE_THICKNESS,\r\n    \r\n    // Grid\r\n    grid: {\r\n        show: true,\r\n        size: GRID_SETTINGS.SIZE,\r\n        divisions: GRID_SETTINGS.DIVISIONS,\r\n        centerColor: `#${DEFAULT_COLORS.GRID_CENTER.toString(16).padStart(6, '0')}`,\r\n        linesColor: `#${DEFAULT_COLORS.GRID_LINES.toString(16).padStart(6, '0')}`\r\n    },\r\n    \r\n    // Camera\r\n    camera: {\r\n        mode: CAMERA_MODES.PERSPECTIVE,\r\n        fov: CAMERA_SETTINGS.FOV,\r\n        near: CAMERA_SETTINGS.NEAR,\r\n        far: CAMERA_SETTINGS.FAR,\r\n        position: [...CAMERA_SETTINGS.POSITION]\r\n    },\r\n    \r\n    // Transform\r\n    transform: {\r\n        mode: TRANSFORM_MODES.TRANSLATE,\r\n        space: 'local',\r\n        snapUnit: 0.1\r\n    },\r\n    \r\n    // Lighting\r\n    lighting: {\r\n        ambient: {\r\n            intensity: LIGHTING.AMBIENT_INTENSITY,\r\n            color: `#${LIGHTING.AMBIENT_COLOR.toString(16).padStart(6, '0')}`\r\n        },\r\n        directional: {\r\n            intensity: LIGHTING.DIRECTIONAL_INTENSITY,\r\n            color: `#${LIGHTING.DIRECTIONAL_COLOR.toString(16).padStart(6, '0')}`,\r\n            position: [...LIGHTING.DIRECTIONAL_POSITION]\r\n        },\r\n        castShadow: true\r\n    },\r\n    \r\n    // UI Elements\r\n    ui: {\r\n        enabled: false, // UI disabled by default (use JS API)\r\n        panels: {\r\n            shapes: true,\r\n            properties: true,\r\n            outliner: true,\r\n            controls: true\r\n        }\r\n    },\r\n    \r\n    // Features\r\n    features: {\r\n        grouping: true,\r\n        undo: true,\r\n        export: true\r\n    },\r\n    \r\n    // History\r\n    history: {\r\n        enabled: true,\r\n        maxSize: HISTORY_MAX_SIZE\r\n    },\r\n    \r\n    // Callbacks\r\n    callbacks: {\r\n        onObjectAdded: null,\r\n        onObjectRemoved: null,\r\n        onSelectionChanged: null,\r\n        onTransformChange: null,\r\n        onGroupCreated: null,\r\n        onGroupRemoved: null\r\n    }\r\n};\r\n\r\n/**\r\n * Configuration manager\r\n */\r\nexport default class Config {\r\n    constructor(userConfig = {}) {\r\n        this.config = this.mergeConfig(userConfig);\r\n        this.validate();\r\n    }\r\n\r\n    /**\r\n     * Merge user config with defaults\r\n     */\r\n    mergeConfig(userConfig) {\r\n        return deepMerge(DEFAULT_CONFIG, userConfig);\r\n    }\r\n\r\n    /**\r\n     * Validate configuration\r\n     */\r\n    validate() {\r\n        // Validate container\r\n        if (!this.config.container) {\r\n            throw new Error('SWK: Container selector or element is required');\r\n        }\r\n\r\n        // Validate camera mode\r\n        if (!Object.values(CAMERA_MODES).includes(this.config.camera.mode)) {\r\n            console.warn(`SWK: Invalid camera mode \"${this.config.camera.mode}\", using default`);\r\n            this.config.camera.mode = CAMERA_MODES.PERSPECTIVE;\r\n        }\r\n\r\n        // Validate transform mode\r\n        if (!Object.values(TRANSFORM_MODES).includes(this.config.transform.mode)) {\r\n            console.warn(`SWK: Invalid transform mode \"${this.config.transform.mode}\", using default`);\r\n            this.config.transform.mode = TRANSFORM_MODES.TRANSLATE;\r\n        }\r\n\r\n        // Validate snap unit\r\n        if (this.config.transform.snapUnit < 0) {\r\n            console.warn('SWK: Snap unit must be non-negative, using 0');\r\n            this.config.transform.snapUnit = 0;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get configuration value\r\n     */\r\n    get(path) {\r\n        const keys = path.split('.');\r\n        let value = this.config;\r\n        \r\n        for (const key of keys) {\r\n            if (value && typeof value === 'object' && key in value) {\r\n                value = value[key];\r\n            } else {\r\n                return undefined;\r\n            }\r\n        }\r\n        \r\n        return value;\r\n    }\r\n\r\n    /**\r\n     * Set configuration value\r\n     */\r\n    set(path, value) {\r\n        const keys = path.split('.');\r\n        const lastKey = keys.pop();\r\n        let target = this.config;\r\n        \r\n        for (const key of keys) {\r\n            if (!(key in target)) {\r\n                target[key] = {};\r\n            }\r\n            target = target[key];\r\n        }\r\n        \r\n        target[lastKey] = value;\r\n    }\r\n\r\n    /**\r\n     * Get all configuration\r\n     */\r\n    getAll() {\r\n        return { ...this.config };\r\n    }\r\n}\r\n","/**\r\n * Simple event emitter for internal communication\r\n */\r\n\r\nexport default class EventEmitter {\r\n    constructor() {\r\n        this.events = {};\r\n    }\r\n\r\n    /**\r\n     * Register event listener\r\n     */\r\n    on(event, callback) {\r\n        if (!this.events[event]) {\r\n            this.events[event] = [];\r\n        }\r\n        this.events[event].push(callback);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Register one-time event listener\r\n     */\r\n    once(event, callback) {\r\n        const wrapper = (...args) => {\r\n            callback(...args);\r\n            this.off(event, wrapper);\r\n        };\r\n        return this.on(event, wrapper);\r\n    }\r\n\r\n    /**\r\n     * Remove event listener\r\n     */\r\n    off(event, callback) {\r\n        if (!this.events[event]) return this;\r\n        \r\n        if (!callback) {\r\n            delete this.events[event];\r\n        } else {\r\n            this.events[event] = this.events[event].filter(cb => cb !== callback);\r\n        }\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Emit event\r\n     */\r\n    emit(event, ...args) {\r\n        if (!this.events[event]) return this;\r\n        \r\n        this.events[event].forEach(callback => {\r\n            try {\r\n                callback(...args);\r\n            } catch (error) {\r\n                console.error(`Error in event handler for \"${event}\":`, error);\r\n            }\r\n        });\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Remove all listeners\r\n     */\r\n    removeAllListeners() {\r\n        this.events = {};\r\n        return this;\r\n    }\r\n}\r\n","/**\r\n * Dual initialization system (JavaScript API and HTML attributes)\r\n */\r\n\r\nimport { parseDataAttributes } from '../utils/Helpers.js';\r\n\r\nexport default class Initializer {\r\n    /**\r\n     * Initialize from JavaScript API\r\n     */\r\n    static fromAPI(selector, options = {}) {\r\n        // Get container element\r\n        let container;\r\n        \r\n        if (typeof selector === 'string') {\r\n            container = document.querySelector(selector);\r\n            if (!container) {\r\n                throw new Error(`SWK: Container element not found: ${selector}`);\r\n            }\r\n        } else if (selector instanceof HTMLElement) {\r\n            container = selector;\r\n        } else {\r\n            throw new Error('SWK: Invalid container selector or element');\r\n        }\r\n        \r\n        // Merge options with container\r\n        return {\r\n            container,\r\n            config: options\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Auto-initialize from HTML attributes\r\n     * Note: This will be called from SWK class after it's defined\r\n     */\r\n    static autoInit(SWKClass) {\r\n        // Find all elements with data-swk attribute\r\n        const elements = document.querySelectorAll('[data-swk]');\r\n        const instances = [];\r\n        \r\n        elements.forEach(element => {\r\n            try {\r\n                // Parse data attributes\r\n                const config = parseDataAttributes(element);\r\n                \r\n                // Create SWK instance using the element and config\r\n                const instance = new SWKClass(element, config);\r\n                instances.push(instance);\r\n            } catch (error) {\r\n                console.error('SWK: Failed to auto-initialize element:', element, error);\r\n            }\r\n        });\r\n        \r\n        return instances;\r\n    }\r\n\r\n    /**\r\n     * Initialize from HTML element with data attributes\r\n     */\r\n    static fromHTML(element, parsedConfig = {}) {\r\n        if (!(element instanceof HTMLElement)) {\r\n            throw new Error('SWK: Invalid HTML element');\r\n        }\r\n        \r\n        return {\r\n            container: element,\r\n            config: parsedConfig\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Parse configuration from data attributes\r\n     */\r\n    static parseConfig(element) {\r\n        return parseDataAttributes(element);\r\n    }\r\n}\r\n","/**\r\n * THREE.js Scene management with grid\r\n */\r\n\r\nexport default class Scene {\r\n    constructor(config) {\r\n        this.config = config;\r\n        this.scene = null;\r\n        this.gridHelper = null;\r\n        \r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        // Create scene\r\n        this.scene = new THREE.Scene();\r\n        \r\n        // Add grid if enabled\r\n        if (this.config.get('grid.show')) {\r\n            this.createGrid();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create grid helper\r\n     */\r\n    createGrid() {\r\n        const size = this.config.get('grid.size');\r\n        const divisions = this.config.get('grid.divisions');\r\n        const centerColor = this.hexToNumber(this.config.get('grid.centerColor'));\r\n        const linesColor = this.hexToNumber(this.config.get('grid.linesColor'));\r\n        \r\n        this.gridHelper = new THREE.GridHelper(size, divisions, centerColor, linesColor);\r\n        this.scene.add(this.gridHelper);\r\n    }\r\n\r\n    /**\r\n     * Convert hex string to number\r\n     */\r\n    hexToNumber(hex) {\r\n        return parseInt(hex.replace('#', ''), 16);\r\n    }\r\n\r\n    /**\r\n     * Get scene instance\r\n     */\r\n    getScene() {\r\n        return this.scene;\r\n    }\r\n\r\n    /**\r\n     * Add object to scene\r\n     */\r\n    add(object) {\r\n        this.scene.add(object);\r\n    }\r\n\r\n    /**\r\n     * Remove object from scene\r\n     */\r\n    remove(object) {\r\n        this.scene.remove(object);\r\n    }\r\n\r\n    /**\r\n     * Show grid\r\n     */\r\n    showGrid() {\r\n        if (!this.gridHelper) {\r\n            this.createGrid();\r\n        } else {\r\n            this.gridHelper.visible = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Hide grid\r\n     */\r\n    hideGrid() {\r\n        if (this.gridHelper) {\r\n            this.gridHelper.visible = false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggle grid visibility\r\n     */\r\n    toggleGrid() {\r\n        if (this.gridHelper) {\r\n            this.gridHelper.visible = !this.gridHelper.visible;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Dispose scene\r\n     */\r\n    dispose() {\r\n        if (this.gridHelper) {\r\n            this.scene.remove(this.gridHelper);\r\n            this.gridHelper.geometry.dispose();\r\n            this.gridHelper.material.dispose();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * THREE.js Renderer management\r\n */\r\n\r\nexport default class Renderer {\r\n    constructor(container, config) {\r\n        this.container = container;\r\n        this.config = config;\r\n        this.renderer = null;\r\n        \r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        // Create WebGL renderer\r\n        this.renderer = new THREE.WebGLRenderer({ \r\n            antialias: true,\r\n            alpha: true\r\n        });\r\n        \r\n        // Set size\r\n        const width = this.container.clientWidth;\r\n        const height = this.container.clientHeight;\r\n        this.renderer.setSize(width, height);\r\n        this.renderer.setPixelRatio(window.devicePixelRatio);\r\n        \r\n        // Set background color\r\n        const bgColor = this.config.get('viewportBackground');\r\n        this.renderer.setClearColor(this.hexToNumber(bgColor));\r\n        \r\n        // Enable shadows\r\n        this.renderer.shadowMap.enabled = true;\r\n        this.renderer.shadowMap.type = THREE.PCFSoftShadowMap;\r\n        \r\n        // Append to container\r\n        this.container.appendChild(this.renderer.domElement);\r\n        \r\n        // Add resize listener\r\n        window.addEventListener('resize', this.onResize.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Handle window resize\r\n     */\r\n    onResize() {\r\n        const width = this.container.clientWidth;\r\n        const height = this.container.clientHeight;\r\n        this.renderer.setSize(width, height);\r\n    }\r\n\r\n    /**\r\n     * Convert hex string to number\r\n     */\r\n    hexToNumber(hex) {\r\n        return parseInt(hex.replace('#', ''), 16);\r\n    }\r\n\r\n    /**\r\n     * Render scene with camera\r\n     */\r\n    render(scene, camera) {\r\n        this.renderer.render(scene, camera);\r\n    }\r\n\r\n    /**\r\n     * Get renderer instance\r\n     */\r\n    getRenderer() {\r\n        return this.renderer;\r\n    }\r\n\r\n    /**\r\n     * Set background color\r\n     */\r\n    setBackgroundColor(color) {\r\n        this.renderer.setClearColor(this.hexToNumber(color));\r\n    }\r\n\r\n    /**\r\n     * Get canvas element\r\n     */\r\n    getCanvas() {\r\n        return this.renderer.domElement;\r\n    }\r\n\r\n    /**\r\n     * Dispose renderer\r\n     */\r\n    dispose() {\r\n        window.removeEventListener('resize', this.onResize.bind(this));\r\n        if (this.renderer) {\r\n            this.renderer.dispose();\r\n            if (this.renderer.domElement.parentNode) {\r\n                this.renderer.domElement.parentNode.removeChild(this.renderer.domElement);\r\n            }\r\n        }\r\n    }\r\n}\r\n","/**\r\n * Camera management (Perspective and Orthographic)\r\n */\r\n\r\nimport { CAMERA_MODES } from '../utils/Constants.js';\r\n\r\nexport default class Camera {\r\n    constructor(container, config) {\r\n        this.container = container;\r\n        this.config = config;\r\n        this.perspectiveCamera = null;\r\n        this.orthographicCamera = null;\r\n        this.currentCamera = null;\r\n        this.currentMode = config.get('camera.mode');\r\n        this.controls = null;\r\n        \r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        const width = this.container.clientWidth;\r\n        const height = this.container.clientHeight;\r\n        const aspect = width / height;\r\n        \r\n        // Create perspective camera\r\n        const fov = this.config.get('camera.fov');\r\n        const near = this.config.get('camera.near');\r\n        const far = this.config.get('camera.far');\r\n        \r\n        this.perspectiveCamera = new THREE.PerspectiveCamera(fov, aspect, near, far);\r\n        \r\n        // Create orthographic camera\r\n        const frustumSize = 10;\r\n        this.orthographicCamera = new THREE.OrthographicCamera(\r\n            frustumSize * aspect / -2,\r\n            frustumSize * aspect / 2,\r\n            frustumSize / 2,\r\n            frustumSize / -2,\r\n            near,\r\n            far\r\n        );\r\n        \r\n        // Set initial positions\r\n        const position = this.config.get('camera.position');\r\n        this.perspectiveCamera.position.set(...position);\r\n        this.orthographicCamera.position.set(...position);\r\n        \r\n        // Set current camera\r\n        this.currentCamera = this.currentMode === CAMERA_MODES.PERSPECTIVE \r\n            ? this.perspectiveCamera \r\n            : this.orthographicCamera;\r\n        \r\n        // Add resize listener\r\n        window.addEventListener('resize', this.onResize.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Handle window resize\r\n     */\r\n    onResize() {\r\n        const width = this.container.clientWidth;\r\n        const height = this.container.clientHeight;\r\n        const aspect = width / height;\r\n        \r\n        // Update perspective camera\r\n        this.perspectiveCamera.aspect = aspect;\r\n        this.perspectiveCamera.updateProjectionMatrix();\r\n        \r\n        // Update orthographic camera\r\n        const frustumSize = 10;\r\n        this.orthographicCamera.left = frustumSize * aspect / -2;\r\n        this.orthographicCamera.right = frustumSize * aspect / 2;\r\n        this.orthographicCamera.top = frustumSize / 2;\r\n        this.orthographicCamera.bottom = frustumSize / -2;\r\n        this.orthographicCamera.updateProjectionMatrix();\r\n    }\r\n\r\n    /**\r\n     * Get current camera\r\n     */\r\n    getCamera() {\r\n        return this.currentCamera;\r\n    }\r\n\r\n    /**\r\n     * Get perspective camera\r\n     */\r\n    getPerspectiveCamera() {\r\n        return this.perspectiveCamera;\r\n    }\r\n\r\n    /**\r\n     * Get orthographic camera\r\n     */\r\n    getOrthographicCamera() {\r\n        return this.orthographicCamera;\r\n    }\r\n\r\n    /**\r\n     * Set camera mode\r\n     */\r\n    setMode(mode) {\r\n        if (!Object.values(CAMERA_MODES).includes(mode)) {\r\n            console.warn(`Invalid camera mode: ${mode}`);\r\n            return;\r\n        }\r\n\r\n        // Save current camera state\r\n        const currentPosition = this.currentCamera.position.clone();\r\n        const currentTarget = this.controls ? this.controls.target.clone() : new THREE.Vector3();\r\n        \r\n        // Switch camera\r\n        this.currentMode = mode;\r\n        this.currentCamera = mode === CAMERA_MODES.PERSPECTIVE \r\n            ? this.perspectiveCamera \r\n            : this.orthographicCamera;\r\n        \r\n        // Restore camera state\r\n        this.currentCamera.position.copy(currentPosition);\r\n        \r\n        // Update controls if they exist\r\n        if (this.controls) {\r\n            this.controls.object = this.currentCamera;\r\n            this.controls.target.copy(currentTarget);\r\n            this.controls.update();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get current mode\r\n     */\r\n    getMode() {\r\n        return this.currentMode;\r\n    }\r\n\r\n    /**\r\n     * Set orbit controls\r\n     */\r\n    setControls(controls) {\r\n        this.controls = controls;\r\n    }\r\n\r\n    /**\r\n     * Reset camera position\r\n     */\r\n    reset() {\r\n        const position = this.config.get('camera.position');\r\n        this.currentCamera.position.set(...position);\r\n        if (this.controls) {\r\n            this.controls.target.set(0, 0, 0);\r\n            this.controls.update();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Dispose camera\r\n     */\r\n    dispose() {\r\n        window.removeEventListener('resize', this.onResize.bind(this));\r\n    }\r\n}\r\n","/**\r\n * Lighting setup (Ambient and Directional)\r\n */\r\n\r\nexport default class Lighting {\r\n    constructor(scene, config) {\r\n        this.scene = scene;\r\n        this.config = config;\r\n        this.ambientLight = null;\r\n        this.directionalLight = null;\r\n        \r\n        this.init();\r\n    }\r\n\r\n    init() {\r\n        // Create ambient light\r\n        const ambientIntensity = this.config.get('lighting.ambient.intensity');\r\n        const ambientColor = this.hexToNumber(this.config.get('lighting.ambient.color'));\r\n        \r\n        this.ambientLight = new THREE.AmbientLight(ambientColor, ambientIntensity);\r\n        this.scene.add(this.ambientLight);\r\n        \r\n        // Create directional light\r\n        const directionalIntensity = this.config.get('lighting.directional.intensity');\r\n        const directionalColor = this.hexToNumber(this.config.get('lighting.directional.color'));\r\n        const position = this.config.get('lighting.directional.position');\r\n        \r\n        this.directionalLight = new THREE.DirectionalLight(directionalColor, directionalIntensity);\r\n        this.directionalLight.position.set(...position);\r\n        \r\n        // Enable shadows if configured\r\n        if (this.config.get('lighting.castShadow')) {\r\n            this.directionalLight.castShadow = true;\r\n            this.directionalLight.shadow.mapSize.width = 2048;\r\n            this.directionalLight.shadow.mapSize.height = 2048;\r\n            this.directionalLight.shadow.camera.near = 0.5;\r\n            this.directionalLight.shadow.camera.far = 50;\r\n            this.directionalLight.shadow.camera.left = -10;\r\n            this.directionalLight.shadow.camera.right = 10;\r\n            this.directionalLight.shadow.camera.top = 10;\r\n            this.directionalLight.shadow.camera.bottom = -10;\r\n        }\r\n        \r\n        this.scene.add(this.directionalLight);\r\n    }\r\n\r\n    /**\r\n     * Convert hex string to number\r\n     */\r\n    hexToNumber(hex) {\r\n        return parseInt(hex.replace('#', ''), 16);\r\n    }\r\n\r\n    /**\r\n     * Set ambient light intensity\r\n     */\r\n    setAmbientIntensity(intensity) {\r\n        if (this.ambientLight) {\r\n            this.ambientLight.intensity = intensity;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set directional light intensity\r\n     */\r\n    setDirectionalIntensity(intensity) {\r\n        if (this.directionalLight) {\r\n            this.directionalLight.intensity = intensity;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set ambient light color\r\n     */\r\n    setAmbientColor(color) {\r\n        if (this.ambientLight) {\r\n            this.ambientLight.color.set(this.hexToNumber(color));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set directional light color\r\n     */\r\n    setDirectionalColor(color) {\r\n        if (this.directionalLight) {\r\n            this.directionalLight.color.set(this.hexToNumber(color));\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get ambient light\r\n     */\r\n    getAmbientLight() {\r\n        return this.ambientLight;\r\n    }\r\n\r\n    /**\r\n     * Get directional light\r\n     */\r\n    getDirectionalLight() {\r\n        return this.directionalLight;\r\n    }\r\n\r\n    /**\r\n     * Dispose lighting\r\n     */\r\n    dispose() {\r\n        if (this.ambientLight) {\r\n            this.scene.remove(this.ambientLight);\r\n        }\r\n        if (this.directionalLight) {\r\n            this.scene.remove(this.directionalLight);\r\n        }\r\n    }\r\n}\r\n","/**\r\n * Shape factory - Creates all 13 shape types\r\n */\r\n\r\nimport { SHAPE_TYPES, DEFAULT_COLORS } from '../utils/Constants.js';\r\n\r\nexport default class ShapeFactory {\r\n    constructor(config) {\r\n        this.config = config;\r\n        this.fontLoader = new THREE.FontLoader();\r\n        this.fonts = {};\r\n        this.shapeCounters = {\r\n            box: 0,\r\n            sphere: 0,\r\n            cylinder: 0,\r\n            cone: 0,\r\n            torus: 0,\r\n            plane: 0,\r\n            pyramid: 0,\r\n            torusknot: 0,\r\n            tetrahedron: 0,\r\n            octahedron: 0,\r\n            icosahedron: 0,\r\n            dodecahedron: 0,\r\n            text: 0\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Load fonts for text shapes\r\n     */\r\n    loadFonts(onComplete) {\r\n        const fontUrls = {\r\n            sans: 'https://threejs.org/examples/fonts/helvetiker_regular.typeface.json',\r\n            mono: '/src/font/DM_Mono_Regular.json',\r\n            serif: 'https://threejs.org/examples/fonts/gentilis_regular.typeface.json'\r\n        };\r\n\r\n        let loadedCount = 0;\r\n        const totalFonts = Object.keys(fontUrls).length;\r\n\r\n        for (const [fontName, url] of Object.entries(fontUrls)) {\r\n            this.fontLoader.load(\r\n                url,\r\n                (font) => {\r\n                    this.fonts[fontName] = font;\r\n                    loadedCount++;\r\n                    console.log(`SWK: Font loaded: ${fontName}`);\r\n                    \r\n                    if (loadedCount === totalFonts && onComplete) {\r\n                        onComplete();\r\n                    }\r\n                },\r\n                undefined,\r\n                (error) => {\r\n                    console.error(`SWK: Failed to load font ${fontName}:`, error);\r\n                    loadedCount++;\r\n                    \r\n                    if (loadedCount === totalFonts && onComplete) {\r\n                        onComplete();\r\n                    }\r\n                }\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create shape by type\r\n     */\r\n    createShape(type, options = {}) {\r\n        const shapeType = type.toLowerCase();\r\n        \r\n        if (!Object.values(SHAPE_TYPES).includes(shapeType)) {\r\n            console.error(`SWK: Unknown shape type: ${type}`);\r\n            return null;\r\n        }\r\n\r\n        let geometry;\r\n        let name;\r\n        let isFlat = false;\r\n\r\n        switch (shapeType) {\r\n            case SHAPE_TYPES.BOX:\r\n                geometry = new THREE.BoxGeometry(1, 1, 1);\r\n                this.shapeCounters.box++;\r\n                name = `Box ${this.shapeCounters.box}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.SPHERE:\r\n                geometry = new THREE.SphereGeometry(0.5, 32, 32);\r\n                this.shapeCounters.sphere++;\r\n                name = `Sphere ${this.shapeCounters.sphere}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.CYLINDER:\r\n                geometry = new THREE.CylinderGeometry(0.5, 0.5, 1, 32);\r\n                this.shapeCounters.cylinder++;\r\n                name = `Cylinder ${this.shapeCounters.cylinder}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.CONE:\r\n                geometry = new THREE.ConeGeometry(0.5, 1, 32);\r\n                this.shapeCounters.cone++;\r\n                name = `Cone ${this.shapeCounters.cone}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.TORUS:\r\n                geometry = new THREE.TorusGeometry(0.5, 0.2, 16, 100);\r\n                this.shapeCounters.torus++;\r\n                name = `Torus ${this.shapeCounters.torus}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.PLANE:\r\n                geometry = new THREE.PlaneGeometry(1, 1);\r\n                this.shapeCounters.plane++;\r\n                name = `Plane ${this.shapeCounters.plane}`;\r\n                isFlat = true;\r\n                break;\r\n\r\n            case SHAPE_TYPES.PYRAMID:\r\n                geometry = new THREE.ConeGeometry(0.7, 1, 4);\r\n                this.shapeCounters.pyramid++;\r\n                name = `Pyramid ${this.shapeCounters.pyramid}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.TORUS_KNOT:\r\n                geometry = new THREE.TorusKnotGeometry(0.4, 0.15, 100, 16);\r\n                this.shapeCounters.torusknot++;\r\n                name = `TorusKnot ${this.shapeCounters.torusknot}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.TETRAHEDRON:\r\n                geometry = new THREE.TetrahedronGeometry(0.7);\r\n                this.shapeCounters.tetrahedron++;\r\n                name = `Tetrahedron ${this.shapeCounters.tetrahedron}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.OCTAHEDRON:\r\n                geometry = new THREE.OctahedronGeometry(0.7);\r\n                this.shapeCounters.octahedron++;\r\n                name = `Octahedron ${this.shapeCounters.octahedron}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.ICOSAHEDRON:\r\n                geometry = new THREE.IcosahedronGeometry(0.7);\r\n                this.shapeCounters.icosahedron++;\r\n                name = `Icosahedron ${this.shapeCounters.icosahedron}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.DODECAHEDRON:\r\n                geometry = new THREE.DodecahedronGeometry(0.7);\r\n                this.shapeCounters.dodecahedron++;\r\n                name = `Dodecahedron ${this.shapeCounters.dodecahedron}`;\r\n                break;\r\n\r\n            case SHAPE_TYPES.TEXT:\r\n                const textContent = options.text || 'Text';\r\n                const font = options.font || 'sans';\r\n                const height = options.height || 0.2;\r\n                const bevel = options.bevel || 0.01;\r\n                \r\n                geometry = this.createTextGeometry(textContent, font, height, bevel);\r\n                if (!geometry) {\r\n                    console.warn('SWK: Text geometry not ready, fonts may not be loaded');\r\n                    return null;\r\n                }\r\n                this.shapeCounters.text++;\r\n                name = `Text ${this.shapeCounters.text}`;\r\n                isFlat = true;\r\n                break;\r\n        }\r\n\r\n        // Compute geometry bounds\r\n        geometry.computeBoundingBox();\r\n        geometry.computeBoundingSphere();\r\n        geometry.center();\r\n\r\n        // Create material\r\n        const color = options.color || DEFAULT_COLORS.SHAPE_DEFAULT;\r\n        const material = new THREE.MeshStandardMaterial({\r\n            color: color,\r\n            roughness: 0.5,\r\n            metalness: 0.3,\r\n            transparent: false,\r\n            opacity: 1.0\r\n        });\r\n\r\n        // Create mesh\r\n        const mesh = new THREE.Mesh(geometry, material);\r\n        mesh.name = name;\r\n        mesh.castShadow = true;\r\n        mesh.receiveShadow = true;\r\n        \r\n        // Store color in userData\r\n        mesh.userData.color = color;\r\n        mesh.userData.shapeType = shapeType;\r\n\r\n        // Position the shape\r\n        if (isFlat || shapeType === SHAPE_TYPES.TEXT) {\r\n            mesh.position.set(0, 0, 0);\r\n        } else {\r\n            // Raise 3D objects above ground\r\n            const bbox = geometry.boundingBox;\r\n            const height = bbox.max.y - bbox.min.y;\r\n            mesh.position.set(0, height / 2, 0);\r\n        }\r\n\r\n        // Store text-specific data if it's a text shape\r\n        if (shapeType === SHAPE_TYPES.TEXT) {\r\n            mesh.userData.textContent = options.text || 'Text';\r\n            mesh.userData.textFont = options.font || 'sans';\r\n            mesh.userData.textHeight = options.height || 0.2;\r\n            mesh.userData.textBevel = options.bevel || 0.01;\r\n        }\r\n\r\n        return mesh;\r\n    }\r\n\r\n    /**\r\n     * Create text geometry\r\n     */\r\n    createTextGeometry(text, fontName = 'sans', height = 0.2, bevel = 0.01) {\r\n        if (!this.fonts[fontName]) {\r\n            console.warn(`SWK: Font ${fontName} not loaded yet`);\r\n            // Try to use sans as fallback\r\n            fontName = 'sans';\r\n            if (!this.fonts[fontName]) {\r\n                return null;\r\n            }\r\n        }\r\n\r\n        const geometry = new THREE.TextGeometry(text, {\r\n            font: this.fonts[fontName],\r\n            size: 1,\r\n            height: height,\r\n            curveSegments: 12,\r\n            bevelEnabled: true,\r\n            bevelThickness: bevel,\r\n            bevelSize: bevel,\r\n            bevelSegments: 5\r\n        });\r\n\r\n        geometry.computeBoundingBox();\r\n        geometry.computeBoundingSphere();\r\n        geometry.center();\r\n\r\n        return geometry;\r\n    }\r\n\r\n    /**\r\n     * Update text geometry\r\n     */\r\n    updateTextGeometry(mesh, text, font, height, bevel) {\r\n        if (mesh.userData.shapeType !== SHAPE_TYPES.TEXT) {\r\n            return false;\r\n        }\r\n\r\n        const newGeometry = this.createTextGeometry(text, font, height, bevel);\r\n        if (!newGeometry) {\r\n            return false;\r\n        }\r\n\r\n        // Replace geometry\r\n        mesh.geometry.dispose();\r\n        mesh.geometry = newGeometry;\r\n\r\n        // Update user data\r\n        mesh.userData.textContent = text;\r\n        mesh.userData.textFont = font;\r\n        mesh.userData.textHeight = height;\r\n        mesh.userData.textBevel = bevel;\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Get shape counters\r\n     */\r\n    getCounters() {\r\n        return { ...this.shapeCounters };\r\n    }\r\n\r\n    /**\r\n     * Set shape counters (for undo/redo)\r\n     */\r\n    setCounters(counters) {\r\n        this.shapeCounters = { ...counters };\r\n    }\r\n}\r\n","/**\r\n * Object picking using raycasting\r\n */\r\n\r\nexport default class Picker {\r\n    constructor(camera, renderer) {\r\n        this.camera = camera;\r\n        this.renderer = renderer;\r\n        this.raycaster = new THREE.Raycaster();\r\n        this.mouse = new THREE.Vector2();\r\n    }\r\n\r\n    /**\r\n     * Update mouse position from event\r\n     */\r\n    updateMousePosition(event, canvas) {\r\n        const rect = canvas.getBoundingClientRect();\r\n        this.mouse.x = ((event.clientX - rect.left) / rect.width) * 2 - 1;\r\n        this.mouse.y = -((event.clientY - rect.top) / rect.height) * 2 + 1;\r\n    }\r\n\r\n    /**\r\n     * Pick objects at current mouse position\r\n     * @param {Array} objects - Array of THREE.Mesh objects to test\r\n     * @param {boolean} recursive - Whether to check children recursively\r\n     * @returns {THREE.Intersection|null} - First intersection or null\r\n     */\r\n    pick(objects, recursive = false) {\r\n        if (!objects || objects.length === 0) {\r\n            return null;\r\n        }\r\n\r\n        // Update raycaster with camera and mouse position\r\n        this.raycaster.setFromCamera(this.mouse, this.camera);\r\n\r\n        // Perform raycast\r\n        const intersects = this.raycaster.intersectObjects(objects, recursive);\r\n\r\n        if (intersects.length > 0) {\r\n            return intersects[0];\r\n        }\r\n\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Pick all objects at current mouse position\r\n     * @param {Array} objects - Array of THREE.Mesh objects to test\r\n     * @param {boolean} recursive - Whether to check children recursively\r\n     * @returns {Array} - Array of intersections\r\n     */\r\n    pickAll(objects, recursive = false) {\r\n        if (!objects || objects.length === 0) {\r\n            return [];\r\n        }\r\n\r\n        // Update raycaster with camera and mouse position\r\n        this.raycaster.setFromCamera(this.mouse, this.camera);\r\n\r\n        // Perform raycast\r\n        return this.raycaster.intersectObjects(objects, recursive);\r\n    }\r\n\r\n    /**\r\n     * Pick object from click event\r\n     * @param {Event} event - Mouse click event\r\n     * @param {HTMLElement} canvas - Canvas element\r\n     * @param {Array} objects - Array of objects to test\r\n     * @param {boolean} recursive - Whether to check children recursively\r\n     * @returns {THREE.Intersection|null}\r\n     */\r\n    pickFromEvent(event, canvas, objects, recursive = false) {\r\n        this.updateMousePosition(event, canvas);\r\n        return this.pick(objects, recursive);\r\n    }\r\n\r\n    /**\r\n     * Get mouse position\r\n     */\r\n    getMousePosition() {\r\n        return this.mouse.clone();\r\n    }\r\n\r\n    /**\r\n     * Update camera reference\r\n     */\r\n    setCamera(camera) {\r\n        this.camera = camera;\r\n    }\r\n}\r\n","/**\r\n * Selection state management with multi-select support\r\n */\r\n\r\nexport default class SelectionManager {\r\n    constructor(eventEmitter) {\r\n        this.eventEmitter = eventEmitter;\r\n        this.selectedObjects = [];\r\n        this.selectedObject = null;\r\n    }\r\n\r\n    /**\r\n     * Select single object (replaces current selection)\r\n     */\r\n    select(object) {\r\n        if (!object) return;\r\n\r\n        // Store previous selection for event\r\n        const previousSelection = [...this.selectedObjects];\r\n\r\n        // Clear current selection\r\n        this.selectedObjects = [object];\r\n        this.selectedObject = object;\r\n\r\n        // Emit event\r\n        this.eventEmitter.emit('selectionChanged', this.selectedObjects, previousSelection);\r\n\r\n        return this.selectedObjects;\r\n    }\r\n\r\n    /**\r\n     * Add object to selection (multi-select)\r\n     */\r\n    addToSelection(object) {\r\n        if (!object) return;\r\n\r\n        // Check if already selected\r\n        if (this.selectedObjects.includes(object)) {\r\n            return this.selectedObjects;\r\n        }\r\n\r\n        // Store previous selection\r\n        const previousSelection = [...this.selectedObjects];\r\n\r\n        // Add to selection\r\n        this.selectedObjects.push(object);\r\n        this.selectedObject = this.selectedObjects[0];\r\n\r\n        // Emit event\r\n        this.eventEmitter.emit('selectionChanged', this.selectedObjects, previousSelection);\r\n\r\n        return this.selectedObjects;\r\n    }\r\n\r\n    /**\r\n     * Remove object from selection\r\n     */\r\n    removeFromSelection(object) {\r\n        if (!object) return;\r\n\r\n        const index = this.selectedObjects.indexOf(object);\r\n        if (index === -1) return;\r\n\r\n        // Store previous selection\r\n        const previousSelection = [...this.selectedObjects];\r\n\r\n        // Remove from selection\r\n        this.selectedObjects.splice(index, 1);\r\n        this.selectedObject = this.selectedObjects.length > 0 ? this.selectedObjects[0] : null;\r\n\r\n        // Emit event\r\n        this.eventEmitter.emit('selectionChanged', this.selectedObjects, previousSelection);\r\n\r\n        return this.selectedObjects;\r\n    }\r\n\r\n    /**\r\n     * Toggle object selection\r\n     */\r\n    toggle(object) {\r\n        if (!object) return;\r\n\r\n        if (this.selectedObjects.includes(object)) {\r\n            this.removeFromSelection(object);\r\n        } else {\r\n            this.addToSelection(object);\r\n        }\r\n\r\n        return this.selectedObjects;\r\n    }\r\n\r\n    /**\r\n     * Clear all selection\r\n     */\r\n    clear() {\r\n        if (this.selectedObjects.length === 0) return;\r\n\r\n        // Store previous selection\r\n        const previousSelection = [...this.selectedObjects];\r\n\r\n        // Clear selection\r\n        this.selectedObjects = [];\r\n        this.selectedObject = null;\r\n\r\n        // Emit event\r\n        this.eventEmitter.emit('selectionChanged', [], previousSelection);\r\n    }\r\n\r\n    /**\r\n     * Check if object is selected\r\n     */\r\n    isSelected(object) {\r\n        return this.selectedObjects.includes(object);\r\n    }\r\n\r\n    /**\r\n     * Get all selected objects\r\n     */\r\n    getSelectedObjects() {\r\n        return [...this.selectedObjects];\r\n    }\r\n\r\n    /**\r\n     * Get first selected object\r\n     */\r\n    getSelectedObject() {\r\n        return this.selectedObject;\r\n    }\r\n\r\n    /**\r\n     * Get selection count\r\n     */\r\n    getSelectionCount() {\r\n        return this.selectedObjects.length;\r\n    }\r\n\r\n    /**\r\n     * Check if has selection\r\n     */\r\n    hasSelection() {\r\n        return this.selectedObjects.length > 0;\r\n    }\r\n\r\n    /**\r\n     * Check if has multiple selections\r\n     */\r\n    hasMultipleSelections() {\r\n        return this.selectedObjects.length > 1;\r\n    }\r\n}\r\n","/**\r\n * Outline rendering and synchronization\r\n */\r\n\r\nimport { OUTLINE_THICKNESS } from '../utils/Constants.js';\r\n\r\nexport default class Outliner {\r\n    constructor(scene, config) {\r\n        this.scene = scene;\r\n        this.config = config;\r\n        this.outlineMap = new Map();\r\n        this.outlineColor = this.hexToNumber(config.get('outlineColor'));\r\n        this.outlineThickness = config.get('outlineThickness') || OUTLINE_THICKNESS;\r\n    }\r\n\r\n    /**\r\n     * Create outline for mesh\r\n     */\r\n    createOutline(mesh) {\r\n        if (!mesh || !mesh.geometry) {\r\n            return null;\r\n        }\r\n\r\n        // Remove existing outline if present\r\n        this.removeOutline(mesh);\r\n\r\n        // Clone geometry for outline\r\n        const outlineGeometry = mesh.geometry.clone();\r\n\r\n        // Create outline material - rendered on backside\r\n        const outlineMaterial = new THREE.MeshBasicMaterial({\r\n            color: this.outlineColor,\r\n            side: THREE.BackSide,\r\n            depthWrite: false,\r\n            polygonOffset: true,\r\n            polygonOffsetFactor: 1,\r\n            polygonOffsetUnits: 1\r\n        });\r\n\r\n        // Create outline mesh\r\n        const outlineMesh = new THREE.Mesh(outlineGeometry, outlineMaterial);\r\n\r\n        // Check if this is a text object\r\n        const isText = mesh.userData.textContent !== undefined;\r\n\r\n        // Apply world transform\r\n        this.updateOutlineTransform(mesh, outlineMesh, isText);\r\n\r\n        // Add to scene\r\n        this.scene.add(outlineMesh);\r\n\r\n        // Store in map\r\n        this.outlineMap.set(mesh, {\r\n            outline: outlineMesh,\r\n            mesh: mesh,\r\n            isText: isText\r\n        });\r\n\r\n        return outlineMesh;\r\n    }\r\n\r\n    /**\r\n     * Update outline transform to match mesh\r\n     */\r\n    updateOutlineTransform(mesh, outlineMesh, isText) {\r\n        const worldPosition = new THREE.Vector3();\r\n        const worldQuaternion = new THREE.Quaternion();\r\n        const worldScale = new THREE.Vector3();\r\n\r\n        mesh.getWorldPosition(worldPosition);\r\n        mesh.getWorldQuaternion(worldQuaternion);\r\n        mesh.getWorldScale(worldScale);\r\n\r\n        if (isText) {\r\n            // For text geometry, use offset instead of scaling\r\n            const offsetAmount = this.outlineThickness;\r\n            outlineMesh.position.copy(worldPosition);\r\n            outlineMesh.position.x += offsetAmount;\r\n            outlineMesh.position.y += offsetAmount;\r\n            outlineMesh.quaternion.copy(worldQuaternion);\r\n            outlineMesh.scale.copy(worldScale);\r\n        } else {\r\n            // For other geometries, scale slightly larger\r\n            outlineMesh.position.copy(worldPosition);\r\n            outlineMesh.quaternion.copy(worldQuaternion);\r\n            outlineMesh.scale.copy(worldScale).multiplyScalar(1 + this.outlineThickness);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Remove outline from mesh\r\n     */\r\n    removeOutline(mesh) {\r\n        const outlineData = this.outlineMap.get(mesh);\r\n        \r\n        if (!outlineData) return;\r\n\r\n        // Remove from scene\r\n        this.scene.remove(outlineData.outline);\r\n\r\n        // Dispose resources\r\n        if (outlineData.outline.geometry) {\r\n            outlineData.outline.geometry.dispose();\r\n        }\r\n        if (outlineData.outline.material) {\r\n            outlineData.outline.material.dispose();\r\n        }\r\n\r\n        // Remove from map\r\n        this.outlineMap.delete(mesh);\r\n    }\r\n\r\n    /**\r\n     * Sync all outlines with their meshes\r\n     * Should be called every frame in animation loop\r\n     */\r\n    syncOutlines() {\r\n        for (const [mesh, outlineData] of this.outlineMap.entries()) {\r\n            if (outlineData && outlineData.outline) {\r\n                this.updateOutlineTransform(mesh, outlineData.outline, outlineData.isText);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create outlines for multiple meshes\r\n     */\r\n    createOutlines(meshes) {\r\n        if (!meshes || !Array.isArray(meshes)) return;\r\n\r\n        meshes.forEach(mesh => this.createOutline(mesh));\r\n    }\r\n\r\n    /**\r\n     * Remove outlines from multiple meshes\r\n     */\r\n    removeOutlines(meshes) {\r\n        if (!meshes || !Array.isArray(meshes)) return;\r\n\r\n        meshes.forEach(mesh => this.removeOutline(mesh));\r\n    }\r\n\r\n    /**\r\n     * Clear all outlines\r\n     */\r\n    clearAllOutlines() {\r\n        for (const [mesh, outlineData] of this.outlineMap.entries()) {\r\n            this.scene.remove(outlineData.outline);\r\n            if (outlineData.outline.geometry) {\r\n                outlineData.outline.geometry.dispose();\r\n            }\r\n            if (outlineData.outline.material) {\r\n                outlineData.outline.material.dispose();\r\n            }\r\n        }\r\n        this.outlineMap.clear();\r\n    }\r\n\r\n    /**\r\n     * Update outline color\r\n     */\r\n    setOutlineColor(color) {\r\n        this.outlineColor = this.hexToNumber(color);\r\n        \r\n        // Update all existing outlines\r\n        for (const [mesh, outlineData] of this.outlineMap.entries()) {\r\n            if (outlineData.outline.material) {\r\n                outlineData.outline.material.color.set(this.outlineColor);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Convert hex string to number\r\n     */\r\n    hexToNumber(hex) {\r\n        return parseInt(hex.replace('#', ''), 16);\r\n    }\r\n\r\n    /**\r\n     * Get outline for mesh\r\n     */\r\n    getOutline(mesh) {\r\n        const outlineData = this.outlineMap.get(mesh);\r\n        return outlineData ? outlineData.outline : null;\r\n    }\r\n\r\n    /**\r\n     * Check if mesh has outline\r\n     */\r\n    hasOutline(mesh) {\r\n        return this.outlineMap.has(mesh);\r\n    }\r\n\r\n    /**\r\n     * Dispose all resources\r\n     */\r\n    dispose() {\r\n        this.clearAllOutlines();\r\n    }\r\n}\r\n","/**\r\n * Transform controls manager with mode switching\r\n */\r\n\r\nimport { TRANSFORM_MODES } from '../utils/Constants.js';\r\n\r\nexport default class TransformManager {\r\n    constructor(camera, canvas, scene, config, eventEmitter) {\r\n        this.camera = camera;\r\n        this.canvas = canvas;\r\n        this.scene = scene;\r\n        this.config = config;\r\n        this.eventEmitter = eventEmitter;\r\n        \r\n        this.transformControls = null;\r\n        this.currentMode = config.get('transform.mode');\r\n        this.currentSpace = config.get('transform.space');\r\n        \r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     * Initialize transform controls\r\n     */\r\n    init() {\r\n        this.transformControls = new THREE.TransformControls(this.camera, this.canvas);\r\n        \r\n        // Set initial mode and space\r\n        this.transformControls.setMode(this.currentMode);\r\n        this.transformControls.setSpace(this.currentSpace);\r\n        \r\n        // Add to scene\r\n        this.scene.add(this.transformControls);\r\n        \r\n        // Listen to transform events\r\n        this.transformControls.addEventListener('change', this.onChange.bind(this));\r\n        this.transformControls.addEventListener('dragging-changed', this.onDraggingChanged.bind(this));\r\n        this.transformControls.addEventListener('objectChange', this.onObjectChange.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Handle transform change\r\n     */\r\n    onChange() {\r\n        // Emit transform event\r\n        this.eventEmitter.emit('transform');\r\n    }\r\n\r\n    /**\r\n     * Handle dragging state change\r\n     */\r\n    onDraggingChanged(event) {\r\n        // Emit dragging event\r\n        this.eventEmitter.emit('transformDragging', event.value);\r\n        \r\n        // Disable/enable orbit controls\r\n        this.eventEmitter.emit('orbitControlsEnabled', !event.value);\r\n    }\r\n\r\n    /**\r\n     * Handle object change\r\n     */\r\n    onObjectChange() {\r\n        const object = this.transformControls.object;\r\n        if (object) {\r\n            this.eventEmitter.emit('objectTransformed', object);\r\n            \r\n            // Execute callback\r\n            const callback = this.config.get('callbacks.onTransformChange');\r\n            if (callback && typeof callback === 'function') {\r\n                callback(object);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set transform mode\r\n     */\r\n    setMode(mode) {\r\n        if (!Object.values(TRANSFORM_MODES).includes(mode)) {\r\n            console.warn(`SWK: Invalid transform mode: ${mode}`);\r\n            return;\r\n        }\r\n\r\n        this.currentMode = mode;\r\n        this.transformControls.setMode(mode);\r\n        this.config.set('transform.mode', mode);\r\n        this.eventEmitter.emit('transformModeChanged', mode);\r\n    }\r\n\r\n    /**\r\n     * Get current mode\r\n     */\r\n    getMode() {\r\n        return this.currentMode;\r\n    }\r\n\r\n    /**\r\n     * Set transform space\r\n     */\r\n    setSpace(space) {\r\n        if (space !== 'local' && space !== 'world') {\r\n            console.warn(`SWK: Invalid transform space: ${space}`);\r\n            return;\r\n        }\r\n\r\n        this.currentSpace = space;\r\n        this.transformControls.setSpace(space);\r\n        this.config.set('transform.space', space);\r\n        this.eventEmitter.emit('transformSpaceChanged', space);\r\n    }\r\n\r\n    /**\r\n     * Get current space\r\n     */\r\n    getSpace() {\r\n        return this.currentSpace;\r\n    }\r\n\r\n    /**\r\n     * Attach to object\r\n     */\r\n    attach(object) {\r\n        if (object) {\r\n            this.transformControls.attach(object);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Detach from object\r\n     */\r\n    detach() {\r\n        this.transformControls.detach();\r\n    }\r\n\r\n    /**\r\n     * Get attached object\r\n     */\r\n    getAttachedObject() {\r\n        return this.transformControls.object || null;\r\n    }\r\n\r\n    /**\r\n     * Check if dragging\r\n     */\r\n    isDragging() {\r\n        return this.transformControls.dragging || false;\r\n    }\r\n\r\n    /**\r\n     * Enable transform controls\r\n     */\r\n    enable() {\r\n        this.transformControls.enabled = true;\r\n    }\r\n\r\n    /**\r\n     * Disable transform controls\r\n     */\r\n    disable() {\r\n        this.transformControls.enabled = false;\r\n    }\r\n\r\n    /**\r\n     * Update camera reference\r\n     */\r\n    setCamera(camera) {\r\n        this.camera = camera;\r\n        this.transformControls.camera = camera;\r\n    }\r\n\r\n    /**\r\n     * Get transform controls instance\r\n     */\r\n    getControls() {\r\n        return this.transformControls;\r\n    }\r\n\r\n    /**\r\n     * Dispose transform controls\r\n     */\r\n    dispose() {\r\n        if (this.transformControls) {\r\n            this.transformControls.removeEventListener('change', this.onChange.bind(this));\r\n            this.transformControls.removeEventListener('dragging-changed', this.onDraggingChanged.bind(this));\r\n            this.transformControls.removeEventListener('objectChange', this.onObjectChange.bind(this));\r\n            this.transformControls.detach();\r\n            this.scene.remove(this.transformControls);\r\n            this.transformControls.dispose();\r\n        }\r\n    }\r\n}\r\n","/**\r\n * Snap settings manager for transform controls\r\n */\r\n\r\nimport { SNAP_VALUES } from '../utils/Constants.js';\r\nimport { degToRad } from '../utils/Helpers.js';\r\n\r\nexport default class SnapManager {\r\n    constructor(transformControls, config, eventEmitter) {\r\n        this.transformControls = transformControls;\r\n        this.config = config;\r\n        this.eventEmitter = eventEmitter;\r\n        \r\n        this.snapUnit = config.get('transform.snapUnit');\r\n        this.rotationSnapDegrees = 15; // Default rotation snap in degrees\r\n        \r\n        this.applySnap();\r\n    }\r\n\r\n    /**\r\n     * Apply snap settings to transform controls\r\n     */\r\n    applySnap() {\r\n        if (!this.transformControls) return;\r\n\r\n        // Translation snap\r\n        this.transformControls.setTranslationSnap(this.snapUnit);\r\n        \r\n        // Rotation snap (in radians)\r\n        const rotationSnapRadians = this.snapUnit > 0 ? degToRad(this.rotationSnapDegrees) : null;\r\n        this.transformControls.setRotationSnap(rotationSnapRadians);\r\n        \r\n        // Scale snap\r\n        this.transformControls.setScaleSnap(this.snapUnit);\r\n    }\r\n\r\n    /**\r\n     * Set snap unit\r\n     */\r\n    setSnapUnit(value) {\r\n        if (typeof value !== 'number' || value < 0) {\r\n            console.warn(`SWK: Invalid snap unit: ${value}`);\r\n            return;\r\n        }\r\n\r\n        this.snapUnit = value;\r\n        this.config.set('transform.snapUnit', value);\r\n        this.applySnap();\r\n        this.eventEmitter.emit('snapUnitChanged', value);\r\n    }\r\n\r\n    /**\r\n     * Get snap unit\r\n     */\r\n    getSnapUnit() {\r\n        return this.snapUnit;\r\n    }\r\n\r\n    /**\r\n     * Set rotation snap (in degrees)\r\n     */\r\n    setRotationSnap(degrees) {\r\n        if (typeof degrees !== 'number' || degrees < 0) {\r\n            console.warn(`SWK: Invalid rotation snap: ${degrees}`);\r\n            return;\r\n        }\r\n\r\n        this.rotationSnapDegrees = degrees;\r\n        this.applySnap();\r\n        this.eventEmitter.emit('rotationSnapChanged', degrees);\r\n    }\r\n\r\n    /**\r\n     * Get rotation snap (in degrees)\r\n     */\r\n    getRotationSnap() {\r\n        return this.rotationSnapDegrees;\r\n    }\r\n\r\n    /**\r\n     * Toggle snap on/off\r\n     */\r\n    toggleSnap() {\r\n        if (this.snapUnit > 0) {\r\n            // Disable snap\r\n            this.setSnapUnit(0);\r\n        } else {\r\n            // Enable snap with default value\r\n            this.setSnapUnit(0.1);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if snap is enabled\r\n     */\r\n    isSnapEnabled() {\r\n        return this.snapUnit > 0;\r\n    }\r\n\r\n    /**\r\n     * Cycle through predefined snap values\r\n     */\r\n    cycleSnapValue() {\r\n        const currentIndex = SNAP_VALUES.indexOf(this.snapUnit);\r\n        const nextIndex = (currentIndex + 1) % SNAP_VALUES.length;\r\n        this.setSnapUnit(SNAP_VALUES[nextIndex]);\r\n    }\r\n\r\n    /**\r\n     * Get available snap values\r\n     */\r\n    getAvailableSnapValues() {\r\n        return [...SNAP_VALUES];\r\n    }\r\n}\r\n","/**\r\n * Group management for organizing objects\r\n */\r\n\r\nimport { generateId } from '../utils/Helpers.js';\r\n\r\nexport default class GroupManager {\r\n    constructor(scene, eventEmitter, config) {\r\n        this.scene = scene;\r\n        this.eventEmitter = eventEmitter;\r\n        this.config = config;\r\n        \r\n        this.groups = [];\r\n        this.groupIdCounter = 0;\r\n    }\r\n\r\n    /**\r\n     * Create group from selected objects\r\n     */\r\n    createGroup(objects, name = null) {\r\n        if (!objects || objects.length === 0) {\r\n            console.warn('SWK: No objects provided for grouping');\r\n            return null;\r\n        }\r\n\r\n        // Generate group ID and name\r\n        const groupId = `group_${this.groupIdCounter++}`;\r\n        const groupName = name || `Group ${this.groups.length + 1}`;\r\n\r\n        // Create group data\r\n        const group = {\r\n            id: groupId,\r\n            name: groupName,\r\n            children: [...objects],\r\n            container: null,\r\n            isDirty: true\r\n        };\r\n\r\n        // Mark objects as part of group\r\n        objects.forEach(obj => {\r\n            obj.userData.groupId = groupId;\r\n        });\r\n\r\n        // Store group\r\n        this.groups.push(group);\r\n\r\n        // Compute group container\r\n        this.computeGroupContainer(group);\r\n\r\n        // Emit event\r\n        this.eventEmitter.emit('groupCreated', group.container);\r\n\r\n        // Execute callback\r\n        const callback = this.config.get('callbacks.onGroupCreated');\r\n        if (callback && typeof callback === 'function') {\r\n            callback(group.container);\r\n        }\r\n\r\n        console.log(`SWK: Created ${groupName} with ${objects.length} objects`);\r\n        return group.container;\r\n    }\r\n\r\n    /**\r\n     * Compute group container (THREE.Group)\r\n     */\r\n    computeGroupContainer(group) {\r\n        // Remove existing container if present\r\n        if (group.container) {\r\n            this.scene.remove(group.container);\r\n        }\r\n\r\n        if (group.children.length === 0) return;\r\n\r\n        // Calculate bounding box of all children to find center\r\n        const boundingBox = new THREE.Box3();\r\n        group.children.forEach(child => {\r\n            boundingBox.expandByObject(child);\r\n        });\r\n\r\n        // Get the center of the bounding box\r\n        const center = boundingBox.getCenter(new THREE.Vector3());\r\n\r\n        // Create THREE.Group container\r\n        const groupContainer = new THREE.Group();\r\n        groupContainer.userData.isGroupResult = true;\r\n        groupContainer.userData.groupId = group.id;\r\n        groupContainer.name = group.name;\r\n\r\n        // Position the group container at the center\r\n        groupContainer.position.copy(center);\r\n\r\n        // Add all children to container, preserving world positions\r\n        group.children.forEach(child => {\r\n            // Store world transform before parenting\r\n            const worldPos = new THREE.Vector3();\r\n            const worldQuat = new THREE.Quaternion();\r\n            const worldScale = new THREE.Vector3();\r\n            \r\n            child.getWorldPosition(worldPos);\r\n            child.getWorldQuaternion(worldQuat);\r\n            child.getWorldScale(worldScale);\r\n\r\n            // Remove from scene\r\n            if (child.parent) {\r\n                child.parent.remove(child);\r\n            }\r\n\r\n            // Parent to group\r\n            groupContainer.add(child);\r\n\r\n            // Adjust local position relative to group center\r\n            child.position.copy(worldPos).sub(center);\r\n            child.quaternion.copy(worldQuat);\r\n            child.scale.copy(worldScale);\r\n        });\r\n\r\n        // Add container to scene\r\n        this.scene.add(groupContainer);\r\n\r\n        // Store reference\r\n        group.container = groupContainer;\r\n        group.isDirty = false;\r\n    }\r\n\r\n    /**\r\n     * Ungroup - restore objects to scene\r\n     */\r\n    ungroup(groupContainer) {\r\n        if (!groupContainer || !groupContainer.userData.isGroupResult) {\r\n            console.warn('SWK: Invalid group container');\r\n            return null;\r\n        }\r\n\r\n        const groupId = groupContainer.userData.groupId;\r\n        const groupIndex = this.groups.findIndex(g => g.id === groupId);\r\n\r\n        if (groupIndex === -1) {\r\n            console.warn('SWK: Group not found');\r\n            return null;\r\n        }\r\n\r\n        const group = this.groups[groupIndex];\r\n        const ungroupedObjects = [];\r\n\r\n        // Unparent objects and restore to scene\r\n        [...group.children].forEach(obj => {\r\n            // Preserve world transform\r\n            const worldPosition = new THREE.Vector3();\r\n            const worldRotation = new THREE.Quaternion();\r\n            const worldScale = new THREE.Vector3();\r\n\r\n            obj.getWorldPosition(worldPosition);\r\n            obj.getWorldQuaternion(worldRotation);\r\n            obj.getWorldScale(worldScale);\r\n\r\n            // Remove from group\r\n            group.container.remove(obj);\r\n\r\n            // Add back to scene\r\n            this.scene.add(obj);\r\n\r\n            // Restore world transform\r\n            obj.position.copy(worldPosition);\r\n            obj.quaternion.copy(worldRotation);\r\n            obj.scale.copy(worldScale);\r\n\r\n            // Clear group ID\r\n            obj.userData.groupId = null;\r\n\r\n            ungroupedObjects.push(obj);\r\n        });\r\n\r\n        // Remove group container from scene\r\n        this.scene.remove(group.container);\r\n\r\n        // Remove group from array\r\n        this.groups.splice(groupIndex, 1);\r\n\r\n        // Emit event\r\n        this.eventEmitter.emit('groupRemoved', group.container);\r\n\r\n        // Execute callback\r\n        const callback = this.config.get('callbacks.onGroupRemoved');\r\n        if (callback && typeof callback === 'function') {\r\n            callback(group.container);\r\n        }\r\n\r\n        console.log(`SWK: Ungrouped ${group.name}`);\r\n        return ungroupedObjects;\r\n    }\r\n\r\n    /**\r\n     * Get group by ID\r\n     */\r\n    getGroupById(groupId) {\r\n        return this.groups.find(g => g.id === groupId);\r\n    }\r\n\r\n    /**\r\n     * Get group by container\r\n     */\r\n    getGroupByContainer(container) {\r\n        if (!container || !container.userData.groupId) return null;\r\n        return this.getGroupById(container.userData.groupId);\r\n    }\r\n\r\n    /**\r\n     * Check if object is grouped\r\n     */\r\n    isGrouped(object) {\r\n        return object && object.userData && object.userData.groupId !== undefined && object.userData.groupId !== null;\r\n    }\r\n\r\n    /**\r\n     * Check if object is a group container\r\n     */\r\n    isGroupContainer(object) {\r\n        return object && object.userData && object.userData.isGroupResult === true;\r\n    }\r\n\r\n    /**\r\n     * Get all groups\r\n     */\r\n    getAllGroups() {\r\n        return [...this.groups];\r\n    }\r\n\r\n    /**\r\n     * Get group children\r\n     */\r\n    getGroupChildren(groupContainer) {\r\n        const group = this.getGroupByContainer(groupContainer);\r\n        return group ? [...group.children] : [];\r\n    }\r\n\r\n    /**\r\n     * Find object's group\r\n     */\r\n    findObjectGroup(object) {\r\n        if (!this.isGrouped(object)) return null;\r\n        return this.getGroupById(object.userData.groupId);\r\n    }\r\n\r\n    /**\r\n     * Rename group\r\n     */\r\n    renameGroup(groupContainer, newName) {\r\n        const group = this.getGroupByContainer(groupContainer);\r\n        if (group) {\r\n            group.name = newName;\r\n            group.container.name = newName;\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Remove object from its group\r\n     */\r\n    removeFromGroup(object) {\r\n        const group = this.findObjectGroup(object);\r\n        if (!group) return false;\r\n\r\n        // Preserve world transform\r\n        const worldPosition = new THREE.Vector3();\r\n        const worldRotation = new THREE.Quaternion();\r\n        const worldScale = new THREE.Vector3();\r\n\r\n        object.getWorldPosition(worldPosition);\r\n        object.getWorldQuaternion(worldRotation);\r\n        object.getWorldScale(worldScale);\r\n\r\n        // Remove from group children\r\n        const index = group.children.indexOf(object);\r\n        if (index > -1) {\r\n            group.children.splice(index, 1);\r\n        }\r\n\r\n        // Remove from container\r\n        group.container.remove(object);\r\n\r\n        // Add back to scene\r\n        this.scene.add(object);\r\n\r\n        // Restore world transform\r\n        object.position.copy(worldPosition);\r\n        object.quaternion.copy(worldRotation);\r\n        object.scale.copy(worldScale);\r\n\r\n        // Clear group ID\r\n        object.userData.groupId = null;\r\n\r\n        // If group is now empty, remove it\r\n        if (group.children.length === 0) {\r\n            this.scene.remove(group.container);\r\n            const groupIndex = this.groups.indexOf(group);\r\n            if (groupIndex > -1) {\r\n                this.groups.splice(groupIndex, 1);\r\n            }\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Add object to existing group\r\n     */\r\n    addToGroup(object, groupContainer) {\r\n        const group = this.getGroupByContainer(groupContainer);\r\n        if (!group) return false;\r\n\r\n        // Remove from current group if already grouped\r\n        if (this.isGrouped(object)) {\r\n            this.removeFromGroup(object);\r\n        }\r\n\r\n        // Store world transform\r\n        const worldPos = new THREE.Vector3();\r\n        const worldQuat = new THREE.Quaternion();\r\n        const worldScale = new THREE.Vector3();\r\n\r\n        object.getWorldPosition(worldPos);\r\n        object.getWorldQuaternion(worldQuat);\r\n        object.getWorldScale(worldScale);\r\n\r\n        // Remove from scene\r\n        if (object.parent) {\r\n            object.parent.remove(object);\r\n        }\r\n\r\n        // Add to group\r\n        group.container.add(object);\r\n        group.children.push(object);\r\n\r\n        // Adjust local position relative to group center\r\n        const groupCenter = group.container.position;\r\n        object.position.copy(worldPos).sub(groupCenter);\r\n        object.quaternion.copy(worldQuat);\r\n        object.scale.copy(worldScale);\r\n\r\n        // Mark as grouped\r\n        object.userData.groupId = group.id;\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Clear all groups\r\n     */\r\n    clearAllGroups() {\r\n        [...this.groups].forEach(group => {\r\n            if (group.container) {\r\n                this.ungroup(group.container);\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get statistics\r\n     */\r\n    getStats() {\r\n        return {\r\n            totalGroups: this.groups.length,\r\n            groups: this.groups.map(g => ({\r\n                id: g.id,\r\n                name: g.name,\r\n                childCount: g.children.length\r\n            }))\r\n        };\r\n    }\r\n}\r\n","/**\r\n * StateCapture.js\r\n * Utility for serializing and deserializing complete scene state\r\n * Captures: objects, groups, materials, transforms, selection, counters\r\n */\r\n\r\nimport { SHAPE_TYPES } from '../utils/Constants.js';\r\n\r\nclass StateCapture {\r\n    /**\r\n     * Capture the complete current state of the scene\r\n     * @param {THREE.Scene} scene - The Three.js scene\r\n     * @param {SelectionManager} selectionManager - Selection manager instance\r\n     * @param {GroupManager} groupManager - Group manager instance\r\n     * @param {ShapeFactory} shapeFactory - Shape factory instance\r\n     * @returns {Object} Serialized state object\r\n     */\r\n    static captureState(scene, selectionManager, groupManager, shapeFactory) {\r\n        const state = {\r\n            timestamp: Date.now(),\r\n            objects: [],\r\n            groups: [],\r\n            selection: [],\r\n            counters: {}\r\n        };\r\n\r\n        // Capture shape counters from ShapeFactory\r\n        if (shapeFactory && shapeFactory.shapeCounters) {\r\n            state.counters = { ...shapeFactory.shapeCounters };\r\n        }\r\n\r\n        // Get all user objects (exclude grid, lights, etc)\r\n        const userObjects = scene.children.filter(obj => \r\n            obj.userData && obj.userData.isUserObject\r\n        );\r\n\r\n        // Capture objects and groups\r\n        userObjects.forEach(obj => {\r\n            if (groupManager && groupManager.isGroupContainer(obj)) {\r\n                // This is a group container\r\n                state.groups.push(this.serializeGroup(obj, groupManager));\r\n            } else if (!obj.parent || obj.parent.type !== 'Group') {\r\n                // This is a standalone object (not inside a group)\r\n                state.objects.push(this.serializeObject(obj));\r\n            }\r\n        });\r\n\r\n        // Capture current selection\r\n        const selectedObjects = selectionManager.getSelectedObjects();\r\n        state.selection = selectedObjects.map(obj => obj.uuid);\r\n\r\n        return state;\r\n    }\r\n\r\n    /**\r\n     * Serialize a single object\r\n     * @param {THREE.Object3D} obj - The object to serialize\r\n     * @returns {Object} Serialized object data\r\n     */\r\n    static serializeObject(obj) {\r\n        const data = {\r\n            uuid: obj.uuid,\r\n            name: obj.name,\r\n            type: obj.userData.shapeType || 'unknown',\r\n            position: obj.position.toArray(),\r\n            rotation: obj.rotation.toArray(),\r\n            scale: obj.scale.toArray(),\r\n            visible: obj.visible,\r\n            userData: { ...obj.userData }\r\n        };\r\n\r\n        // Serialize material\r\n        if (obj.material) {\r\n            data.material = {\r\n                color: obj.material.color.getHex(),\r\n                opacity: obj.material.opacity,\r\n                transparent: obj.material.transparent,\r\n                wireframe: obj.material.wireframe\r\n            };\r\n        }\r\n\r\n        // Special handling for text objects\r\n        if (data.type === SHAPE_TYPES.TEXT && obj.userData.textContent) {\r\n            data.textContent = obj.userData.textContent;\r\n            data.textFont = obj.userData.textFont || 'sans';\r\n        }\r\n\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * Serialize a group container with its children\r\n     * @param {THREE.Group} group - The group to serialize\r\n     * @param {GroupManager} groupManager - Group manager instance\r\n     * @returns {Object} Serialized group data\r\n     */\r\n    static serializeGroup(group, groupManager) {\r\n        const data = {\r\n            uuid: group.uuid,\r\n            name: group.name,\r\n            position: group.position.toArray(),\r\n            rotation: group.rotation.toArray(),\r\n            scale: group.scale.toArray(),\r\n            visible: group.visible,\r\n            children: []\r\n        };\r\n\r\n        // Serialize all children in the group\r\n        const children = groupManager.getGroupChildren(group);\r\n        children.forEach(child => {\r\n            data.children.push(this.serializeObject(child));\r\n        });\r\n\r\n        return data;\r\n    }\r\n\r\n    /**\r\n     * Restore state to the scene\r\n     * @param {Object} state - The state object to restore\r\n     * @param {THREE.Scene} scene - The Three.js scene\r\n     * @param {SelectionManager} selectionManager - Selection manager instance\r\n     * @param {GroupManager} groupManager - Group manager instance\r\n     * @param {ShapeFactory} shapeFactory - Shape factory instance\r\n     * @returns {Array} Array of restored objects\r\n     */\r\n    static restoreState(state, scene, selectionManager, groupManager, shapeFactory) {\r\n        const restoredObjects = [];\r\n        const uuidMap = new Map(); // Map old UUIDs to new objects\r\n\r\n        // Clear current scene (remove all user objects)\r\n        const userObjects = scene.children.filter(obj => \r\n            obj.userData && obj.userData.isUserObject\r\n        );\r\n        userObjects.forEach(obj => {\r\n            scene.remove(obj);\r\n            if (obj.geometry) obj.geometry.dispose();\r\n            if (obj.material) obj.material.dispose();\r\n        });\r\n\r\n        // Clear selection\r\n        selectionManager.clear();\r\n\r\n        // Restore shape counters\r\n        if (state.counters && shapeFactory) {\r\n            shapeFactory.shapeCounters = { ...state.counters };\r\n        }\r\n\r\n        // Restore standalone objects\r\n        state.objects.forEach(objData => {\r\n            const obj = this.deserializeObject(objData, shapeFactory);\r\n            if (obj) {\r\n                scene.add(obj);\r\n                restoredObjects.push(obj);\r\n                uuidMap.set(objData.uuid, obj);\r\n            }\r\n        });\r\n\r\n        // Restore groups\r\n        state.groups.forEach(groupData => {\r\n            const { group, children } = this.deserializeGroup(groupData, shapeFactory);\r\n            if (group && children.length > 0) {\r\n                // Add children to scene first\r\n                children.forEach(child => {\r\n                    scene.add(child);\r\n                    restoredObjects.push(child);\r\n                });\r\n\r\n                // Create the group\r\n                const groupContainer = groupManager.createGroup(children);\r\n                if (groupContainer) {\r\n                    // Restore group transform\r\n                    groupContainer.position.fromArray(groupData.position);\r\n                    groupContainer.rotation.fromArray(groupData.rotation);\r\n                    groupContainer.scale.fromArray(groupData.scale);\r\n                    groupContainer.visible = groupData.visible;\r\n                    groupContainer.name = groupData.name;\r\n\r\n                    restoredObjects.push(groupContainer);\r\n                    uuidMap.set(groupData.uuid, groupContainer);\r\n                }\r\n            }\r\n        });\r\n\r\n        // Restore selection\r\n        if (state.selection && state.selection.length > 0) {\r\n            state.selection.forEach(uuid => {\r\n                const obj = uuidMap.get(uuid);\r\n                if (obj) {\r\n                    selectionManager.addToSelection(obj);\r\n                }\r\n            });\r\n        }\r\n\r\n        return restoredObjects;\r\n    }\r\n\r\n    /**\r\n     * Deserialize an object from data\r\n     * @param {Object} data - Serialized object data\r\n     * @param {ShapeFactory} shapeFactory - Shape factory instance\r\n     * @returns {THREE.Object3D|null} Restored object\r\n     */\r\n    static deserializeObject(data, shapeFactory) {\r\n        if (!shapeFactory) return null;\r\n\r\n        const options = {\r\n            color: data.material?.color,\r\n            position: data.position,\r\n            rotation: data.rotation.slice(0, 3), // Exclude rotation order\r\n            scale: data.scale\r\n        };\r\n\r\n        // Special handling for text\r\n        if (data.type === SHAPE_TYPES.TEXT) {\r\n            options.text = data.textContent || 'Text';\r\n            options.font = data.textFont || 'sans';\r\n        }\r\n\r\n        // Create the object\r\n        const obj = shapeFactory.createShape(data.type, options);\r\n        if (!obj) return null;\r\n\r\n        // Restore properties\r\n        obj.name = data.name;\r\n        obj.visible = data.visible;\r\n        obj.userData = { ...data.userData };\r\n\r\n        // Restore material properties\r\n        if (data.material && obj.material) {\r\n            obj.material.opacity = data.material.opacity;\r\n            obj.material.transparent = data.material.transparent;\r\n            obj.material.wireframe = data.material.wireframe;\r\n        }\r\n\r\n        return obj;\r\n    }\r\n\r\n    /**\r\n     * Deserialize a group from data\r\n     * @param {Object} data - Serialized group data\r\n     * @param {ShapeFactory} shapeFactory - Shape factory instance\r\n     * @returns {Object} Object with group container and children array\r\n     */\r\n    static deserializeGroup(data, shapeFactory) {\r\n        const children = [];\r\n\r\n        // Deserialize all children\r\n        data.children.forEach(childData => {\r\n            const child = this.deserializeObject(childData, shapeFactory);\r\n            if (child) {\r\n                children.push(child);\r\n            }\r\n        });\r\n\r\n        return {\r\n            group: data,\r\n            children: children\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Create a deep clone of a state object\r\n     * @param {Object} state - State to clone\r\n     * @returns {Object} Cloned state\r\n     */\r\n    static cloneState(state) {\r\n        return JSON.parse(JSON.stringify(state));\r\n    }\r\n\r\n    /**\r\n     * Compare two states for equality (useful for detecting changes)\r\n     * @param {Object} stateA - First state\r\n     * @param {Object} stateB - Second state\r\n     * @returns {boolean} True if states are equal\r\n     */\r\n    static areStatesEqual(stateA, stateB) {\r\n        return JSON.stringify(stateA) === JSON.stringify(stateB);\r\n    }\r\n}\r\n\r\nexport default StateCapture;\r\n","/**\r\n * HistoryManager.js\r\n * Manages undo/redo history with state snapshots\r\n * Implements a circular buffer with maximum history depth\r\n */\r\n\r\nimport StateCapture from './StateCapture.js';\r\nimport EventEmitter from '../core/EventEmitter.js';\r\n\r\nclass HistoryManager extends EventEmitter {\r\n    /**\r\n     * @param {THREE.Scene} scene - The Three.js scene\r\n     * @param {SelectionManager} selectionManager - Selection manager\r\n     * @param {GroupManager} groupManager - Group manager\r\n     * @param {ShapeFactory} shapeFactory - Shape factory\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(scene, selectionManager, groupManager, shapeFactory, config) {\r\n        super();\r\n        \r\n        this.scene = scene;\r\n        this.selectionManager = selectionManager;\r\n        this.groupManager = groupManager;\r\n        this.shapeFactory = shapeFactory;\r\n        this.config = config;\r\n\r\n        // History stacks\r\n        this.undoStack = [];\r\n        this.redoStack = [];\r\n        \r\n        // Configuration\r\n        this.maxHistory = config.get('maxHistory') || 50;\r\n        this.isRestoring = false; // Flag to prevent recording during restore\r\n        \r\n        // Capture initial state\r\n        this.captureState('Initial state');\r\n    }\r\n\r\n    /**\r\n     * Capture current state and add to undo stack\r\n     * @param {string} description - Description of the action (for debugging)\r\n     * @returns {boolean} Success\r\n     */\r\n    captureState(description = 'State change') {\r\n        // Don't capture if we're currently restoring a state\r\n        if (this.isRestoring) {\r\n            return false;\r\n        }\r\n\r\n        try {\r\n            const state = StateCapture.captureState(\r\n                this.scene,\r\n                this.selectionManager,\r\n                this.groupManager,\r\n                this.shapeFactory\r\n            );\r\n\r\n            // Don't capture if state is identical to the last one\r\n            if (this.undoStack.length > 0) {\r\n                const lastState = this.undoStack[this.undoStack.length - 1];\r\n                if (StateCapture.areStatesEqual(state, lastState.state)) {\r\n                    return false;\r\n                }\r\n            }\r\n\r\n            // Add to undo stack\r\n            this.undoStack.push({\r\n                state: state,\r\n                description: description,\r\n                timestamp: Date.now()\r\n            });\r\n\r\n            // Limit history size\r\n            if (this.undoStack.length > this.maxHistory) {\r\n                this.undoStack.shift(); // Remove oldest\r\n            }\r\n\r\n            // Clear redo stack when new action is performed\r\n            this.redoStack = [];\r\n\r\n            this.emit('stateChanged', {\r\n                canUndo: this.canUndo(),\r\n                canRedo: this.canRedo(),\r\n                undoCount: this.undoStack.length,\r\n                redoCount: this.redoStack.length\r\n            });\r\n\r\n            return true;\r\n        } catch (error) {\r\n            console.error('Failed to capture state:', error);\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Undo the last action\r\n     * @returns {boolean} Success\r\n     */\r\n    undo() {\r\n        if (!this.canUndo()) {\r\n            return false;\r\n        }\r\n\r\n        try {\r\n            this.isRestoring = true;\r\n\r\n            // Move current state to redo stack\r\n            const currentState = StateCapture.captureState(\r\n                this.scene,\r\n                this.selectionManager,\r\n                this.groupManager,\r\n                this.shapeFactory\r\n            );\r\n            \r\n            this.redoStack.push({\r\n                state: currentState,\r\n                description: 'Current state',\r\n                timestamp: Date.now()\r\n            });\r\n\r\n            // Get previous state from undo stack\r\n            this.undoStack.pop(); // Remove current\r\n            const previousEntry = this.undoStack[this.undoStack.length - 1];\r\n\r\n            // Restore previous state\r\n            StateCapture.restoreState(\r\n                previousEntry.state,\r\n                this.scene,\r\n                this.selectionManager,\r\n                this.groupManager,\r\n                this.shapeFactory\r\n            );\r\n\r\n            this.isRestoring = false;\r\n\r\n            this.emit('stateRestored', {\r\n                action: 'undo',\r\n                description: previousEntry.description\r\n            });\r\n\r\n            this.emit('stateChanged', {\r\n                canUndo: this.canUndo(),\r\n                canRedo: this.canRedo(),\r\n                undoCount: this.undoStack.length,\r\n                redoCount: this.redoStack.length\r\n            });\r\n\r\n            return true;\r\n        } catch (error) {\r\n            console.error('Failed to undo:', error);\r\n            this.isRestoring = false;\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Redo the last undone action\r\n     * @returns {boolean} Success\r\n     */\r\n    redo() {\r\n        if (!this.canRedo()) {\r\n            return false;\r\n        }\r\n\r\n        try {\r\n            this.isRestoring = true;\r\n\r\n            // Get state from redo stack\r\n            const redoEntry = this.redoStack.pop();\r\n\r\n            // Capture current state for undo stack\r\n            const currentState = StateCapture.captureState(\r\n                this.scene,\r\n                this.selectionManager,\r\n                this.groupManager,\r\n                this.shapeFactory\r\n            );\r\n\r\n            this.undoStack.push({\r\n                state: currentState,\r\n                description: 'Redo action',\r\n                timestamp: Date.now()\r\n            });\r\n\r\n            // Restore redo state\r\n            StateCapture.restoreState(\r\n                redoEntry.state,\r\n                this.scene,\r\n                this.selectionManager,\r\n                this.groupManager,\r\n                this.shapeFactory\r\n            );\r\n\r\n            this.isRestoring = false;\r\n\r\n            this.emit('stateRestored', {\r\n                action: 'redo',\r\n                description: redoEntry.description\r\n            });\r\n\r\n            this.emit('stateChanged', {\r\n                canUndo: this.canUndo(),\r\n                canRedo: this.canRedo(),\r\n                undoCount: this.undoStack.length,\r\n                redoCount: this.redoStack.length\r\n            });\r\n\r\n            return true;\r\n        } catch (error) {\r\n            console.error('Failed to redo:', error);\r\n            this.isRestoring = false;\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Check if undo is available\r\n     * @returns {boolean} True if can undo\r\n     */\r\n    canUndo() {\r\n        return this.undoStack.length > 1; // Need at least 2 (current + previous)\r\n    }\r\n\r\n    /**\r\n     * Check if redo is available\r\n     * @returns {boolean} True if can redo\r\n     */\r\n    canRedo() {\r\n        return this.redoStack.length > 0;\r\n    }\r\n\r\n    /**\r\n     * Get the description of the next undo action\r\n     * @returns {string|null} Description or null\r\n     */\r\n    getUndoDescription() {\r\n        if (!this.canUndo()) return null;\r\n        return this.undoStack[this.undoStack.length - 2]?.description || null;\r\n    }\r\n\r\n    /**\r\n     * Get the description of the next redo action\r\n     * @returns {string|null} Description or null\r\n     */\r\n    getRedoDescription() {\r\n        if (!this.canRedo()) return null;\r\n        return this.redoStack[this.redoStack.length - 1]?.description || null;\r\n    }\r\n\r\n    /**\r\n     * Clear all history\r\n     */\r\n    clear() {\r\n        this.undoStack = [];\r\n        this.redoStack = [];\r\n        \r\n        // Capture current state as initial\r\n        this.captureState('History cleared');\r\n\r\n        this.emit('stateChanged', {\r\n            canUndo: false,\r\n            canRedo: false,\r\n            undoCount: this.undoStack.length,\r\n            redoCount: this.redoStack.length\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Get history statistics\r\n     * @returns {Object} History stats\r\n     */\r\n    getStats() {\r\n        return {\r\n            undoCount: this.undoStack.length,\r\n            redoCount: this.redoStack.length,\r\n            maxHistory: this.maxHistory,\r\n            canUndo: this.canUndo(),\r\n            canRedo: this.canRedo(),\r\n            memoryUsage: this.estimateMemoryUsage()\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Estimate memory usage of history (approximate)\r\n     * @returns {number} Estimated size in bytes\r\n     */\r\n    estimateMemoryUsage() {\r\n        const undoSize = JSON.stringify(this.undoStack).length;\r\n        const redoSize = JSON.stringify(this.redoStack).length;\r\n        return undoSize + redoSize;\r\n    }\r\n\r\n    /**\r\n     * Clean up resources\r\n     */\r\n    dispose() {\r\n        this.clear();\r\n        this.removeAllListeners();\r\n        this.scene = null;\r\n        this.selectionManager = null;\r\n        this.groupManager = null;\r\n        this.shapeFactory = null;\r\n    }\r\n}\r\n\r\nexport default HistoryManager;\r\n","/**\r\n * PropertyPanel.js\r\n * Property editor panel for selected objects\r\n * Shows and allows editing of position, rotation, scale, color, and text properties\r\n */\r\n\r\nimport EventEmitter from '../core/EventEmitter.js';\r\nimport { SHAPE_TYPES } from '../utils/Constants.js';\r\n\r\nclass PropertyPanel extends EventEmitter {\r\n    /**\r\n     * @param {HTMLElement} container - Panel container element\r\n     * @param {SWK} swkInstance - Main SWK instance\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(container, swkInstance, config) {\r\n        super();\r\n        \r\n        this.container = container;\r\n        this.swk = swkInstance;\r\n        this.config = config;\r\n        \r\n        this.selectedObjects = [];\r\n        this.isUpdating = false; // Prevent feedback loops\r\n    }\r\n\r\n    /**\r\n     * Render the property panel\r\n     */\r\n    render() {\r\n        this.container.innerHTML = `\r\n            <div class=\"swk-panel-header\">\r\n                <h3>Properties</h3>\r\n            </div>\r\n            <div class=\"swk-panel-content\" id=\"swk-property-content\">\r\n                <div class=\"swk-property-empty\">\r\n                    <p>No object selected</p>\r\n                    <small>Select an object to edit its properties</small>\r\n                </div>\r\n            </div>\r\n        `;\r\n        \r\n        this.contentElement = document.getElementById('swk-property-content');\r\n    }\r\n\r\n    /**\r\n     * Update the panel when selection changes\r\n     * @param {Array} selectedObjects - Array of selected objects\r\n     */\r\n    updateSelection(selectedObjects) {\r\n        this.selectedObjects = selectedObjects;\r\n        this.refresh();\r\n    }\r\n\r\n    /**\r\n     * Refresh the property panel content\r\n     */\r\n    refresh() {\r\n        if (!this.contentElement) return;\r\n        \r\n        if (this.selectedObjects.length === 0) {\r\n            this.showEmptyState();\r\n        } else if (this.selectedObjects.length === 1) {\r\n            this.showSingleObjectProperties(this.selectedObjects[0]);\r\n        } else {\r\n            this.showMultipleObjectsProperties(this.selectedObjects);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Show empty state\r\n     */\r\n    showEmptyState() {\r\n        this.contentElement.innerHTML = `\r\n            <div class=\"swk-property-empty\">\r\n                <p>No object selected</p>\r\n                <small>Select an object to edit its properties</small>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    /**\r\n     * Show properties for a single object\r\n     * @param {THREE.Object3D} object - The selected object\r\n     */\r\n    showSingleObjectProperties(object) {\r\n        const isText = object.userData.shapeType === SHAPE_TYPES.TEXT;\r\n        const isGroup = this.swk.isGroupContainer(object);\r\n        \r\n        this.contentElement.innerHTML = `\r\n            <div class=\"swk-property-section\">\r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Name</label>\r\n                    <input type=\"text\" class=\"swk-property-input\" id=\"prop-name\" value=\"${object.name}\">\r\n                </div>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Type</label>\r\n                    <input type=\"text\" class=\"swk-property-input\" readonly value=\"${isGroup ? 'Group' : object.userData.shapeType || 'Object'}\">\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"swk-property-section\">\r\n                <h4 class=\"swk-property-section-title\">Transform</h4>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Position</label>\r\n                    <div class=\"swk-property-vector\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-pos-x\" value=\"${object.position.x.toFixed(2)}\" step=\"0.1\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-pos-y\" value=\"${object.position.y.toFixed(2)}\" step=\"0.1\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-pos-z\" value=\"${object.position.z.toFixed(2)}\" step=\"0.1\">\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Rotation ()</label>\r\n                    <div class=\"swk-property-vector\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-rot-x\" value=\"${(object.rotation.x * 180 / Math.PI).toFixed(1)}\" step=\"1\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-rot-y\" value=\"${(object.rotation.y * 180 / Math.PI).toFixed(1)}\" step=\"1\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-rot-z\" value=\"${(object.rotation.z * 180 / Math.PI).toFixed(1)}\" step=\"1\">\r\n                    </div>\r\n                </div>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Scale</label>\r\n                    <div class=\"swk-property-vector\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-scale-x\" value=\"${object.scale.x.toFixed(2)}\" step=\"0.1\" min=\"0.01\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-scale-y\" value=\"${object.scale.y.toFixed(2)}\" step=\"0.1\" min=\"0.01\">\r\n                        <input type=\"number\" class=\"swk-property-input\" id=\"prop-scale-z\" value=\"${object.scale.z.toFixed(2)}\" step=\"0.1\" min=\"0.01\">\r\n                    </div>\r\n                </div>\r\n            </div>\r\n            \r\n            ${!isGroup ? `\r\n            <div class=\"swk-property-section\">\r\n                <h4 class=\"swk-property-section-title\">Material</h4>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Color</label>\r\n                    <input type=\"color\" class=\"swk-property-input swk-property-color\" id=\"prop-color\" value=\"#${object.material.color.getHexString()}\">\r\n                </div>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Visible</label>\r\n                    <input type=\"checkbox\" class=\"swk-property-checkbox\" id=\"prop-visible\" ${object.visible ? 'checked' : ''}>\r\n                </div>\r\n            </div>\r\n            ` : ''}\r\n            \r\n            ${isText ? `\r\n            <div class=\"swk-property-section\">\r\n                <h4 class=\"swk-property-section-title\">Text</h4>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Content</label>\r\n                    <input type=\"text\" class=\"swk-property-input\" id=\"prop-text\" value=\"${object.userData.text || ''}\">\r\n                </div>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Font</label>\r\n                    <select class=\"swk-property-input\" id=\"prop-font\">\r\n                        <option value=\"sans\" ${object.userData.fontType === 'sans' ? 'selected' : ''}>Sans Serif</option>\r\n                        <option value=\"serif\" ${object.userData.fontType === 'serif' ? 'selected' : ''}>Serif</option>\r\n                        <option value=\"mono\" ${object.userData.fontType === 'mono' ? 'selected' : ''}>Monospace</option>\r\n                    </select>\r\n                </div>\r\n                \r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Size</label>\r\n                    <input type=\"number\" class=\"swk-property-input\" id=\"prop-font-size\" value=\"${object.userData.fontSize || 1}\" step=\"0.1\" min=\"0.1\">\r\n                </div>\r\n            </div>\r\n            ` : ''}\r\n        `;\r\n        \r\n        this.attachEventListeners(object);\r\n    }\r\n\r\n    /**\r\n     * Show properties for multiple objects\r\n     * @param {Array} objects - Array of selected objects\r\n     */\r\n    showMultipleObjectsProperties(objects) {\r\n        this.contentElement.innerHTML = `\r\n            <div class=\"swk-property-section\">\r\n                <div class=\"swk-property-group\">\r\n                    <label class=\"swk-property-label\">Selection</label>\r\n                    <input type=\"text\" class=\"swk-property-input\" readonly value=\"${objects.length} objects selected\">\r\n                </div>\r\n            </div>\r\n            \r\n            <div class=\"swk-property-section\">\r\n                <p class=\"swk-property-note\">Multiple objects selected. Transform operations will affect all selected objects.</p>\r\n            </div>\r\n        `;\r\n    }\r\n\r\n    /**\r\n     * Attach event listeners to property inputs\r\n     * @param {THREE.Object3D} object - The object being edited\r\n     */\r\n    attachEventListeners(object) {\r\n        // Name\r\n        const nameInput = document.getElementById('prop-name');\r\n        if (nameInput) {\r\n            nameInput.addEventListener('change', (e) => {\r\n                object.name = e.target.value;\r\n                this.emit('propertyChanged', { object, property: 'name', value: e.target.value });\r\n            });\r\n        }\r\n        \r\n        // Position\r\n        ['x', 'y', 'z'].forEach(axis => {\r\n            const input = document.getElementById(`prop-pos-${axis}`);\r\n            if (input) {\r\n                input.addEventListener('change', (e) => {\r\n                    object.position[axis] = parseFloat(e.target.value) || 0;\r\n                    this.swk.captureState('Change position');\r\n                    this.emit('propertyChanged', { object, property: 'position', axis, value: object.position[axis] });\r\n                });\r\n            }\r\n        });\r\n        \r\n        // Rotation (convert degrees to radians)\r\n        ['x', 'y', 'z'].forEach(axis => {\r\n            const input = document.getElementById(`prop-rot-${axis}`);\r\n            if (input) {\r\n                input.addEventListener('change', (e) => {\r\n                    const degrees = parseFloat(e.target.value) || 0;\r\n                    object.rotation[axis] = degrees * Math.PI / 180;\r\n                    this.swk.captureState('Change rotation');\r\n                    this.emit('propertyChanged', { object, property: 'rotation', axis, value: object.rotation[axis] });\r\n                });\r\n            }\r\n        });\r\n        \r\n        // Scale\r\n        ['x', 'y', 'z'].forEach(axis => {\r\n            const input = document.getElementById(`prop-scale-${axis}`);\r\n            if (input) {\r\n                input.addEventListener('change', (e) => {\r\n                    const value = parseFloat(e.target.value) || 0.01;\r\n                    object.scale[axis] = Math.max(0.01, value);\r\n                    this.swk.captureState('Change scale');\r\n                    this.emit('propertyChanged', { object, property: 'scale', axis, value: object.scale[axis] });\r\n                });\r\n            }\r\n        });\r\n        \r\n        // Color\r\n        const colorInput = document.getElementById('prop-color');\r\n        if (colorInput && object.material) {\r\n            colorInput.addEventListener('change', (e) => {\r\n                object.material.color.set(e.target.value);\r\n                this.swk.captureState('Change color');\r\n                this.emit('propertyChanged', { object, property: 'color', value: e.target.value });\r\n            });\r\n        }\r\n        \r\n        // Visible\r\n        const visibleInput = document.getElementById('prop-visible');\r\n        if (visibleInput) {\r\n            visibleInput.addEventListener('change', (e) => {\r\n                object.visible = e.target.checked;\r\n                this.emit('propertyChanged', { object, property: 'visible', value: object.visible });\r\n            });\r\n        }\r\n        \r\n        // Text content\r\n        const textInput = document.getElementById('prop-text');\r\n        if (textInput) {\r\n            textInput.addEventListener('change', (e) => {\r\n                this.updateTextGeometry(object, e.target.value, object.userData.fontSize, object.userData.fontType);\r\n            });\r\n        }\r\n        \r\n        // Font type\r\n        const fontInput = document.getElementById('prop-font');\r\n        if (fontInput) {\r\n            fontInput.addEventListener('change', (e) => {\r\n                this.updateTextGeometry(object, object.userData.text, object.userData.fontSize, e.target.value);\r\n            });\r\n        }\r\n        \r\n        // Font size\r\n        const fontSizeInput = document.getElementById('prop-font-size');\r\n        if (fontSizeInput) {\r\n            fontSizeInput.addEventListener('change', (e) => {\r\n                const size = Math.max(0.1, parseFloat(e.target.value) || 1);\r\n                this.updateTextGeometry(object, object.userData.text, size, object.userData.fontType);\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update text geometry\r\n     * @param {THREE.Object3D} object - Text object\r\n     * @param {string} text - New text content\r\n     * @param {number} fontSize - Font size\r\n     * @param {string} fontType - Font type\r\n     */\r\n    async updateTextGeometry(object, text, fontSize, fontType) {\r\n        try {\r\n            const shapeFactory = this.swk.shapeFactory;\r\n            if (shapeFactory && typeof shapeFactory.updateTextGeometry === 'function') {\r\n                await shapeFactory.updateTextGeometry(object, text, fontSize, fontType);\r\n                this.swk.captureState('Update text');\r\n                this.emit('propertyChanged', { object, property: 'text' });\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to update text:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clean up\r\n     */\r\n    destroy() {\r\n        this.selectedObjects = [];\r\n        this.removeAllListeners();\r\n    }\r\n}\r\n\r\nexport default PropertyPanel;\r\n","/**\r\n * ShapesPanel.js\r\n * Shape creation panel with buttons for all shape types\r\n */\r\n\r\nimport EventEmitter from '../core/EventEmitter.js';\r\nimport { SHAPE_TYPES } from '../utils/Constants.js';\r\n\r\nclass ShapesPanel extends EventEmitter {\r\n    /**\r\n     * @param {HTMLElement} container - Panel container element\r\n     * @param {SWK} swkInstance - Main SWK instance\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(container, swkInstance, config) {\r\n        super();\r\n        \r\n        this.container = container;\r\n        this.swk = swkInstance;\r\n        this.config = config;\r\n        \r\n        this.shapes = [\r\n            { type: SHAPE_TYPES.BOX, label: 'Box', icon: '' },\r\n            { type: SHAPE_TYPES.SPHERE, label: 'Sphere', icon: '' },\r\n            { type: SHAPE_TYPES.CYLINDER, label: 'Cylinder', icon: '' },\r\n            { type: SHAPE_TYPES.CONE, label: 'Cone', icon: '' },\r\n            { type: SHAPE_TYPES.TORUS, label: 'Torus', icon: '' },\r\n            { type: SHAPE_TYPES.PLANE, label: 'Plane', icon: '' },\r\n            { type: SHAPE_TYPES.PYRAMID, label: 'Pyramid', icon: '' },\r\n            { type: SHAPE_TYPES.TORUSKNOT, label: 'Torus Knot', icon: '' },\r\n            { type: SHAPE_TYPES.TETRAHEDRON, label: 'Tetrahedron', icon: '' },\r\n            { type: SHAPE_TYPES.OCTAHEDRON, label: 'Octahedron', icon: '' },\r\n            { type: SHAPE_TYPES.ICOSAHEDRON, label: 'Icosahedron', icon: '' },\r\n            { type: SHAPE_TYPES.DODECAHEDRON, label: 'Dodecahedron', icon: '' },\r\n            { type: SHAPE_TYPES.TEXT, label: 'Text', icon: 'T' }\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Render the shapes panel\r\n     */\r\n    render() {\r\n        this.container.innerHTML = `\r\n            <div class=\"swk-panel-header\">\r\n                <h3>Shapes</h3>\r\n            </div>\r\n            <div class=\"swk-panel-content\">\r\n                <div class=\"swk-shapes-grid\" id=\"swk-shapes-grid\"></div>\r\n            </div>\r\n        `;\r\n        \r\n        const grid = document.getElementById('swk-shapes-grid');\r\n        \r\n        // Create shape buttons\r\n        this.shapes.forEach(shape => {\r\n            const button = document.createElement('button');\r\n            button.className = 'swk-shape-button';\r\n            button.setAttribute('data-shape-type', shape.type);\r\n            button.title = shape.label;\r\n            button.innerHTML = `\r\n                <span class=\"swk-shape-icon\">${shape.icon}</span>\r\n                <span class=\"swk-shape-label\">${shape.label}</span>\r\n            `;\r\n            \r\n            button.addEventListener('click', () => this.createShape(shape.type));\r\n            \r\n            grid.appendChild(button);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Create a shape\r\n     * @param {string} type - Shape type\r\n     */\r\n    async createShape(type) {\r\n        try {\r\n            let options = {};\r\n            \r\n            // Special handling for text\r\n            if (type === SHAPE_TYPES.TEXT) {\r\n                const text = prompt('Enter text:', 'Hello');\r\n                if (!text) return;\r\n                options = { text };\r\n            }\r\n            \r\n            const shape = await this.swk.addShape(type, options);\r\n            \r\n            if (shape) {\r\n                // Select the newly created shape\r\n                this.swk.selectObject(shape);\r\n                \r\n                this.emit('shapeCreated', { type, shape });\r\n            }\r\n        } catch (error) {\r\n            console.error('Failed to create shape:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Refresh the panel\r\n     */\r\n    refresh() {\r\n        // Nothing to refresh for static buttons\r\n    }\r\n\r\n    /**\r\n     * Clean up\r\n     */\r\n    destroy() {\r\n        this.removeAllListeners();\r\n    }\r\n}\r\n\r\nexport default ShapesPanel;\r\n","/**\r\n * OutlinerPanel.js\r\n * Scene hierarchy panel showing all objects and groups\r\n */\r\n\r\nimport EventEmitter from '../core/EventEmitter.js';\r\n\r\nclass OutlinerPanel extends EventEmitter {\r\n    /**\r\n     * @param {HTMLElement} container - Panel container element\r\n     * @param {SWK} swkInstance - Main SWK instance\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(container, swkInstance, config) {\r\n        super();\r\n        \r\n        this.container = container;\r\n        this.swk = swkInstance;\r\n        this.config = config;\r\n        \r\n        this.expandedGroups = new Set();\r\n    }\r\n\r\n    /**\r\n     * Render the outliner panel\r\n     */\r\n    render() {\r\n        this.container.innerHTML = `\r\n            <div class=\"swk-panel-header\">\r\n                <h3>Outliner</h3>\r\n                <button class=\"swk-panel-button\" id=\"swk-outliner-refresh\" title=\"Refresh\"></button>\r\n            </div>\r\n            <div class=\"swk-panel-content\">\r\n                <div class=\"swk-outliner-tree\" id=\"swk-outliner-tree\"></div>\r\n            </div>\r\n        `;\r\n        \r\n        // Refresh button\r\n        const refreshBtn = document.getElementById('swk-outliner-refresh');\r\n        if (refreshBtn) {\r\n            refreshBtn.addEventListener('click', () => this.refresh());\r\n        }\r\n        \r\n        this.refresh();\r\n    }\r\n\r\n    /**\r\n     * Refresh the outliner tree\r\n     */\r\n    refresh() {\r\n        const tree = document.getElementById('swk-outliner-tree');\r\n        if (!tree) return;\r\n        \r\n        const objects = this.swk.getAllObjects();\r\n        \r\n        if (objects.length === 0) {\r\n            tree.innerHTML = `\r\n                <div class=\"swk-outliner-empty\">\r\n                    <p>No objects in scene</p>\r\n                    <small>Add shapes to see them here</small>\r\n                </div>\r\n            `;\r\n            return;\r\n        }\r\n        \r\n        tree.innerHTML = '';\r\n        \r\n        // Get root objects (not in groups)\r\n        const rootObjects = objects.filter(obj => {\r\n            return !obj.parent || !this.swk.isGroupContainer(obj.parent);\r\n        });\r\n        \r\n        rootObjects.forEach(obj => {\r\n            const item = this.createTreeItem(obj);\r\n            tree.appendChild(item);\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Create a tree item for an object\r\n     * @param {THREE.Object3D} object - The object\r\n     * @param {number} level - Nesting level\r\n     * @returns {HTMLElement} Tree item element\r\n     */\r\n    createTreeItem(object, level = 0) {\r\n        const isGroup = this.swk.isGroupContainer(object);\r\n        const isSelected = this.swk.selectionManager.isSelected(object);\r\n        const isExpanded = this.expandedGroups.has(object.userData.id);\r\n        \r\n        const item = document.createElement('div');\r\n        item.className = 'swk-outliner-item';\r\n        item.setAttribute('data-object-id', object.userData.id);\r\n        if (isSelected) {\r\n            item.classList.add('swk-outliner-item-selected');\r\n        }\r\n        \r\n        // Indentation\r\n        const indent = level * 20;\r\n        \r\n        // Content\r\n        let icon = '';\r\n        if (isGroup) {\r\n            icon = isExpanded ? '' : '';\r\n        } else if (object.userData.shapeType) {\r\n            icon = this.getShapeIcon(object.userData.shapeType);\r\n        }\r\n        \r\n        item.innerHTML = `\r\n            <div class=\"swk-outliner-item-content\" style=\"padding-left: ${indent}px;\">\r\n                ${isGroup ? `<span class=\"swk-outliner-toggle\" data-object-id=\"${object.userData.id}\">${icon}</span>` : `<span class=\"swk-outliner-icon\">${icon}</span>`}\r\n                <span class=\"swk-outliner-name\">${object.name}</span>\r\n                <span class=\"swk-outliner-type\">${isGroup ? 'Group' : object.userData.shapeType || ''}</span>\r\n            </div>\r\n        `;\r\n        \r\n        // Click to select\r\n        const content = item.querySelector('.swk-outliner-item-content');\r\n        content.addEventListener('click', (e) => {\r\n            if (!e.target.classList.contains('swk-outliner-toggle')) {\r\n                this.selectObject(object);\r\n            }\r\n        });\r\n        \r\n        // Toggle group expansion\r\n        if (isGroup) {\r\n            const toggle = item.querySelector('.swk-outliner-toggle');\r\n            if (toggle) {\r\n                toggle.addEventListener('click', (e) => {\r\n                    e.stopPropagation();\r\n                    this.toggleGroup(object);\r\n                });\r\n            }\r\n        }\r\n        \r\n        // Add children if group is expanded\r\n        if (isGroup && isExpanded) {\r\n            const children = this.swk.getGroupChildren(object);\r\n            children.forEach(child => {\r\n                const childItem = this.createTreeItem(child, level + 1);\r\n                item.appendChild(childItem);\r\n            });\r\n        }\r\n        \r\n        return item;\r\n    }\r\n\r\n    /**\r\n     * Get icon for shape type\r\n     * @param {string} type - Shape type\r\n     * @returns {string} Icon character\r\n     */\r\n    getShapeIcon(type) {\r\n        const icons = {\r\n            'box': '',\r\n            'sphere': '',\r\n            'cylinder': '',\r\n            'cone': '',\r\n            'torus': '',\r\n            'plane': '',\r\n            'pyramid': '',\r\n            'torusknot': '',\r\n            'tetrahedron': '',\r\n            'octahedron': '',\r\n            'icosahedron': '',\r\n            'dodecahedron': '',\r\n            'text': 'T'\r\n        };\r\n        return icons[type] || '';\r\n    }\r\n\r\n    /**\r\n     * Select an object\r\n     * @param {THREE.Object3D} object - Object to select\r\n     */\r\n    selectObject(object) {\r\n        this.swk.selectObject(object);\r\n    }\r\n\r\n    /**\r\n     * Toggle group expansion\r\n     * @param {THREE.Object3D} group - Group to toggle\r\n     */\r\n    toggleGroup(group) {\r\n        const id = group.userData.id;\r\n        if (this.expandedGroups.has(id)) {\r\n            this.expandedGroups.delete(id);\r\n        } else {\r\n            this.expandedGroups.add(id);\r\n        }\r\n        this.refresh();\r\n    }\r\n\r\n    /**\r\n     * Update selection highlighting\r\n     * @param {Array} selectedObjects - Selected objects\r\n     */\r\n    updateSelection(selectedObjects) {\r\n        // Remove all selected classes\r\n        const items = this.container.querySelectorAll('.swk-outliner-item-selected');\r\n        items.forEach(item => item.classList.remove('swk-outliner-item-selected'));\r\n        \r\n        // Add selected class to selected objects\r\n        selectedObjects.forEach(obj => {\r\n            const item = this.container.querySelector(`[data-object-id=\"${obj.userData.id}\"]`);\r\n            if (item) {\r\n                item.classList.add('swk-outliner-item-selected');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Add an object to the outliner\r\n     * @param {THREE.Object3D} object - Object to add\r\n     */\r\n    addObject(object) {\r\n        this.refresh();\r\n    }\r\n\r\n    /**\r\n     * Remove an object from the outliner\r\n     * @param {THREE.Object3D} object - Object to remove\r\n     */\r\n    removeObject(object) {\r\n        this.refresh();\r\n    }\r\n\r\n    /**\r\n     * Clean up\r\n     */\r\n    destroy() {\r\n        this.expandedGroups.clear();\r\n        this.removeAllListeners();\r\n    }\r\n}\r\n\r\nexport default OutlinerPanel;\r\n","/**\r\n * ControlsPanel.js\r\n * Bottom toolbar with transform modes, camera controls, history, and export\r\n */\r\n\r\nimport EventEmitter from '../core/EventEmitter.js';\r\nimport { TRANSFORM_MODES, CAMERA_MODES } from '../utils/Constants.js';\r\n\r\nclass ControlsPanel extends EventEmitter {\r\n    /**\r\n     * @param {HTMLElement} container - Panel container element\r\n     * @param {SWK} swkInstance - Main SWK instance\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(container, swkInstance, config) {\r\n        super();\r\n        \r\n        this.container = container;\r\n        this.swk = swkInstance;\r\n        this.config = config;\r\n    }\r\n\r\n    /**\r\n     * Render the controls panel\r\n     */\r\n    render() {\r\n        this.container.innerHTML = `\r\n            <div class=\"swk-controls-toolbar\">\r\n                <!-- Transform Modes -->\r\n                <div class=\"swk-control-group\">\r\n                    <span class=\"swk-control-label\">Transform:</span>\r\n                    <div class=\"swk-button-group\">\r\n                        <button class=\"swk-control-button active\" data-mode=\"translate\" title=\"Translate (T)\">\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" data-mode=\"rotate\" title=\"Rotate (R)\">\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" data-mode=\"scale\" title=\"Scale (S)\">\r\n                            <span></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Camera Modes -->\r\n                <div class=\"swk-control-group\">\r\n                    <span class=\"swk-control-label\">Camera:</span>\r\n                    <div class=\"swk-button-group\">\r\n                        <button class=\"swk-control-button active\" data-camera=\"perspective\" title=\"Perspective\">\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" data-camera=\"orthographic\" title=\"Orthographic\">\r\n                            <span></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Snap Settings -->\r\n                <div class=\"swk-control-group\">\r\n                    <span class=\"swk-control-label\">Snap:</span>\r\n                    <select class=\"swk-control-select\" id=\"swk-snap-select\">\r\n                        <option value=\"0\">Off</option>\r\n                        <option value=\"0.01\">0.01</option>\r\n                        <option value=\"0.025\">0.025</option>\r\n                        <option value=\"0.05\">0.05</option>\r\n                        <option value=\"0.1\" selected>0.1</option>\r\n                        <option value=\"0.2\">0.2</option>\r\n                        <option value=\"0.5\">0.5</option>\r\n                    </select>\r\n                </div>\r\n                \r\n                <!-- History -->\r\n                <div class=\"swk-control-group\">\r\n                    <span class=\"swk-control-label\">History:</span>\r\n                    <div class=\"swk-button-group\">\r\n                        <button class=\"swk-control-button\" id=\"swk-undo-btn\" title=\"Undo (Ctrl+Z)\" disabled>\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" id=\"swk-redo-btn\" title=\"Redo (Ctrl+Y)\" disabled>\r\n                            <span></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Actions -->\r\n                <div class=\"swk-control-group\">\r\n                    <span class=\"swk-control-label\">Actions:</span>\r\n                    <div class=\"swk-button-group\">\r\n                        <button class=\"swk-control-button\" id=\"swk-group-btn\" title=\"Group Selected\">\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" id=\"swk-ungroup-btn\" title=\"Ungroup\">\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" id=\"swk-duplicate-btn\" title=\"Duplicate\">\r\n                            <span></span>\r\n                        </button>\r\n                        <button class=\"swk-control-button swk-control-button-danger\" id=\"swk-delete-btn\" title=\"Delete\">\r\n                            <span></span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                \r\n                <!-- Export -->\r\n                <div class=\"swk-control-group\">\r\n                    <span class=\"swk-control-label\">Export:</span>\r\n                    <div class=\"swk-button-group\">\r\n                        <button class=\"swk-control-button\" id=\"swk-export-gltf-btn\" title=\"Export GLTF\">\r\n                            <span>GLTF</span>\r\n                        </button>\r\n                        <button class=\"swk-control-button\" id=\"swk-export-stl-btn\" title=\"Export STL\">\r\n                            <span>STL</span>\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        `;\r\n        \r\n        this.attachEventListeners();\r\n    }\r\n\r\n    /**\r\n     * Attach event listeners to controls\r\n     */\r\n    attachEventListeners() {\r\n        // Transform mode buttons\r\n        const transformButtons = this.container.querySelectorAll('[data-mode]');\r\n        transformButtons.forEach(btn => {\r\n            btn.addEventListener('click', () => {\r\n                const mode = btn.getAttribute('data-mode');\r\n                this.swk.setTransformMode(mode);\r\n            });\r\n        });\r\n        \r\n        // Camera mode buttons\r\n        const cameraButtons = this.container.querySelectorAll('[data-camera]');\r\n        cameraButtons.forEach(btn => {\r\n            btn.addEventListener('click', () => {\r\n                const mode = btn.getAttribute('data-camera');\r\n                this.swk.setCameraMode(mode);\r\n            });\r\n        });\r\n        \r\n        // Snap select\r\n        const snapSelect = document.getElementById('swk-snap-select');\r\n        if (snapSelect) {\r\n            snapSelect.addEventListener('change', (e) => {\r\n                const value = parseFloat(e.target.value);\r\n                this.swk.setSnapUnit(value);\r\n            });\r\n        }\r\n        \r\n        // History buttons\r\n        const undoBtn = document.getElementById('swk-undo-btn');\r\n        if (undoBtn) {\r\n            undoBtn.addEventListener('click', () => this.swk.undo());\r\n        }\r\n        \r\n        const redoBtn = document.getElementById('swk-redo-btn');\r\n        if (redoBtn) {\r\n            redoBtn.addEventListener('click', () => this.swk.redo());\r\n        }\r\n        \r\n        // Action buttons\r\n        const groupBtn = document.getElementById('swk-group-btn');\r\n        if (groupBtn) {\r\n            groupBtn.addEventListener('click', () => this.swk.groupSelected());\r\n        }\r\n        \r\n        const ungroupBtn = document.getElementById('swk-ungroup-btn');\r\n        if (ungroupBtn) {\r\n            ungroupBtn.addEventListener('click', () => this.swk.ungroupSelected());\r\n        }\r\n        \r\n        const duplicateBtn = document.getElementById('swk-duplicate-btn');\r\n        if (duplicateBtn) {\r\n            duplicateBtn.addEventListener('click', () => this.swk.duplicateObject());\r\n        }\r\n        \r\n        const deleteBtn = document.getElementById('swk-delete-btn');\r\n        if (deleteBtn) {\r\n            deleteBtn.addEventListener('click', () => this.swk.deleteObject());\r\n        }\r\n        \r\n        // Export buttons\r\n        const exportGltfBtn = document.getElementById('swk-export-gltf-btn');\r\n        if (exportGltfBtn) {\r\n            exportGltfBtn.addEventListener('click', () => this.exportGLTF());\r\n        }\r\n        \r\n        const exportStlBtn = document.getElementById('swk-export-stl-btn');\r\n        if (exportStlBtn) {\r\n            exportStlBtn.addEventListener('click', () => this.exportSTL());\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update transform mode buttons\r\n     * @param {string} mode - Current transform mode\r\n     */\r\n    updateTransformMode(mode) {\r\n        const buttons = this.container.querySelectorAll('[data-mode]');\r\n        buttons.forEach(btn => {\r\n            if (btn.getAttribute('data-mode') === mode) {\r\n                btn.classList.add('active');\r\n            } else {\r\n                btn.classList.remove('active');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Update camera mode buttons\r\n     * @param {string} mode - Current camera mode\r\n     */\r\n    updateCameraMode(mode) {\r\n        const buttons = this.container.querySelectorAll('[data-camera]');\r\n        buttons.forEach(btn => {\r\n            if (btn.getAttribute('data-camera') === mode) {\r\n                btn.classList.add('active');\r\n            } else {\r\n                btn.classList.remove('active');\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Update history button states\r\n     * @param {Object} data - History state data\r\n     */\r\n    updateHistoryState(data) {\r\n        const undoBtn = document.getElementById('swk-undo-btn');\r\n        const redoBtn = document.getElementById('swk-redo-btn');\r\n        \r\n        if (undoBtn) {\r\n            undoBtn.disabled = !data.canUndo;\r\n        }\r\n        \r\n        if (redoBtn) {\r\n            redoBtn.disabled = !data.canRedo;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Export scene as GLTF\r\n     */\r\n    async exportGLTF() {\r\n        try {\r\n            const success = await this.swk.exportGLTF();\r\n            if (success) {\r\n                console.log(' GLTF export completed');\r\n            } else {\r\n                console.warn(' GLTF export failed or cancelled');\r\n            }\r\n        } catch (error) {\r\n            console.error(' Failed to export GLTF:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Export scene as STL\r\n     */\r\n    async exportSTL() {\r\n        try {\r\n            const success = await this.swk.exportSTL();\r\n            if (success) {\r\n                console.log(' STL export completed');\r\n            } else {\r\n                console.warn(' STL export failed or cancelled');\r\n            }\r\n        } catch (error) {\r\n            console.error(' Failed to export STL:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Refresh the panel\r\n     */\r\n    refresh() {\r\n        // Update button states based on current state\r\n        this.updateTransformMode(this.swk.transformManager.getMode());\r\n        this.updateCameraMode(this.swk.cameraManager.getMode());\r\n        \r\n        if (this.swk.historyManager) {\r\n            this.updateHistoryState({\r\n                canUndo: this.swk.canUndo(),\r\n                canRedo: this.swk.canRedo()\r\n            });\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clean up\r\n     */\r\n    destroy() {\r\n        this.removeAllListeners();\r\n    }\r\n}\r\n\r\nexport default ControlsPanel;\r\n","/**\r\n * UIManager.js\r\n * Central coordinator for all UI panels and components\r\n * Manages initialization, event coordination, and panel lifecycle\r\n */\r\n\r\nimport EventEmitter from '../core/EventEmitter.js';\r\nimport PropertyPanel from './PropertyPanel.js';\r\nimport ShapesPanel from './ShapesPanel.js';\r\nimport OutlinerPanel from './OutlinerPanel.js';\r\nimport ControlsPanel from './ControlsPanel.js';\r\n\r\nclass UIManager extends EventEmitter {\r\n    /**\r\n     * @param {HTMLElement} container - Main container element\r\n     * @param {SWK} swkInstance - Main SWK instance\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(container, swkInstance, config) {\r\n        super();\r\n        \r\n        this.container = container;\r\n        this.swk = swkInstance;\r\n        this.config = config;\r\n        \r\n        // UI Panels\r\n        this.propertyPanel = null;\r\n        this.shapesPanel = null;\r\n        this.outlinerPanel = null;\r\n        this.controlsPanel = null;\r\n        \r\n        // UI State\r\n        this.isInitialized = false;\r\n        this.uiElements = {};\r\n        \r\n        // Check if UI should be enabled\r\n        this.uiEnabled = config.get('ui.enabled') !== false;\r\n        \r\n        if (this.uiEnabled) {\r\n            this.initialize();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Initialize all UI panels\r\n     */\r\n    initialize() {\r\n        if (this.isInitialized) return;\r\n        \r\n        try {\r\n            // Create main UI structure\r\n            this.createUIStructure();\r\n            \r\n            // Initialize panels\r\n            this.initializePanels();\r\n            \r\n            // Set up event listeners\r\n            this.setupEventListeners();\r\n            \r\n            this.isInitialized = true;\r\n            this.emit('uiInitialized');\r\n            \r\n        } catch (error) {\r\n            console.error('Failed to initialize UI:', error);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Create the main UI structure\r\n     */\r\n    createUIStructure() {\r\n        // Add UI wrapper class to container\r\n        this.container.classList.add('swk-ui-container');\r\n        \r\n        // Create UI wrapper\r\n        const uiWrapper = document.createElement('div');\r\n        uiWrapper.className = 'swk-ui-wrapper';\r\n        \r\n        // Create left sidebar\r\n        const leftSidebar = document.createElement('div');\r\n        leftSidebar.className = 'swk-sidebar swk-sidebar-left';\r\n        leftSidebar.innerHTML = `\r\n            <div id=\"swk-shapes-panel\" class=\"swk-panel\"></div>\r\n            <div id=\"swk-property-panel\" class=\"swk-panel\"></div>\r\n        `;\r\n        \r\n        // Create right sidebar\r\n        const rightSidebar = document.createElement('div');\r\n        rightSidebar.className = 'swk-sidebar swk-sidebar-right';\r\n        rightSidebar.innerHTML = `\r\n            <div id=\"swk-outliner-panel\" class=\"swk-panel\"></div>\r\n        `;\r\n        \r\n        // Create bottom toolbar\r\n        const bottomToolbar = document.createElement('div');\r\n        bottomToolbar.className = 'swk-toolbar swk-toolbar-bottom';\r\n        bottomToolbar.innerHTML = `\r\n            <div id=\"swk-controls-panel\" class=\"swk-panel\"></div>\r\n        `;\r\n        \r\n        // Append to wrapper\r\n        uiWrapper.appendChild(leftSidebar);\r\n        uiWrapper.appendChild(rightSidebar);\r\n        uiWrapper.appendChild(bottomToolbar);\r\n        \r\n        // Append to container\r\n        this.container.appendChild(uiWrapper);\r\n        \r\n        // Store references\r\n        this.uiElements = {\r\n            wrapper: uiWrapper,\r\n            leftSidebar,\r\n            rightSidebar,\r\n            bottomToolbar,\r\n            shapesPanel: document.getElementById('swk-shapes-panel'),\r\n            propertyPanel: document.getElementById('swk-property-panel'),\r\n            outlinerPanel: document.getElementById('swk-outliner-panel'),\r\n            controlsPanel: document.getElementById('swk-controls-panel')\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Initialize all UI panels\r\n     */\r\n    initializePanels() {\r\n        // Initialize Shapes Panel\r\n        if (this.config.get('ui.panels.shapes') !== false) {\r\n            this.shapesPanel = new ShapesPanel(\r\n                this.uiElements.shapesPanel,\r\n                this.swk,\r\n                this.config\r\n            );\r\n            this.shapesPanel.render();\r\n        }\r\n        \r\n        // Initialize Property Panel\r\n        if (this.config.get('ui.panels.properties') !== false) {\r\n            this.propertyPanel = new PropertyPanel(\r\n                this.uiElements.propertyPanel,\r\n                this.swk,\r\n                this.config\r\n            );\r\n            this.propertyPanel.render();\r\n        }\r\n        \r\n        // Initialize Outliner Panel\r\n        if (this.config.get('ui.panels.outliner') !== false) {\r\n            this.outlinerPanel = new OutlinerPanel(\r\n                this.uiElements.outlinerPanel,\r\n                this.swk,\r\n                this.config\r\n            );\r\n            this.outlinerPanel.render();\r\n        }\r\n        \r\n        // Initialize Controls Panel\r\n        if (this.config.get('ui.panels.controls') !== false) {\r\n            this.controlsPanel = new ControlsPanel(\r\n                this.uiElements.controlsPanel,\r\n                this.swk,\r\n                this.config\r\n            );\r\n            this.controlsPanel.render();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set up event listeners for coordination between panels\r\n     */\r\n    setupEventListeners() {\r\n        // Selection changes\r\n        this.swk.on('selectionChanged', (selected) => {\r\n            if (this.propertyPanel) {\r\n                this.propertyPanel.updateSelection(selected);\r\n            }\r\n            if (this.outlinerPanel) {\r\n                this.outlinerPanel.updateSelection(selected);\r\n            }\r\n        });\r\n        \r\n        // Object added\r\n        this.swk.on('objectAdded', (object) => {\r\n            if (this.outlinerPanel) {\r\n                this.outlinerPanel.addObject(object);\r\n            }\r\n        });\r\n        \r\n        // Object removed\r\n        this.swk.on('objectRemoved', (object) => {\r\n            if (this.outlinerPanel) {\r\n                this.outlinerPanel.removeObject(object);\r\n            }\r\n            if (this.propertyPanel) {\r\n                this.propertyPanel.updateSelection([]);\r\n            }\r\n        });\r\n        \r\n        // Transform mode changed\r\n        this.swk.on('transformModeChanged', (mode) => {\r\n            if (this.controlsPanel) {\r\n                this.controlsPanel.updateTransformMode(mode);\r\n            }\r\n        });\r\n        \r\n        // Camera mode changed\r\n        this.swk.on('cameraModeChanged', (mode) => {\r\n            if (this.controlsPanel) {\r\n                this.controlsPanel.updateCameraMode(mode);\r\n            }\r\n        });\r\n        \r\n        // History changed\r\n        this.swk.on('historyChanged', (data) => {\r\n            if (this.controlsPanel) {\r\n                this.controlsPanel.updateHistoryState(data);\r\n            }\r\n            if (this.outlinerPanel) {\r\n                this.outlinerPanel.refresh();\r\n            }\r\n        });\r\n        \r\n        // Group created/removed\r\n        this.swk.on('groupCreated', () => {\r\n            if (this.outlinerPanel) {\r\n                this.outlinerPanel.refresh();\r\n            }\r\n        });\r\n        \r\n        this.swk.on('groupRemoved', () => {\r\n            if (this.outlinerPanel) {\r\n                this.outlinerPanel.refresh();\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Show the UI\r\n     */\r\n    show() {\r\n        if (this.uiElements.wrapper) {\r\n            this.uiElements.wrapper.style.display = '';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Hide the UI\r\n     */\r\n    hide() {\r\n        if (this.uiElements.wrapper) {\r\n            this.uiElements.wrapper.style.display = 'none';\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Toggle UI visibility\r\n     */\r\n    toggle() {\r\n        if (this.uiElements.wrapper) {\r\n            const isHidden = this.uiElements.wrapper.style.display === 'none';\r\n            if (isHidden) {\r\n                this.show();\r\n            } else {\r\n                this.hide();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update a specific panel\r\n     * @param {string} panelName - Name of the panel to update\r\n     */\r\n    updatePanel(panelName) {\r\n        const panel = this[`${panelName}Panel`];\r\n        if (panel && typeof panel.refresh === 'function') {\r\n            panel.refresh();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clean up UI and remove event listeners\r\n     */\r\n    destroy() {\r\n        // Destroy all panels\r\n        if (this.shapesPanel) this.shapesPanel.destroy();\r\n        if (this.propertyPanel) this.propertyPanel.destroy();\r\n        if (this.outlinerPanel) this.outlinerPanel.destroy();\r\n        if (this.controlsPanel) this.controlsPanel.destroy();\r\n        \r\n        // Remove UI elements\r\n        if (this.uiElements.wrapper && this.uiElements.wrapper.parentNode) {\r\n            this.uiElements.wrapper.parentNode.removeChild(this.uiElements.wrapper);\r\n        }\r\n        \r\n        // Clear references\r\n        this.uiElements = {};\r\n        this.propertyPanel = null;\r\n        this.shapesPanel = null;\r\n        this.outlinerPanel = null;\r\n        this.controlsPanel = null;\r\n        \r\n        // Remove all listeners\r\n        this.removeAllListeners();\r\n        \r\n        this.isInitialized = false;\r\n    }\r\n}\r\n\r\nexport default UIManager;\r\n","/**\r\n * ExportManager.js\r\n * Handles exporting the scene to various 3D file formats\r\n * Supports GLTF and STL formats with proper scene preparation\r\n */\r\n\r\nimport EventEmitter from '../core/EventEmitter.js';\r\nimport { getTimestamp, downloadFile } from '../utils/Helpers.js';\r\n\r\nclass ExportManager extends EventEmitter {\r\n    /**\r\n     * @param {THREE.Scene} scene - The Three.js scene\r\n     * @param {SWK} swkInstance - Main SWK instance\r\n     * @param {Object} config - Configuration object\r\n     */\r\n    constructor(scene, swkInstance, config) {\r\n        super();\r\n        \r\n        this.scene = scene;\r\n        this.swk = swkInstance;\r\n        this.config = config;\r\n        \r\n        // Check if exporters are available\r\n        this.hasGLTFExporter = typeof THREE !== 'undefined' && THREE.GLTFExporter;\r\n        this.hasSTLExporter = typeof THREE !== 'undefined' && THREE.STLExporter;\r\n        \r\n        if (!this.hasGLTFExporter) {\r\n            console.warn('ExportManager: GLTFExporter not found. GLTF export will not be available.');\r\n        }\r\n        \r\n        if (!this.hasSTLExporter) {\r\n            console.warn('ExportManager: STLExporter not found. STL export will not be available.');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Prepare scene for export (filter out non-exportable objects)\r\n     * @returns {Array} Array of exportable objects\r\n     */\r\n    prepareSceneForExport() {\r\n        const exportableObjects = [];\r\n        \r\n        this.scene.children.forEach(child => {\r\n            // Only export user-created objects\r\n            if (child.userData && child.userData.isShape) {\r\n                exportableObjects.push(child);\r\n            }\r\n        });\r\n        \r\n        return exportableObjects;\r\n    }\r\n\r\n    /**\r\n     * Create a temporary scene with only exportable objects\r\n     * @returns {THREE.Scene} Temporary scene for export\r\n     */\r\n    createExportScene() {\r\n        const exportScene = new THREE.Scene();\r\n        const objects = this.prepareSceneForExport();\r\n        \r\n        // Clone objects to temporary scene\r\n        objects.forEach(obj => {\r\n            const clone = obj.clone();\r\n            exportScene.add(clone);\r\n        });\r\n        \r\n        return exportScene;\r\n    }\r\n\r\n    /**\r\n     * Export scene as GLTF/GLB format\r\n     * @param {Object} options - Export options\r\n     * @param {boolean} options.binary - Export as GLB (binary) instead of GLTF\r\n     * @param {string} options.filename - Custom filename (without extension)\r\n     * @returns {Promise<boolean>} Success status\r\n     */\r\n    async exportGLTF(options = {}) {\r\n        if (!this.hasGLTFExporter) {\r\n            console.error('GLTFExporter is not available');\r\n            this.emit('exportError', { format: 'gltf', error: 'GLTFExporter not found' });\r\n            return false;\r\n        }\r\n\r\n        const binary = options.binary !== undefined ? options.binary : false;\r\n        const filename = options.filename || `scene-${getTimestamp()}`;\r\n        const extension = binary ? 'glb' : 'gltf';\r\n        \r\n        try {\r\n            this.emit('exportStart', { format: extension });\r\n            \r\n            // Create export scene\r\n            const exportScene = this.createExportScene();\r\n            \r\n            if (exportScene.children.length === 0) {\r\n                console.warn('No objects to export');\r\n                this.emit('exportError', { format: extension, error: 'No objects to export' });\r\n                return false;\r\n            }\r\n            \r\n            // Create exporter\r\n            const exporter = new THREE.GLTFExporter();\r\n            \r\n            // Export options\r\n            const exportOptions = {\r\n                binary: binary,\r\n                embedImages: true,\r\n                truncateDrawRange: false,\r\n                onlyVisible: true,\r\n                maxTextureSize: 4096\r\n            };\r\n            \r\n            // Export\r\n            return new Promise((resolve) => {\r\n                exporter.parse(\r\n                    exportScene,\r\n                    (result) => {\r\n                        try {\r\n                            if (binary) {\r\n                                // GLB - binary format\r\n                                const blob = new Blob([result], { type: 'application/octet-stream' });\r\n                                downloadFile(blob, `${filename}.${extension}`);\r\n                            } else {\r\n                                // GLTF - JSON format\r\n                                const output = JSON.stringify(result, null, 2);\r\n                                const blob = new Blob([output], { type: 'application/json' });\r\n                                downloadFile(blob, `${filename}.${extension}`);\r\n                            }\r\n                            \r\n                            console.log(`Exported ${exportScene.children.length} objects as ${extension.toUpperCase()}`);\r\n                            this.emit('exportComplete', { \r\n                                format: extension, \r\n                                filename: `${filename}.${extension}`,\r\n                                objectCount: exportScene.children.length\r\n                            });\r\n                            resolve(true);\r\n                        } catch (error) {\r\n                            console.error('Failed to download exported file:', error);\r\n                            this.emit('exportError', { format: extension, error: error.message });\r\n                            resolve(false);\r\n                        }\r\n                    },\r\n                    (error) => {\r\n                        console.error('GLTF export failed:', error);\r\n                        this.emit('exportError', { format: extension, error: error.message });\r\n                        resolve(false);\r\n                    },\r\n                    exportOptions\r\n                );\r\n            });\r\n            \r\n        } catch (error) {\r\n            console.error('GLTF export error:', error);\r\n            this.emit('exportError', { format: extension, error: error.message });\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Export scene as STL format\r\n     * @param {Object} options - Export options\r\n     * @param {boolean} options.binary - Export as binary STL instead of ASCII\r\n     * @param {string} options.filename - Custom filename (without extension)\r\n     * @returns {Promise<boolean>} Success status\r\n     */\r\n    async exportSTL(options = {}) {\r\n        if (!this.hasSTLExporter) {\r\n            console.error('STLExporter is not available');\r\n            this.emit('exportError', { format: 'stl', error: 'STLExporter not found' });\r\n            return false;\r\n        }\r\n\r\n        const binary = options.binary !== undefined ? options.binary : true;\r\n        const filename = options.filename || `scene-${getTimestamp()}`;\r\n        \r\n        try {\r\n            this.emit('exportStart', { format: 'stl' });\r\n            \r\n            // Get exportable objects\r\n            const objects = this.prepareSceneForExport();\r\n            \r\n            if (objects.length === 0) {\r\n                console.warn('No objects to export');\r\n                this.emit('exportError', { format: 'stl', error: 'No objects to export' });\r\n                return false;\r\n            }\r\n            \r\n            // Create exporter\r\n            const exporter = new THREE.STLExporter();\r\n            \r\n            // STL can only export one mesh at a time or merged geometry\r\n            // We'll create a group and export it\r\n            const exportGroup = new THREE.Group();\r\n            objects.forEach(obj => {\r\n                exportGroup.add(obj.clone());\r\n            });\r\n            \r\n            // Export\r\n            const result = exporter.parse(exportGroup, { binary: binary });\r\n            \r\n            // Download\r\n            if (binary) {\r\n                // Binary STL\r\n                const blob = new Blob([result], { type: 'application/octet-stream' });\r\n                downloadFile(blob, `${filename}.stl`);\r\n            } else {\r\n                // ASCII STL\r\n                const blob = new Blob([result], { type: 'text/plain' });\r\n                downloadFile(blob, `${filename}.stl`);\r\n            }\r\n            \r\n            console.log(`Exported ${objects.length} objects as STL (${binary ? 'binary' : 'ASCII'})`);\r\n            this.emit('exportComplete', { \r\n                format: 'stl', \r\n                filename: `${filename}.stl`,\r\n                objectCount: objects.length,\r\n                binary: binary\r\n            });\r\n            \r\n            return true;\r\n            \r\n        } catch (error) {\r\n            console.error('STL export error:', error);\r\n            this.emit('exportError', { format: 'stl', error: error.message });\r\n            return false;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Export selected objects only\r\n     * @param {string} format - Export format ('gltf', 'glb', or 'stl')\r\n     * @param {Object} options - Export options\r\n     * @returns {Promise<boolean>} Success status\r\n     */\r\n    async exportSelected(format = 'gltf', options = {}) {\r\n        const selected = this.swk.getSelectedObjects();\r\n        \r\n        if (selected.length === 0) {\r\n            console.warn('No objects selected for export');\r\n            this.emit('exportError', { format, error: 'No objects selected' });\r\n            return false;\r\n        }\r\n        \r\n        // Create temporary scene with selected objects\r\n        const tempScene = new THREE.Scene();\r\n        selected.forEach(obj => {\r\n            tempScene.add(obj.clone());\r\n        });\r\n        \r\n        // Temporarily swap scenes\r\n        const originalScene = this.scene;\r\n        this.scene = tempScene;\r\n        \r\n        let result;\r\n        if (format === 'glb') {\r\n            result = await this.exportGLTF({ ...options, binary: true });\r\n        } else if (format === 'gltf') {\r\n            result = await this.exportGLTF({ ...options, binary: false });\r\n        } else if (format === 'stl') {\r\n            result = await this.exportSTL(options);\r\n        } else {\r\n            console.error('Unknown export format:', format);\r\n            result = false;\r\n        }\r\n        \r\n        // Restore original scene\r\n        this.scene = originalScene;\r\n        \r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get available export formats\r\n     * @returns {Array<Object>} Array of available export formats\r\n     */\r\n    getAvailableFormats() {\r\n        const formats = [];\r\n        \r\n        if (this.hasGLTFExporter) {\r\n            formats.push(\r\n                { format: 'gltf', name: 'GLTF (JSON)', extension: 'gltf', binary: false },\r\n                { format: 'glb', name: 'GLB (Binary)', extension: 'glb', binary: true }\r\n            );\r\n        }\r\n        \r\n        if (this.hasSTLExporter) {\r\n            formats.push(\r\n                { format: 'stl', name: 'STL', extension: 'stl', binary: true }\r\n            );\r\n        }\r\n        \r\n        return formats;\r\n    }\r\n\r\n    /**\r\n     * Check if a format is available\r\n     * @param {string} format - Format to check\r\n     * @returns {boolean} True if available\r\n     */\r\n    isFormatAvailable(format) {\r\n        const formats = this.getAvailableFormats();\r\n        return formats.some(f => f.format === format);\r\n    }\r\n\r\n    /**\r\n     * Clean up\r\n     */\r\n    dispose() {\r\n        this.removeAllListeners();\r\n    }\r\n}\r\n\r\nexport default ExportManager;\r\n","/**\r\n * SenangWebs Kiln (SWK) - Main Entry Point\r\n * A lightweight 3D modeling editor library\r\n */\r\n\r\nimport Config from './core/Config.js';\r\nimport EventEmitter from './core/EventEmitter.js';\r\nimport Initializer from './core/Initializer.js';\r\nimport Scene from './core/Scene.js';\r\nimport Renderer from './core/Renderer.js';\r\nimport Camera from './core/Camera.js';\r\nimport Lighting from './core/Lighting.js';\r\nimport ShapeFactory from './shapes/ShapeFactory.js';\r\nimport Picker from './selection/Picker.js';\r\nimport SelectionManager from './selection/SelectionManager.js';\r\nimport Outliner from './selection/Outliner.js';\r\nimport TransformManager from './transform/TransformManager.js';\r\nimport SnapManager from './transform/SnapManager.js';\r\nimport GroupManager from './grouping/GroupManager.js';\r\nimport HistoryManager from './history/HistoryManager.js';\r\nimport UIManager from './ui/UIManager.js';\r\nimport ExportManager from './export/ExportManager.js';\r\n\r\n/**\r\n * Main SWK Class\r\n */\r\nclass SWK extends EventEmitter {\r\n    constructor(selector, options = {}) {\r\n        super();\r\n        \r\n        // Initialize from selector\r\n        const { container, config } = Initializer.fromAPI(selector, options);\r\n        \r\n        // Set up configuration\r\n        this.config = new Config({ container, ...config });\r\n        this.container = container;\r\n        \r\n        // Core modules\r\n        this.renderer = null;\r\n        this.sceneManager = null;\r\n        this.cameraManager = null;\r\n        this.lighting = null;\r\n        this.shapeFactory = null;\r\n        \r\n        // Selection modules\r\n        this.picker = null;\r\n        this.selectionManager = null;\r\n        this.outliner = null;\r\n        \r\n        // Transform modules\r\n        this.transformManager = null;\r\n        this.snapManager = null;\r\n        \r\n        // Grouping module\r\n        this.groupManager = null;\r\n        \r\n        // History module\r\n        this.historyManager = null;\r\n        \r\n        // UI module\r\n        this.uiManager = null;\r\n        \r\n        // Export module\r\n        this.exportManager = null;\r\n        \r\n        // Object management\r\n        this.objects = [];\r\n        this.selectedObject = null;\r\n        this.selectedObjects = [];\r\n        this.groups = [];\r\n        \r\n        // State\r\n        this.initialized = false;\r\n        this.animationId = null;\r\n        \r\n        // Initialize\r\n        this.init();\r\n    }\r\n\r\n    /**\r\n     * Initialize the editor\r\n     */\r\n    init() {\r\n        if (this.initialized) {\r\n            console.warn('SWK: Already initialized');\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Ensure container has proper styling\r\n            this.setupContainer();\r\n            \r\n            // Initialize core modules\r\n            this.renderer = new Renderer(this.container, this.config);\r\n            this.sceneManager = new Scene(this.config);\r\n            this.cameraManager = new Camera(this.container, this.config);\r\n            this.lighting = new Lighting(this.sceneManager.getScene(), this.config);\r\n            this.shapeFactory = new ShapeFactory(this.config);\r\n            \r\n            // Initialize selection modules\r\n            this.picker = new Picker(this.cameraManager.getCamera(), this.renderer.getRenderer());\r\n            this.selectionManager = new SelectionManager(this);\r\n            this.outliner = new Outliner(this.sceneManager.getScene(), this.config);\r\n            \r\n            // Initialize transform modules\r\n            this.transformManager = new TransformManager(\r\n                this.cameraManager.getCamera(),\r\n                this.renderer.getCanvas(),\r\n                this.sceneManager.getScene(),\r\n                this.config,\r\n                this\r\n            );\r\n            this.snapManager = new SnapManager(\r\n                this.transformManager.getControls(),\r\n                this.config,\r\n                this\r\n            );\r\n            \r\n            // Initialize grouping module\r\n            this.groupManager = new GroupManager(\r\n                this.sceneManager.getScene(),\r\n                this,\r\n                this.config\r\n            );\r\n            \r\n            // Initialize history module\r\n            if (this.config.get('history.enabled')) {\r\n                this.historyManager = new HistoryManager(\r\n                    this.sceneManager.getScene(),\r\n                    this.selectionManager,\r\n                    this.groupManager,\r\n                    this.shapeFactory,\r\n                    {\r\n                        get: (key) => {\r\n                            if (key === 'maxHistory') {\r\n                                return this.config.get('history.maxSize');\r\n                            }\r\n                            return this.config.get(key);\r\n                        }\r\n                    }\r\n                );\r\n                \r\n                // Listen to history events\r\n                this.historyManager.on('stateChanged', (data) => {\r\n                    this.emit('historyChanged', data);\r\n                });\r\n                \r\n                this.historyManager.on('stateRestored', (data) => {\r\n                    this.emit('historyRestored', data);\r\n                    // Update outliner after restore\r\n                    this.updateSelectionOutlines();\r\n                });\r\n            }\r\n            \r\n            // Store transform controls reference for compatibility\r\n            this.transformControls = this.transformManager.getControls();\r\n            \r\n            // Initialize UI module\r\n            if (this.config.get('ui.enabled')) {\r\n                this.uiManager = new UIManager(this.container, this, this.config);\r\n            }\r\n            \r\n            // Initialize export module\r\n            if (this.config.get('features.export')) {\r\n                this.exportManager = new ExportManager(\r\n                    this.sceneManager.getScene(),\r\n                    this,\r\n                    this.config\r\n                );\r\n                \r\n                // Listen to export events\r\n                this.exportManager.on('exportStart', (data) => {\r\n                    this.emit('exportStart', data);\r\n                });\r\n                \r\n                this.exportManager.on('exportComplete', (data) => {\r\n                    this.emit('exportComplete', data);\r\n                });\r\n                \r\n                this.exportManager.on('exportError', (data) => {\r\n                    this.emit('exportError', data);\r\n                });\r\n            }\r\n            \r\n            // Load fonts for text shapes\r\n            this.shapeFactory.loadFonts(() => {\r\n                console.log('SWK: All fonts loaded');\r\n            });\r\n            \r\n            // Set up orbit controls\r\n            this.setupControls();\r\n            \r\n            // Set up event listeners\r\n            this.setupEventListeners();\r\n            \r\n            // Link orbit controls with transform dragging\r\n            this.on('orbitControlsEnabled', (enabled) => {\r\n                if (this.controls) {\r\n                    this.controls.enabled = enabled;\r\n                }\r\n            });\r\n            \r\n            // Start animation loop\r\n            this.animate();\r\n            \r\n            this.initialized = true;\r\n            this.emit('initialized');\r\n            \r\n            console.log('SWK: Editor initialized successfully');\r\n        } catch (error) {\r\n            console.error('SWK: Initialization failed:', error);\r\n            throw error;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Setup container styling\r\n     */\r\n    setupContainer() {\r\n        this.container.style.position = 'relative';\r\n        this.container.style.width = this.config.get('width');\r\n        this.container.style.height = this.config.get('height');\r\n        this.container.style.overflow = 'hidden';\r\n    }\r\n\r\n    /**\r\n     * Setup orbit controls\r\n     */\r\n    setupControls() {\r\n        const camera = this.cameraManager.getCamera();\r\n        const canvas = this.renderer.getCanvas();\r\n        \r\n        this.controls = new THREE.OrbitControls(camera, canvas);\r\n        this.controls.enableDamping = true;\r\n        this.controls.dampingFactor = 0.05;\r\n        this.controls.screenSpacePanning = false;\r\n        this.controls.minDistance = 1;\r\n        this.controls.maxDistance = 100;\r\n        this.controls.maxPolarAngle = Math.PI / 2;\r\n        \r\n        // Link controls to camera manager\r\n        this.cameraManager.setControls(this.controls);\r\n    }\r\n\r\n    /**\r\n     * Setup event listeners\r\n     */\r\n    setupEventListeners() {\r\n        // Canvas click for object selection\r\n        const canvas = this.renderer.getCanvas();\r\n        canvas.addEventListener('click', this.onCanvasClick.bind(this));\r\n        \r\n        // Keyboard shortcuts\r\n        window.addEventListener('keydown', this.onKeyDown.bind(this));\r\n        \r\n        // Transform events for history\r\n        let isTransforming = false;\r\n        this.on('transformDragging', (dragging) => {\r\n            if (!dragging && isTransforming) {\r\n                // Transform ended, capture state\r\n                this.captureState('Transform object');\r\n                isTransforming = false;\r\n            } else if (dragging) {\r\n                isTransforming = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handle canvas click\r\n     */\r\n    onCanvasClick(event) {\r\n        // Check if clicking on transform controls\r\n        if (this.transformControls && this.transformControls.dragging) {\r\n            return;\r\n        }\r\n\r\n        // Pick object at mouse position\r\n        const canvas = this.renderer.getCanvas();\r\n        const intersection = this.picker.pickFromEvent(event, canvas, this.objects, false);\r\n\r\n        if (intersection) {\r\n            // Object clicked\r\n            const clickedObject = intersection.object;\r\n            \r\n            // Check for multi-select (Ctrl key)\r\n            if (event.ctrlKey || event.metaKey) {\r\n                // Multi-select mode\r\n                this.selectionManager.toggle(clickedObject);\r\n            } else {\r\n                // Single select mode\r\n                this.selectionManager.select(clickedObject);\r\n            }\r\n\r\n            // Update transform controls\r\n            if (this.selectionManager.getSelectionCount() === 1) {\r\n                this.transformControls.attach(clickedObject);\r\n            } else {\r\n                this.transformControls.detach();\r\n            }\r\n\r\n            // Update outlines\r\n            this.updateSelectionOutlines();\r\n        } else {\r\n            // Empty space clicked - deselect\r\n            this.deselectAll();\r\n        }\r\n        \r\n        // Emit click event\r\n        this.emit('canvasClick', { \r\n            mouse: this.picker.getMousePosition(), \r\n            event,\r\n            intersection \r\n        });\r\n    }\r\n\r\n    /**\r\n     * Handle keyboard shortcuts\r\n     */\r\n    onKeyDown(event) {\r\n        // Undo/Redo shortcuts (Ctrl+Z, Ctrl+Y, Ctrl+Shift+Z)\r\n        if (event.ctrlKey || event.metaKey) {\r\n            if (event.key.toLowerCase() === 'z') {\r\n                if (event.shiftKey) {\r\n                    // Ctrl+Shift+Z = Redo\r\n                    this.redo();\r\n                } else {\r\n                    // Ctrl+Z = Undo\r\n                    this.undo();\r\n                }\r\n                event.preventDefault();\r\n                return;\r\n            } else if (event.key.toLowerCase() === 'y') {\r\n                // Ctrl+Y = Redo\r\n                this.redo();\r\n                event.preventDefault();\r\n                return;\r\n            }\r\n        }\r\n        \r\n        // Transform mode shortcuts (T, R, S)\r\n        if (!event.ctrlKey && !event.metaKey && !event.altKey) {\r\n            switch (event.key.toLowerCase()) {\r\n                case 't':\r\n                    this.setTransformMode('translate');\r\n                    event.preventDefault();\r\n                    break;\r\n                case 'r':\r\n                    this.setTransformMode('rotate');\r\n                    event.preventDefault();\r\n                    break;\r\n                case 's':\r\n                    this.setTransformMode('scale');\r\n                    event.preventDefault();\r\n                    break;\r\n                case 'delete':\r\n                case 'backspace':\r\n                    // Delete selected objects\r\n                    const selected = this.selectionManager.getSelectedObjects();\r\n                    selected.forEach(obj => this.deleteObject(obj));\r\n                    event.preventDefault();\r\n                    break;\r\n            }\r\n        }\r\n        \r\n        // Emit keydown event\r\n        this.emit('keydown', event);\r\n    }\r\n\r\n    /**\r\n     * Animation loop\r\n     */\r\n    animate() {\r\n        this.animationId = requestAnimationFrame(this.animate.bind(this));\r\n        \r\n        // Update controls\r\n        if (this.controls) {\r\n            this.controls.update();\r\n        }\r\n\r\n        // Sync outlines with mesh transforms\r\n        if (this.outliner) {\r\n            this.outliner.syncOutlines();\r\n        }\r\n        \r\n        // Render scene\r\n        const scene = this.sceneManager.getScene();\r\n        const camera = this.cameraManager.getCamera();\r\n        this.renderer.render(scene, camera);\r\n        \r\n        // Emit render event\r\n        this.emit('render');\r\n    }\r\n\r\n    /**\r\n     * Get scene\r\n     */\r\n    getScene() {\r\n        return this.sceneManager ? this.sceneManager.getScene() : null;\r\n    }\r\n\r\n    /**\r\n     * Get renderer\r\n     */\r\n    getRenderer() {\r\n        return this.renderer ? this.renderer.getRenderer() : null;\r\n    }\r\n\r\n    /**\r\n     * Get camera\r\n     */\r\n    getCamera() {\r\n        return this.cameraManager ? this.cameraManager.getCamera() : null;\r\n    }\r\n\r\n    /**\r\n     * Set camera mode\r\n     */\r\n    setCameraMode(mode) {\r\n        if (this.cameraManager) {\r\n            this.cameraManager.setMode(mode);\r\n            if (this.transformManager) {\r\n                this.transformManager.setCamera(this.cameraManager.getCamera());\r\n            }\r\n            if (this.picker) {\r\n                this.picker.setCamera(this.cameraManager.getCamera());\r\n            }\r\n            this.emit('cameraModeChanged', mode);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get camera mode\r\n     */\r\n    getCameraMode() {\r\n        return this.cameraManager ? this.cameraManager.getMode() : null;\r\n    }\r\n\r\n    /**\r\n     * Set background color\r\n     */\r\n    setBackground(color) {\r\n        if (this.renderer) {\r\n            this.renderer.setBackgroundColor(color);\r\n            this.emit('backgroundChanged', color);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Reset camera\r\n     */\r\n    resetCamera() {\r\n        if (this.cameraManager) {\r\n            this.cameraManager.reset();\r\n            this.emit('cameraReset');\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Add shape to scene\r\n     */\r\n    addShape(type, options = {}) {\r\n        const mesh = this.shapeFactory.createShape(type, options);\r\n        \r\n        if (!mesh) {\r\n            console.warn(`SWK: Failed to create shape: ${type}`);\r\n            return null;\r\n        }\r\n\r\n        // Add to scene\r\n        this.sceneManager.add(mesh);\r\n        this.objects.push(mesh);\r\n\r\n        // Emit event\r\n        this.emit('objectAdded', mesh);\r\n\r\n        // Execute callback\r\n        const callback = this.config.get('callbacks.onObjectAdded');\r\n        if (callback && typeof callback === 'function') {\r\n            callback(mesh);\r\n        }\r\n\r\n        // Capture state for undo\r\n        this.captureState(`Add ${mesh.name}`);\r\n\r\n        console.log(`SWK: Added ${mesh.name}`);\r\n        return mesh;\r\n    }\r\n\r\n    /**\r\n     * Delete object from scene\r\n     */\r\n    deleteObject(mesh) {\r\n        if (!mesh) return false;\r\n\r\n        // Remove from scene\r\n        this.sceneManager.remove(mesh);\r\n\r\n        // Remove from objects array\r\n        const index = this.objects.indexOf(mesh);\r\n        if (index > -1) {\r\n            this.objects.splice(index, 1);\r\n        }\r\n\r\n        // Deselect if selected\r\n        if (this.selectedObject === mesh) {\r\n            this.deselectAll();\r\n        }\r\n        \r\n        // Remove from multi-selection\r\n        const multiIndex = this.selectedObjects.indexOf(mesh);\r\n        if (multiIndex > -1) {\r\n            this.selectedObjects.splice(multiIndex, 1);\r\n        }\r\n\r\n        // Dispose geometry and material\r\n        if (mesh.geometry) mesh.geometry.dispose();\r\n        if (mesh.material) {\r\n            if (Array.isArray(mesh.material)) {\r\n                mesh.material.forEach(m => m.dispose());\r\n            } else {\r\n                mesh.material.dispose();\r\n            }\r\n        }\r\n\r\n        // Emit event\r\n        this.emit('objectRemoved', mesh);\r\n\r\n        // Execute callback\r\n        const callback = this.config.get('callbacks.onObjectRemoved');\r\n        if (callback && typeof callback === 'function') {\r\n            callback(mesh);\r\n        }\r\n\r\n        // Capture state for undo\r\n        this.captureState(`Delete ${mesh.name}`);\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Duplicate object\r\n     */\r\n    duplicateObject(mesh) {\r\n        if (!mesh) return null;\r\n\r\n        const shapeType = mesh.userData.shapeType;\r\n        const options = {\r\n            color: mesh.userData.color\r\n        };\r\n\r\n        // Copy text options if it's a text shape\r\n        if (shapeType === 'text') {\r\n            options.text = mesh.userData.textContent;\r\n            options.font = mesh.userData.textFont;\r\n            options.height = mesh.userData.textHeight;\r\n            options.bevel = mesh.userData.textBevel;\r\n        }\r\n\r\n        const duplicate = this.shapeFactory.createShape(shapeType, options);\r\n        \r\n        if (!duplicate) return null;\r\n\r\n        // Copy transform\r\n        duplicate.position.copy(mesh.position);\r\n        duplicate.position.x += 0.5; // Offset slightly\r\n        duplicate.rotation.copy(mesh.rotation);\r\n        duplicate.scale.copy(mesh.scale);\r\n\r\n        // Add to scene\r\n        this.sceneManager.add(duplicate);\r\n        this.objects.push(duplicate);\r\n\r\n        // Emit event\r\n        this.emit('objectAdded', duplicate);\r\n\r\n        // Capture state for undo\r\n        this.captureState(`Duplicate ${mesh.name}`);\r\n\r\n        return duplicate;\r\n    }\r\n\r\n    /**\r\n     * Get all objects\r\n     */\r\n    getAllObjects() {\r\n        return [...this.objects];\r\n    }\r\n\r\n    /**\r\n     * Select object\r\n     */\r\n    selectObject(mesh) {\r\n        if (!mesh) return;\r\n\r\n        this.selectionManager.select(mesh);\r\n        this.updateSelectionOutlines();\r\n\r\n        // Attach transform controls\r\n        if (this.transformControls) {\r\n            this.transformControls.attach(mesh);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Deselect all\r\n     */\r\n    deselectAll() {\r\n        this.selectionManager.clear();\r\n        this.updateSelectionOutlines();\r\n\r\n        // Detach transform controls\r\n        if (this.transformControls) {\r\n            this.transformControls.detach();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Update outlines based on selection\r\n     */\r\n    updateSelectionOutlines() {\r\n        // Clear all outlines\r\n        this.outliner.clearAllOutlines();\r\n\r\n        // Create outlines for selected objects\r\n        const selected = this.selectionManager.getSelectedObjects();\r\n        if (selected.length > 0) {\r\n            this.outliner.createOutlines(selected);\r\n        }\r\n\r\n        // Update internal references for compatibility\r\n        this.selectedObjects = selected;\r\n        this.selectedObject = this.selectionManager.getSelectedObject();\r\n\r\n        // Execute callback\r\n        const callback = this.config.get('callbacks.onSelectionChanged');\r\n        if (callback && typeof callback === 'function') {\r\n            callback(selected, []);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get selected objects\r\n     */\r\n    getSelectedObjects() {\r\n        return [...this.selectedObjects];\r\n    }\r\n\r\n    /**\r\n     * Get first selected object\r\n     */\r\n    getSelectedObject() {\r\n        return this.selectedObject;\r\n    }\r\n\r\n    /**\r\n     * Set transform mode\r\n     */\r\n    setTransformMode(mode) {\r\n        if (this.transformManager) {\r\n            this.transformManager.setMode(mode);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get transform mode\r\n     */\r\n    getTransformMode() {\r\n        return this.transformManager ? this.transformManager.getMode() : null;\r\n    }\r\n\r\n    /**\r\n     * Set transform space\r\n     */\r\n    setTransformSpace(space) {\r\n        if (this.transformManager) {\r\n            this.transformManager.setSpace(space);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get transform space\r\n     */\r\n    getTransformSpace() {\r\n        return this.transformManager ? this.transformManager.getSpace() : null;\r\n    }\r\n\r\n    /**\r\n     * Set snap unit\r\n     */\r\n    setSnapUnit(value) {\r\n        if (this.snapManager) {\r\n            this.snapManager.setSnapUnit(value);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get snap unit\r\n     */\r\n    getSnapUnit() {\r\n        return this.snapManager ? this.snapManager.getSnapUnit() : 0;\r\n    }\r\n\r\n    /**\r\n     * Toggle snap\r\n     */\r\n    toggleSnap() {\r\n        if (this.snapManager) {\r\n            this.snapManager.toggleSnap();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Group selected objects\r\n     */\r\n    groupSelected() {\r\n        if (!this.groupManager) return null;\r\n\r\n        const selected = this.selectionManager.getSelectedObjects();\r\n        \r\n        if (selected.length < 1) {\r\n            console.warn('SWK: No objects selected for grouping');\r\n            return null;\r\n        }\r\n\r\n        // Remove outlines from objects being grouped\r\n        this.outliner.removeOutlines(selected);\r\n\r\n        // Create group\r\n        const groupContainer = this.groupManager.createGroup(selected);\r\n\r\n        if (groupContainer) {\r\n            // Deselect all and select the group\r\n            this.deselectAll();\r\n            this.selectObject(groupContainer);\r\n\r\n            // Update internal groups reference\r\n            this.groups = this.groupManager.getAllGroups();\r\n            \r\n            // Capture state for undo\r\n            this.captureState(`Create group ${groupContainer.name}`);\r\n        }\r\n\r\n        return groupContainer;\r\n    }\r\n\r\n    /**\r\n     * Ungroup selected group\r\n     */\r\n    ungroupSelected() {\r\n        if (!this.groupManager) return null;\r\n\r\n        const selected = this.selectionManager.getSelectedObject();\r\n\r\n        if (!selected || !this.groupManager.isGroupContainer(selected)) {\r\n            console.warn('SWK: Selected object is not a group');\r\n            return null;\r\n        }\r\n\r\n        // Ungroup\r\n        const ungroupedObjects = this.groupManager.ungroup(selected);\r\n\r\n        if (ungroupedObjects && ungroupedObjects.length > 0) {\r\n            // Deselect all\r\n            this.deselectAll();\r\n\r\n            // Update internal groups reference\r\n            this.groups = this.groupManager.getAllGroups();\r\n            \r\n            // Capture state for undo\r\n            this.captureState(`Ungroup ${selected.name}`);\r\n        }\r\n\r\n        return ungroupedObjects;\r\n    }\r\n\r\n    /**\r\n     * Check if object is grouped\r\n     */\r\n    isGrouped(object) {\r\n        return this.groupManager ? this.groupManager.isGrouped(object) : false;\r\n    }\r\n\r\n    /**\r\n     * Check if object is a group container\r\n     */\r\n    isGroupContainer(object) {\r\n        return this.groupManager ? this.groupManager.isGroupContainer(object) : false;\r\n    }\r\n\r\n    /**\r\n     * Get all groups\r\n     */\r\n    getAllGroups() {\r\n        return this.groupManager ? this.groupManager.getAllGroups() : [];\r\n    }\r\n\r\n    /**\r\n     * Get group children\r\n     */\r\n    getGroupChildren(groupContainer) {\r\n        return this.groupManager ? this.groupManager.getGroupChildren(groupContainer) : [];\r\n    }\r\n\r\n    // ==================== History Methods ====================\r\n\r\n    /**\r\n     * Capture current state to history\r\n     * @param {string} description - Description of the action\r\n     */\r\n    captureState(description = 'Action') {\r\n        if (this.historyManager) {\r\n            return this.historyManager.captureState(description);\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Undo the last action\r\n     * @returns {boolean} Success\r\n     */\r\n    undo() {\r\n        if (this.historyManager) {\r\n            const success = this.historyManager.undo();\r\n            if (success) {\r\n                // Refresh objects list\r\n                this.objects = this.getAllObjects();\r\n                this.groups = this.getAllGroups();\r\n            }\r\n            return success;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Redo the last undone action\r\n     * @returns {boolean} Success\r\n     */\r\n    redo() {\r\n        if (this.historyManager) {\r\n            const success = this.historyManager.redo();\r\n            if (success) {\r\n                // Refresh objects list\r\n                this.objects = this.getAllObjects();\r\n                this.groups = this.getAllGroups();\r\n            }\r\n            return success;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    /**\r\n     * Check if undo is available\r\n     * @returns {boolean}\r\n     */\r\n    canUndo() {\r\n        return this.historyManager ? this.historyManager.canUndo() : false;\r\n    }\r\n\r\n    /**\r\n     * Check if redo is available\r\n     * @returns {boolean}\r\n     */\r\n    canRedo() {\r\n        return this.historyManager ? this.historyManager.canRedo() : false;\r\n    }\r\n\r\n    /**\r\n     * Get history statistics\r\n     * @returns {Object}\r\n     */\r\n    getHistoryStats() {\r\n        return this.historyManager ? this.historyManager.getStats() : null;\r\n    }\r\n\r\n    /**\r\n     * Clear history\r\n     */\r\n    clearHistory() {\r\n        if (this.historyManager) {\r\n            this.historyManager.clear();\r\n        }\r\n    }\r\n\r\n    // ==================== Export Methods ====================\r\n\r\n    /**\r\n     * Export scene as GLTF\r\n     * @param {Object} options - Export options\r\n     * @returns {Promise<boolean>}\r\n     */\r\n    async exportGLTF(options = {}) {\r\n        if (!this.exportManager) {\r\n            console.warn('Export manager not initialized');\r\n            return false;\r\n        }\r\n        return await this.exportManager.exportGLTF({ ...options, binary: false });\r\n    }\r\n\r\n    /**\r\n     * Export scene as GLB (binary GLTF)\r\n     * @param {Object} options - Export options\r\n     * @returns {Promise<boolean>}\r\n     */\r\n    async exportGLB(options = {}) {\r\n        if (!this.exportManager) {\r\n            console.warn('Export manager not initialized');\r\n            return false;\r\n        }\r\n        return await this.exportManager.exportGLTF({ ...options, binary: true });\r\n    }\r\n\r\n    /**\r\n     * Export scene as STL\r\n     * @param {Object} options - Export options\r\n     * @returns {Promise<boolean>}\r\n     */\r\n    async exportSTL(options = {}) {\r\n        if (!this.exportManager) {\r\n            console.warn('Export manager not initialized');\r\n            return false;\r\n        }\r\n        return await this.exportManager.exportSTL(options);\r\n    }\r\n\r\n    /**\r\n     * Export selected objects only\r\n     * @param {string} format - Export format ('gltf', 'glb', or 'stl')\r\n     * @param {Object} options - Export options\r\n     * @returns {Promise<boolean>}\r\n     */\r\n    async exportSelected(format = 'gltf', options = {}) {\r\n        if (!this.exportManager) {\r\n            console.warn('Export manager not initialized');\r\n            return false;\r\n        }\r\n        return await this.exportManager.exportSelected(format, options);\r\n    }\r\n\r\n    /**\r\n     * Get available export formats\r\n     * @returns {Array<Object>}\r\n     */\r\n    getAvailableExportFormats() {\r\n        if (!this.exportManager) {\r\n            return [];\r\n        }\r\n        return this.exportManager.getAvailableFormats();\r\n    }\r\n\r\n    // ==================== Lifecycle Methods ====================\r\n\r\n    /**\r\n     * Destroy instance and cleanup\r\n     */\r\n    destroy() {\r\n        // Stop animation\r\n        if (this.animationId) {\r\n            cancelAnimationFrame(this.animationId);\r\n            this.animationId = null;\r\n        }\r\n        \r\n        // Remove event listeners\r\n        const canvas = this.renderer ? this.renderer.getCanvas() : null;\r\n        if (canvas) {\r\n            canvas.removeEventListener('click', this.onCanvasClick.bind(this));\r\n        }\r\n        window.removeEventListener('keydown', this.onKeyDown.bind(this));\r\n        \r\n        // Dispose modules\r\n        if (this.uiManager) this.uiManager.destroy();\r\n        if (this.exportManager) this.exportManager.dispose();\r\n        if (this.groupManager) this.groupManager.clearAllGroups();\r\n        if (this.historyManager) this.historyManager.dispose();\r\n        if (this.transformManager) this.transformManager.dispose();\r\n        if (this.outliner) this.outliner.dispose();\r\n        if (this.lighting) this.lighting.dispose();\r\n        if (this.cameraManager) this.cameraManager.dispose();\r\n        if (this.sceneManager) this.sceneManager.dispose();\r\n        if (this.renderer) this.renderer.dispose();\r\n        \r\n        // Clear references\r\n        this.renderer = null;\r\n        this.sceneManager = null;\r\n        this.cameraManager = null;\r\n        this.lighting = null;\r\n        this.shapeFactory = null;\r\n        this.picker = null;\r\n        this.selectionManager = null;\r\n        this.outliner = null;\r\n        this.transformManager = null;\r\n        this.snapManager = null;\r\n        this.groupManager = null;\r\n        this.historyManager = null;\r\n        this.uiManager = null;\r\n        this.exportManager = null;\r\n        this.controls = null;\r\n        this.transformControls = null;\r\n        this.objects = [];\r\n        this.selectedObjects = [];\r\n        this.selectedObject = null;\r\n        this.groups = [];\r\n        \r\n        // Remove all event listeners\r\n        this.removeAllListeners();\r\n        \r\n        this.initialized = false;\r\n        console.log('SWK: Editor destroyed');\r\n    }\r\n}\r\n\r\n/**\r\n * Auto-initialize on DOM ready\r\n */\r\nif (typeof window !== 'undefined') {\r\n    // Auto-init on DOMContentLoaded\r\n    if (document.readyState === 'loading') {\r\n        document.addEventListener('DOMContentLoaded', () => {\r\n            SWK.autoInit = () => Initializer.autoInit(SWK);\r\n            // Don't auto-init automatically, let user call SWK.autoInit() if needed\r\n        });\r\n    } else {\r\n        SWK.autoInit = () => Initializer.autoInit(SWK);\r\n    }\r\n}\r\n\r\n// Export for ES6 modules and UMD\r\nexport default SWK;\r\n\r\n// For UMD/browser global\r\nif (typeof window !== 'undefined') {\r\n    window.SWK = SWK;\r\n}\r\n"],"names":["root","factory","exports","module","define","amd","this","__webpack_require__","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","SHAPE_TYPES","BOX","SPHERE","CYLINDER","CONE","TORUS","PLANE","PYRAMID","TORUS_KNOT","TETRAHEDRON","OCTAHEDRON","ICOSAHEDRON","DODECAHEDRON","TEXT","TRANSFORM_MODES","TRANSLATE","ROTATE","SCALE","CAMERA_MODES","PERSPECTIVE","ORTHOGRAPHIC","SNAP_VALUES","DEFAULT_COLORS","VIEWPORT_BG","GRID_CENTER","GRID_LINES","OUTLINE","SHAPE_DEFAULT","GRID_SETTINGS","LIGHTING","AMBIENT_INTENSITY","AMBIENT_COLOR","DIRECTIONAL_INTENSITY","DIRECTIONAL_COLOR","DIRECTIONAL_POSITION","CAMERA_SETTINGS","deepMerge","target","source","output","_objectSpread","isObject","keys","forEach","assign","_defineProperty","item","_typeof","Array","isArray","downloadFile","blob","filename","link","document","createElement","href","URL","createObjectURL","download","click","revokeObjectURL","getTimestamp","Date","now","parseDataAttributes","element","config","dataset","_loop","startsWith","configPath","replace","str","toLowerCase","match","letter","offset","beforeLetter","substring","_i","_nestedProps","length","parsedValue","value","includes","split","map","v","trimmed","trim","isNaN","parseFloat","path","_step","lastKey","pop","_iterator","_createForOfIteratorHelper","s","n","done","err","e","f","setNestedProperty","DEFAULT_CONFIG","container","width","height","viewportBackground","concat","toString","padStart","outlineColor","outlineThickness","grid","show","size","divisions","centerColor","linesColor","camera","mode","fov","near","far","position","_toConsumableArray","transform","space","snapUnit","lighting","ambient","intensity","color","directional","castShadow","ui","enabled","panels","shapes","properties","outliner","controls","features","grouping","undo","export","history","maxSize","callbacks","onObjectAdded","onObjectRemoved","onSelectionChanged","onTransformChange","onGroupCreated","onGroupRemoved","Config","userConfig","arguments","undefined","_classCallCheck","mergeConfig","validate","Error","values","_step2","_iterator2","EventEmitter","events","event","callback","push","_this","wrapper","apply","off","on","filter","cb","_len","args","_key","error","Initializer","selector","options","querySelector","HTMLElement","SWKClass","elements","querySelectorAll","instances","instance","parsedConfig","Scene","scene","gridHelper","init","THREE","createGrid","hexToNumber","GridHelper","add","hex","parseInt","object","remove","visible","geometry","dispose","material","Renderer","renderer","WebGLRenderer","antialias","alpha","clientWidth","clientHeight","setSize","setPixelRatio","window","devicePixelRatio","bgColor","setClearColor","shadowMap","type","PCFSoftShadowMap","appendChild","domElement","addEventListener","onResize","bind","render","removeEventListener","parentNode","removeChild","Camera","perspectiveCamera","orthographicCamera","currentCamera","currentMode","_this$perspectiveCame","_this$orthographicCam","aspect","PerspectiveCamera","OrthographicCamera","frustumSize","set","updateProjectionMatrix","left","right","top","bottom","currentPosition","clone","currentTarget","Vector3","copy","update","_this$currentCamera$p","Lighting","ambientLight","directionalLight","_this$directionalLigh","ambientIntensity","ambientColor","AmbientLight","directionalIntensity","directionalColor","DirectionalLight","shadow","mapSize","ShapeFactory","fontLoader","FontLoader","fonts","shapeCounters","box","sphere","cylinder","cone","torus","plane","pyramid","torusknot","tetrahedron","octahedron","icosahedron","dodecahedron","text","onComplete","fontUrls","sans","mono","serif","loadedCount","totalFonts","_Object$entries$_i","_slicedToArray","_Object$entries","fontName","url","load","font","entries","name","shapeType","isFlat","BoxGeometry","SphereGeometry","CylinderGeometry","ConeGeometry","TorusGeometry","PlaneGeometry","TorusKnotGeometry","TetrahedronGeometry","OctahedronGeometry","IcosahedronGeometry","DodecahedronGeometry","textContent","bevel","createTextGeometry","computeBoundingBox","computeBoundingSphere","center","MeshStandardMaterial","roughness","metalness","transparent","opacity","mesh","Mesh","receiveShadow","userData","bbox","boundingBox","max","y","min","textFont","textHeight","textBevel","TextGeometry","curveSegments","bevelEnabled","bevelThickness","bevelSize","bevelSegments","newGeometry","counters","Picker","raycaster","Raycaster","mouse","Vector2","canvas","rect","getBoundingClientRect","x","clientX","clientY","objects","recursive","setFromCamera","intersects","intersectObjects","updateMousePosition","pick","SelectionManager","eventEmitter","selectedObjects","selectedObject","previousSelection","emit","index","indexOf","splice","removeFromSelection","addToSelection","Outliner","outlineMap","Map","removeOutline","outlineGeometry","outlineMaterial","MeshBasicMaterial","side","BackSide","depthWrite","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","outlineMesh","isText","updateOutlineTransform","outline","worldPosition","worldQuaternion","Quaternion","worldScale","getWorldPosition","getWorldQuaternion","getWorldScale","offsetAmount","quaternion","scale","multiplyScalar","outlineData","_step$value","meshes","createOutline","_this2","_step2$value","clear","_step3","_iterator3","_step3$value","has","clearAllOutlines","TransformManager","transformControls","currentSpace","TransformControls","setMode","setSpace","onChange","onDraggingChanged","onObjectChange","attach","detach","dragging","SnapManager","rotationSnapDegrees","applySnap","setTranslationSnap","rotationSnapRadians","Math","PI","setRotationSnap","setScaleSnap","degrees","setSnapUnit","nextIndex","GroupManager","groups","groupIdCounter","groupId","groupName","group","id","children","isDirty","computeGroupContainer","Box3","child","expandByObject","getCenter","groupContainer","Group","isGroupResult","worldPos","worldQuat","parent","sub","groupIndex","findIndex","g","ungroupedObjects","worldRotation","find","getGroupById","getGroupByContainer","isGrouped","newName","findObjectGroup","removeFromGroup","groupCenter","ungroup","totalGroups","childCount","StateCapture","selectionManager","groupManager","shapeFactory","state","timestamp","selection","isUserObject","isGroupContainer","serializeGroup","serializeObject","getSelectedObjects","uuid","data","toArray","rotation","getHex","wireframe","getGroupChildren","_this3","restoredObjects","uuidMap","objData","deserializeObject","groupData","_this3$deserializeGro","deserializeGroup","createGroup","fromArray","_data$material","slice","createShape","_this4","childData","JSON","parse","stringify","stateA","stateB","_EventEmitter","HistoryManager","_callSuper","undoStack","redoStack","maxHistory","isRestoring","captureState","_inherits","description","lastState","areStatesEqual","shift","canUndo","canRedo","undoCount","redoCount","currentState","previousEntry","restoreState","action","redoEntry","_this$undoStack","_this$redoStack","memoryUsage","estimateMemoryUsage","removeAllListeners","t","r","Symbol","iterator","toStringTag","i","c","Generator","u","create","_regeneratorDefine2","p","G","a","d","l","TypeError","GeneratorFunction","GeneratorFunctionPrototype","getPrototypeOf","setPrototypeOf","__proto__","displayName","_regenerator","w","m","_invoke","configurable","writable","asyncGeneratorStep","Promise","resolve","then","_defineProperties","_toPropertyKey","toPrimitive","String","Number","_toPrimitive","_getPrototypeOf","ReferenceError","_assertThisInitialized","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","constructor","Boolean","valueOf","_setPrototypeOf","PropertyPanel","swkInstance","swk","isUpdating","innerHTML","contentElement","getElementById","refresh","showEmptyState","showSingleObjectProperties","showMultipleObjectsProperties","isGroup","toFixed","z","getHexString","fontType","fontSize","attachEventListeners","nameInput","property","axis","input","colorInput","visibleInput","checked","textInput","updateTextGeometry","fontInput","fontSizeInput","_callee","_context","_updateTextGeometry","_next","_throw","_x","_x2","_x3","_x4","ShapesPanel","label","icon","TORUSKNOT","shape","button","className","setAttribute","title","prompt","addShape","selectObject","_createShape","OutlinerPanel","expandedGroups","Set","refreshBtn","tree","getAllObjects","createTreeItem","level","isSelected","isExpanded","classList","indent","getShapeIcon","contains","toggle","stopPropagation","toggleGroup","childItem","_this5","_asyncToGenerator","ControlsPanel","btn","getAttribute","setTransformMode","setCameraMode","snapSelect","undoBtn","redoBtn","redo","groupBtn","groupSelected","ungroupBtn","ungroupSelected","duplicateBtn","duplicateObject","deleteBtn","deleteObject","exportGltfBtn","exportGLTF","exportStlBtn","exportSTL","disabled","_exportGLTF","_exportSTL","_callee2","_context2","updateTransformMode","transformManager","getMode","updateCameraMode","cameraManager","historyManager","updateHistoryState","UIManager","propertyPanel","shapesPanel","outlinerPanel","controlsPanel","isInitialized","uiElements","uiEnabled","initialize","createUIStructure","initializePanels","setupEventListeners","uiWrapper","leftSidebar","rightSidebar","bottomToolbar","selected","updateSelection","addObject","removeObject","style","display","hide","panelName","panel","destroy","ExportManager","hasGLTFExporter","GLTFExporter","hasSTLExporter","STLExporter","exportableObjects","isShape","exportScene","prepareSceneForExport","binary","extension","exporter","exportOptions","_t","_args","format","createExportScene","embedImages","truncateDrawRange","onlyVisible","maxTextureSize","result","Blob","objectCount","message","exportGroup","_t2","_args2","_exportSelected","_callee3","tempScene","originalScene","_args3","_context3","formats","getAvailableFormats","some","_arrayLikeToArray","_arrayWithoutHoles","from","_iterableToArray","test","_unsupportedIterableToArray","_nonIterableSpread","ownKeys","getOwnPropertySymbols","getOwnPropertyDescriptor","getOwnPropertyDescriptors","defineProperties","SWK","_Initializer$fromAPI","fromAPI","sceneManager","picker","snapManager","uiManager","exportManager","initialized","animationId","setupContainer","getScene","getCamera","getRenderer","getCanvas","getControls","updateSelectionOutlines","loadFonts","setupControls","animate","overflow","OrbitControls","enableDamping","dampingFactor","screenSpacePanning","minDistance","maxDistance","maxPolarAngle","setControls","onCanvasClick","onKeyDown","isTransforming","intersection","pickFromEvent","clickedObject","ctrlKey","metaKey","select","getSelectionCount","deselectAll","getMousePosition","shiftKey","preventDefault","altKey","requestAnimationFrame","syncOutlines","setCamera","setBackgroundColor","reset","multiIndex","duplicate","createOutlines","getSelectedObject","getSpace","getSnapUnit","toggleSnap","removeOutlines","getAllGroups","success","getStats","_exportGLB","_callee4","_args4","_context4","exportSelected","cancelAnimationFrame","clearAllGroups","readyState","autoInit"],"sourceRoot":""}